{"mappings":"UAAAA,EAAAC,OAAAD,EASAE,EATAD,EASA,WACA,OAAA,SAAAE,GCTA,IAAAC,EAAA,GAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,GAAA,CACAC,QAAA,GACAE,GAAAH,EACAI,QAAA,GAUA,OANAP,EAAAG,GAAAK,KAAAH,EAAAD,QAAAC,EAAAA,EAAAD,QAAAF,GAGAG,EAAAE,QAAA,EAGAF,EAAAD,QAcA,OATAF,EAAAO,EAAAT,EAGAE,EAAAQ,EAAAT,EAGAC,EAAAS,EAAA,GAGAT,EAAA,GD5BA,kBEVA,mBAEOU,KAAOV,EAAM,8BAELG,EAAAD,QAAAQ,wRCuGCR,EAAAS,kBACZ,OAAOC,EAAMD,QAEDT,EAAAW,mBACZ,OAAOD,EAAMC,SAEDX,EAAAY,iBACZ,OAAOF,EAAME,wDAhHV,MAAAC,EAAUC,EAAAhB,EAAM,IAChBiB,EAAID,EAAAhB,EAAM,IACVkB,EAAIF,EAAAhB,EAAM,KACVmB,EAAIH,EAAAhB,EAAM,KACLoB,KAASpB,EAAM,iCAEvBqB,EAAUrB,EAAQ,IAClBsB,EAAQtB,EAAQ,IAChBuB,EAAQvB,EAAQ,IAChBwB,EAAWxB,EAAQ,IACnByB,EAASzB,EAAQ,IAEd0B,EAAQV,EAAAhB,EAAM,KACd2B,EAAQX,EAAAhB,EAAM,KA0FjBY,EAAQ,IAnFN,oBAAAF,EAEUG,GAER,IAAK,IAAIe,iGAJXC,CAAAC,KAAApB,GAIkBK,EACZe,KAAKF,GAAOb,EAAWa,GAG3B,IAAK,IAAIA,KAAOX,EACZa,KAAKF,GAAOX,EAAKW,GAGrB,IAAIG,EAAO,CACTb,KAAQA,GAGNc,EAAS,CACXX,QAAWA,EACXC,MAASA,EACTC,MAASA,EACTC,SAAYA,EACZC,OAAUA,GAGZ,IAAK,IAAIG,KAAOI,EACdF,KAAKF,GAAOI,EAAOJ,GAGrB,IAAK,IAAIA,KAAOG,EACdD,KAAKF,GAAOG,EAAKH,GAGnB,IAAIK,EAAiBC,OAAOC,cAAgBD,OAAOE,mBAwBnD,IAAK,IAAIR,KAvBTE,KAAKO,SAAWxB,GAAW,IAAIoB,EAE/BH,KAAKQ,KAAO,IAAInB,EAChBW,KAAKS,KAAOT,KAAKQ,KAAKC,KAAKC,KAAKV,KAAKQ,MAErCR,KAAKhB,MAAQ,IAAIY,EAASI,KAAKO,UAC/BP,KAAKhB,MAAM2B,QACXX,KAAKH,SAAWA,EAEhBG,KAAKnB,OAAS,CACZ+B,OAAQ,OACRC,KAAM,OACNC,MAAO,OACPC,KAAM,OACNC,YAAa,OACbC,WAAY,QAGdjB,KAAKkB,UAAY5B,EACjBU,KAAKmB,IAAM7B,EAAU6B,IAGrBnB,KAAKoB,IAAM,GACKnC,EACde,KAAKoB,IAAItB,GAAOR,EAAU6B,IAAIT,KAAKV,KAAKF,GAI1C,IAAIuB,EAAmBC,SAASC,cAAc,SAC9CF,EAAiBG,KAAO,WACxBH,EAAiBI,UAAY,yCAC7B,IAAIC,EAAIJ,SAASK,KACjBD,EAAEE,aAAaP,EAAkBK,EAAEG,mBAjErC,OAAAC,EAAAlD,EAAA,CAwEEG,QAAA,CAJOgD,IAAA,WACT,OAAO/B,KAAKO,UAGHyB,IAAA,SAACC,GACVjC,KAAKhB,MAAMkD,OACXlC,KAAKO,SAAW0B,EAChBjC,KAAKhB,MAAQ,IAAIY,EAASI,KAAKjB,SAC/BiB,KAAKhB,MAAM2B,YA5EX/B,EAAA,IA+FSR,EAAA,QAAAU,gCCrHAT,EAAAD,QAAA,CACb+D,SAAUjE,EAAQ,GAClBkE,OAAQlE,EAAQ,IAChBmE,OAAQnE,EAAQ,IAGhBoE,OAAQpE,EAAQ,IAChBqE,WAAYrE,EAAQ,IACpBsE,YAAatE,EAAQ,IACrBuE,OAAQvE,EAAQ,IAChBwE,OAAQxE,EAAQ,IAChByE,KAAMzE,EAAQ,IACd0E,MAAO1E,EAAQ,IACf2E,UAAW3E,EAAQ,IACnB4E,MAAO5E,EAAQ,IACf6E,KAAM7E,EAAQ,IACd8E,YAAa9E,EAAQ,IACrB+E,IAAK/E,EAAQ,IACbgF,SAAUhF,EAAQ,IAClBiF,YAAajF,EAAQ,IACrBkF,MAAOlF,EAAQ,IACfmF,aAAcnF,EAAQ,sBCpBxB,2hBAEIoF,EAAMpF,EAAQ,GACdqF,EAAYrF,EAAQ,GACpBsF,EAAOtF,EAAQ,IACPuF,KAAWvF,EAAM,iCAuCRwF,EAAA,SAAAC,YAAAxB,IAAApC,EAAAC,KAAAmC,GAIjB,IAAIyB,EAAU,CAAC,SAEXC,EAAW,CACbC,KAAQ,CAAC,IAAI,KACbC,KAAQ,WACRC,KAAQ,EACRC,KAAQ,EACRC,MAAS,EACTC,EAAK,GACLC,KAAQ,EACRC,KAAQ,EACRC,MAAS,EACTC,EAAK,IAGPC,EAAAC,OAAAC,eAnBiBvC,EAAQwC,WAAA,cAAA3E,MAAAxB,KAAAwB,KAmBnB4E,UAAUhB,EAAQC,GAGxB7D,KAAK6E,GAAK,IAAIrB,EAAMxD,KAAK8E,SAASd,KAAMhE,KAAK8E,SAASb,KAAMjE,KAAK8E,SAASZ,MAAOlE,KAAK8E,SAASX,GAC/FnE,KAAK+E,GAAK,IAAIvB,EAAMxD,KAAK8E,SAASV,KAAMpE,KAAK8E,SAAST,KAAMrE,KAAK8E,SAASR,MAAOtE,KAAK8E,SAASP,GAE/FvE,KAAKgF,SAAW,CACdb,EAAG,IAAIV,EAAYwB,OAAOjF,KAAK8E,SAASf,KAAK,aAAa,CAAC,EAAE/D,KAAKkF,OAAO,CAAClF,KAAKmF,OAAO,IACtFZ,EAAG,IAAId,EAAYwB,OAAOjF,KAAK8E,SAASf,KAAK,WAAW,CAAC,EAAE/D,KAAKkF,OAAO,CAAClF,KAAKmF,OAAO,KAEtFnF,KAAKgF,SAASb,EAAEiB,MAAQpF,KAAK6E,GAAGQ,WAChCrF,KAAKgF,SAAST,EAAEa,MAAQpF,KAAK+E,GAAGM,WAEhCrF,KAAKsF,OACLtF,KAAKuF,SAjCY,+QAAAC,CAAArD,EAAAwB,GAAA7B,EAAAK,EAAA,CAqCnBsD,eAAA,CAAcL,MAAA,WAEZpF,KAAK0F,KAAOpC,EAAIqC,OAAO,UACvB3F,KAAK4F,QAAQC,YAAY7F,KAAK0F,QAIhCI,cAAA,CAAaV,MAAA,WAETpF,KAAKgF,SAASb,EAAE4B,OAAO,CAAC,EAAE/F,KAAKkF,OAAO,CAAClF,KAAKmF,OAAO,IACnDnF,KAAKgF,SAAST,EAAEwB,OAAO,CAAC,EAAE/F,KAAKkF,OAAO,CAAClF,KAAKmF,OAAO,IAEnDnF,KAAKgG,cAAgBC,KAAKC,IAAIlG,KAAKkF,MAAMlF,KAAKmF,QAE9CnF,KAAKmG,WAAa,CAChBC,IAAkC,KAA1BpG,KAAKgG,cAAc,KAAW,GAExChG,KAAKmG,WAAWE,GAA2B,EAAtBrG,KAAKmG,WAAWC,IAErCpG,KAAK0F,KAAKY,aAAa,KAAKtG,KAAKkF,MAAM,GACvClF,KAAK0F,KAAKY,aAAa,KAAKtG,KAAKmF,OAAO,GACxCnF,KAAK0F,KAAKY,aAAa,IAAItG,KAAKmG,WAAWC,OAG/CG,eAAA,CAAcnB,MAAA,WACVpF,KAAK4F,QAAQY,MAAMC,gBAAkBzG,KAAKnB,OAAOgC,KACjDb,KAAK0F,KAAKY,aAAa,OAAQtG,KAAKnB,OAAO+B,UAG/C2E,OAAA,CAAMH,MAAA,WACApF,KAAK0G,QAEP1G,KAAK0F,KAAKY,aAAa,IAAItG,KAAKmG,WAAWE,IAG3CrG,KAAK0F,KAAKY,aAAa,IAAItG,KAAKmG,WAAWC,KAG7CpG,KAAK2G,gBAAkB,CACrBxC,EAAGnE,KAAK6E,GAAGQ,WAAarF,KAAKkF,MAC7BX,EAAGvE,KAAKmF,OAASnF,KAAK+E,GAAGM,WAAarF,KAAKmF,QAG7CnF,KAAK0F,KAAKY,aAAa,KAAKtG,KAAK2G,gBAAgBxC,GACjDnE,KAAK0F,KAAKY,aAAa,KAAKtG,KAAK2G,gBAAgBpC,KAInDqC,MAAA,CAAKxB,MAAA,WACHpF,KAAKgF,SAASb,EAAE0C,OAAS7G,KAAK8G,MAC9B9G,KAAKgF,SAAST,EAAEsC,OAAS7G,KAAK8G,MAC9B9G,KAAK+G,SAGPA,KAAA,CAAI3B,MAAA,WACEpF,KAAK0G,UACP1G,KAAKgF,SAASb,EAAE6C,OAAOhH,KAAK8G,OAC5B9G,KAAKgF,SAAST,EAAEyC,OAAOhH,KAAK8G,OAC5B9G,KAAK6E,GAAGoC,aAAcjH,KAAKgF,SAASb,EAAEiB,OACtCpF,KAAK+E,GAAGkC,aAAcjH,KAAKgF,SAAST,EAAEa,OACtCpF,KAAKkH,KAAK,SAAS,CACjB/C,EAAGnE,KAAK6E,GAAGO,MACXb,EAAGvE,KAAK+E,GAAGK,QAEbpF,KAAKuF,YAIT4B,QAAA,CAAO/B,MAAA,WACLpF,KAAKuF,WAaHpB,EAAA,CAJCpC,IAAA,WACH,OAAO/B,KAAK6E,GAAGO,OAGZpD,IAAA,SAACoD,GACJpF,KAAK6E,GAAGmC,OAAO5B,GACfpF,KAAKkH,KAAK,SAAS,CACjB/C,EAAGnE,KAAK6E,GAAGO,MACXb,EAAGvE,KAAK+E,GAAGK,QAEbpF,KAAKuF,WAaHhB,EAAA,CAJCxC,IAAA,WACH,OAAO/B,KAAK+E,GAAGK,OAGZpD,IAAA,SAACoD,GACJpF,KAAK+E,GAAGiC,OAAO5B,GACfpF,KAAKkH,KAAK,SAAS,CACjB/C,EAAGnE,KAAK6E,GAAGO,MACXb,EAAGvE,KAAK+E,GAAGK,QAEbpF,KAAKuF,WAKHF,WAAA,CAAUtD,IAAA,WACZ,MAAO,CACLoC,EAAGnE,KAAK6E,GAAGQ,WACXd,EAAGvE,KAAK+E,GAAGM,cAYXrB,KAAA,CAJIjC,IAAA,WACN,OAAO/B,KAAK6E,GAAGqB,KAGTlE,IAAA,SAACoF,GACPpH,KAAK6E,GAAGqB,IAAMkB,EACdpH,KAAKuF,WAWHnB,KAAA,CAJIrC,IAAA,WACN,OAAO/B,KAAK+E,GAAGmB,KAGTlE,IAAA,SAACoF,GACPpH,KAAK+E,GAAGmB,IAAMkB,EACdpH,KAAKuF,WAYHtB,KAAA,CAJIlC,IAAA,WACN,OAAO/B,KAAK6E,GAAGwC,KAGTrF,IAAA,SAACoF,GACPpH,KAAK6E,GAAGwC,IAAMD,EACdpH,KAAKuF,WAYHlB,KAAA,CAJItC,IAAA,WACN,OAAO/B,KAAK+E,GAAGsC,KAGTrF,IAAA,SAACoF,GACPpH,KAAK+E,GAAGsC,IAAMD,EACdpH,KAAKuF,WAYHrB,MAAA,CAJKnC,IAAA,WACP,OAAO/B,KAAK6E,GAAGyC,MAGRtF,IAAA,SAACoF,GACRpH,KAAK6E,GAAGyC,KAAOF,EACfpH,KAAKuF,WAYHjB,MAAA,CAJKvC,IAAA,WACP,OAAO/B,KAAK+E,GAAGuC,MAGRtF,IAAA,SAACoF,GACRpH,KAAK+E,GAAGuC,KAAOF,EACfpH,KAAKuF,WAYHxB,KAAA,CAHIhC,IAAA,WACN,OAAO/B,KAAKgF,SAASb,EAAEJ,MAEjB/B,IAAA,SAACoF,GACPpH,KAAKgF,SAASb,EAAEJ,KAAOqD,EACvBpH,KAAKgF,SAAST,EAAER,KAAOqD,MAzPNjF,EAAA,CAAiBoB,GAAjBlF,EAAAD,QAAAsF,mBC7CrB,aAEA,IAAIvE,EAAOjB,EAAQ,GAEJG,EAAAD,QAAA,CAEbuH,OAAQ,SAACnE,GACP,OAAOF,SAASiG,gBAAgB,6BAA8B/F,IAGhEgG,IAAK,SAACrD,EAAGI,EAAGkD,EAAQC,EAAYC,GAE9B,IAAIhH,EAAQxB,EAAKyI,YAAYH,EAAQE,GACjCE,EAAM1I,EAAKyI,YAAYH,EAAQC,GAE/BI,EAAeH,EAAWD,GAAc,IAAM,IAAM,IAOxD,MALQ,CACJ,IAAK/G,EAAMwD,EAAEA,EAAGxD,EAAM4D,EAAEA,EACxB,IAAKkD,EAAQA,EAAQ,EAAGK,EAAc,EAAGD,EAAI1D,EAAEA,EAAG0D,EAAItD,EAAEA,GAC1DwD,KAAK,MAKTC,eAAgB,SAACC,EAAKC,GAEpB,IAAI5J,EAAK,WAAaa,EAAKgJ,GAAG,MAC1BC,EAAQ,GAERC,EAAW/G,SAASiG,gBAAgB,6BAA8B,kBACtEc,EAAS/B,aAAa,KAAMhI,GAC5B+J,EAAS/B,aAAa,KAAM,OAC5B+B,EAAS/B,aAAa,KAAM,OAC5B+B,EAAS/B,aAAa,IAAK,OAE3B2B,EAAKpC,YAAYwC,GAEjB,IAAK,IAAIC,EAAE,EAAEA,EAAEJ,EAAcI,IAAK,CAChC,IAAIC,EAAOjH,SAASiG,gBAAgB,6BAA8B,QAClEgB,EAAKjC,aAAa,KAAM,OAAOgC,GAG/BD,EAASxC,YAAY0C,GACrBH,EAAMI,KAAKD,GAGb,MAAO,CACLjK,GAAIA,EACJ8J,MAAOA,EACPxC,QAASyC,oBClDf,aAcAjK,EAAQqK,KAAO,SAACrD,EAAMc,EAAImB,GACxB,OAAOpB,KAAKC,IAAID,KAAKoB,IAAIjC,EAAMc,GAAKmB,IAGtCjJ,EAAQsK,UAAY,SAACtD,EAAMc,EAAImB,GAC7B,OAAUjC,EAAMc,IAAQmB,EAAInB,IAe9B9H,EAAQuK,MAAQ,SAACC,EAAOC,EAAOC,EAAOC,EAAQC,GAC5C,OAAIH,IAAUC,EACLC,GAECH,EAAQC,IAAUG,EAASD,IAAYD,EAAQD,GAAUE,GAGrE3K,EAAQ6K,QAAU,SAAC9E,EAAEI,GACnB,IAAI2E,EAAIjD,KAAKkD,KAAKhF,EAAEA,EAAII,EAAEA,GAEtB6E,EAAQnD,KAAKoD,MAAM9E,EAAEJ,GAIzB,OAHIiF,EAAQ,IACVA,GAAiB,EAAInD,KAAKqD,IAErB,CAAC7B,OAAQyB,EAAGK,MAAOH,IAG5BhL,EAAQwJ,YAAc,SAASH,EAAQ8B,GAGrC,MAAO,CAACpF,EAAGsD,EAFDxB,KAAKuD,IAAID,GAEIhF,EAAGkD,EADhBxB,KAAKwD,IAAIF,IACkB,IAcvCnL,EAAQsL,MAAQ,SAASC,EAAMhB,GAC7B,OAAOiB,WAAWD,EAAKE,QAAQlB,KAGjCvK,EAAQ0L,OAAS,SAAUlB,GACzB,OAAOxK,EAAQuK,MAAMC,EAAO,EAAG,EAAG,EAAG,IAUvCxK,EAAQ2L,KAAO,SAASC,GACtB,OAAqC,IAA9B/D,KAAKgE,IAAI,GAAKD,EAAK,IAAI,KAahC5L,EAAQ8L,OAAS,SAASC,EAAIjE,EAAImB,GAChC,OAAO8C,GAAO9C,EAAMnB,GAAOA,GAU7B9H,EAAQgM,KAAO,WACb,OAAOxF,aAAaqB,KAAKoE,SAASzF,UAAU0F,UAa9ClM,EAAQmM,OAAS,SAASC,GACxB,OAAOvE,KAAKgE,IAAI,EAAEO,IAYpBpM,EAAQ+J,GAAK,SAASsC,EAAOC,GACtBA,IACHA,EAASD,EACTA,EAAS,GAEX,IAAIE,EAAM1E,KAAKC,IAAIuE,EAAOC,GACtBE,EAAO3E,KAAKoB,IAAIoD,EAAOC,GAC3B,OAAOzE,KAAK4E,MAAM5E,KAAKoE,UAAUO,EAAKD,GAAKA,IAY7CvM,EAAQ0M,GAAK,SAASL,EAAOC,GACtBA,IACHA,EAASD,EACTA,EAAS,GAEX,IAAIE,EAAM1E,KAAKC,IAAIuE,EAAOC,GACtBE,EAAO3E,KAAKoB,IAAIoD,EAAOC,GAC3B,OAAOzE,KAAKoE,UAAUO,EAAKD,GAAKA,GAIlCvM,EAAQ2M,MAAQ,SAASC,EAAM9E,EAAImB,GAKjC,QAJA2D,GACa3D,IACX2D,EAAQ9E,GAEH8E,GAUT5M,EAAQ6M,QAAU,SAAStB,GAEzB,IADA,IAAIuB,EAAQ,EACH5C,EAAE,EAAEA,EAAEqB,EAAKW,OAAOhC,IACzB4C,GAASvB,EAAKrB,GAEhB,OAAO4C,EAAQvB,EAAKW,QAatBlM,EAAQ+M,SAAW,SAASC,EAAGC,EAAGC,EAAGC,GACnC,IAAIC,EAAIJ,EAAKE,EACTG,EAAIJ,EAAKE,EACb,OAAOtF,KAAKkD,KAAMqC,EAAEA,EAAIC,EAAEA,IAG5BrN,EAAQsN,SAAW,SAASC,GAC1B,OAAO,GAAK1F,KAAK2F,MAAMD,IAUzBvN,EAAQyN,KAAO,WAAS,IAAAC,OAAIC,IAAAnH,UAAA,GAAC,GAALA,UAAA,GACtB,OAAIxG,EAAQ0M,GAAG,EAAE,GAAKgB,EACb,EAEA,oBC3NX,0bAEIxI,EAAMpF,EAAQ,GACd8N,EAAM9N,EAAQ,GACd+N,EAAO/N,EAAQ,GACfgO,EAAQhO,EAAQ,GACdiO,EAAejO,EAAQ,IAEpBW,EAAMX,EAAQ,GAAdW,OAKYuN,EAAA,SAAAC,YAAA9I,EAEP+I,EAAK1I,EAAQC,gGAFN9D,CAAAC,KAAAuD,GAGjBiB,EAAAC,OAAAC,eAHiBnB,EAASoB,WAAA,cAAA3E,MAAAxB,KAAAwB,MAI1BA,KAAKwB,KAAOxB,KAAKuM,YAAYC,KAC7BxM,KAAK8E,SAAW9E,KAAKyM,cAAcH,EAAK1I,EAAQC,GAChD7D,KAAK8G,MAAQ,GACb9G,KAAK0M,MAAO,EACZ1M,KAAKnB,OAAS,GACd,IAAI8N,EAAgB9N,IACpBmB,KAAKnB,OAAO+B,OAAS+L,EAAc/L,OACnCZ,KAAKnB,OAAOgC,KAAO8L,EAAc9L,KACjCb,KAAKnB,OAAOiC,MAAQ6L,EAAc7L,MAClCd,KAAKnB,OAAOkC,KAAO4L,EAAc5L,KACjCf,KAAKnB,OAAOmC,YAAc2L,EAAc3L,YACxChB,KAAKnB,OAAOoC,WAAa0L,EAAc1L,WAftB,+QAAAuE,CAAAjC,EAAA8I,GAAAvK,EAAAyB,EAAA,CAkBnBkJ,cAAA,CAAarH,MAAA,SAACkH,EAAK1I,EAAQC,GAEzBD,EAAQgJ,QAAQ,UAChB/I,EAASgJ,YAAchJ,EAASC,KAAKgJ,OAAO,EAAE,GAC9CjJ,EAASC,MAAO,EAEhB,IAAIgB,EAAW,CACbiI,OAAUzL,SAAS0L,KACnBnO,OAAU,GACVoO,gBAAkB,EAClBC,MAAS,aACTC,WAAa,GAGf,IAAK,IAAIrN,KAAO+D,EACdiB,EAAShF,GAAO+D,EAAS/D,GAG3B,IAAK,IAAIwI,EAAE,EAAGA,EAAEgE,EAAKhC,OAAQhC,IAAK,CAEhC,IAAI8E,EAAUd,EAAKhE,GAEnB,GAAK2D,EAAKoB,SAASD,GACjB,IAAM,IAAItN,KAAOsN,EACftI,EAAShF,GAAOsN,EAAQtN,OAGE,mBAAZsN,EAChBtI,EAASoI,MAAQE,EAERxJ,EAAQ0G,QAAQ,IAGzBxF,EADIhF,EAAM8D,EAAQkJ,OAAO,EAAE,GAAG,IACdM,GAkDpB,OA3CApN,KAAKsN,OAAStB,EAAIuB,aAAazI,EAASiI,QAGpC/M,KAAKsN,QAAUtN,KAAKsN,kBAAkBE,cAAgB1I,EAASqI,YAC5DnN,KAAKsN,OAAOG,aAAa,aAC5BzN,KAAKsN,OAAOhH,aAAa,WAAW,KAMpCxB,EAAShB,MAAQ4J,MAAMC,QAAQ7I,EAAShB,OAASgB,EAASmI,gBAC5DjN,KAAKkF,MAAQJ,EAAShB,KAAK,GAC3B9D,KAAKmF,OAASL,EAAShB,KAAK,GAC5B9D,KAAKsN,OAAO9G,MAAMtB,MAAQlF,KAAKkF,MAAQ,KACvClF,KAAKsN,OAAO9G,MAAMrB,OAASnF,KAAKmF,OAAS,MAChCL,EAASmI,iBAAmBnI,EAASqI,WAE9CnN,KAAKkF,MAAQ0E,WAAWxJ,OAAOwN,iBAAiB5N,KAAKsN,OAAQ,MAAMO,iBAAiB,SAASC,QAAQ,KAAK,KAC1G9N,KAAKmF,OAASyE,WAAWxJ,OAAOwN,iBAAiB5N,KAAKsN,OAAQ,MAAMO,iBAAiB,UAAUC,QAAQ,KAAK,KAE5F,KAAZ9N,KAAKkF,QACPlF,KAAKkF,MAAQJ,EAAS+H,YAAY,GAClC7M,KAAKsN,OAAO9G,MAAMtB,MAAQlF,KAAKsN,OAAOpI,MAAQlF,KAAKkF,MAAQ,MAE5C,KAAblF,KAAKmF,SACPnF,KAAKmF,OAASL,EAAS+H,YAAY,GACnC7M,KAAKsN,OAAO9G,MAAMrB,OAASnF,KAAKsN,OAAOnI,OAASnF,KAAKmF,OAAS,QAIhEL,EAAShB,KAAOgB,EAAS+H,YACzB7M,KAAKkF,MAAQJ,EAAShB,KAAK,GAC3B9D,KAAKmF,OAASL,EAAShB,KAAK,IAI1BgB,EAASoI,MACXlN,KAAKkN,MAAQlN,KAAKqG,GAAG,SAAUvB,EAASoI,OAExClN,KAAKkN,OAAQ,EAGRpI,IAITQ,KAAA,CAAIF,MAAA,WACFpF,KAAK+N,aACL/N,KAAKyF,iBACLzF,KAAK8F,gBACL9F,KAAKgO,kBACLhO,KAAKuG,iBACLvG,KAAKiO,iBAGPF,WAAA,CAAU3I,MAAA,WACRpF,KAAK4F,QAAUtC,EAAIqC,OAAO,OAC1B3F,KAAK4F,QAAQU,aAAa,QAAQtG,KAAKkF,OACvClF,KAAK4F,QAAQU,aAAa,SAAStG,KAAKmF,QACxCnF,KAAKsN,OAAOzH,YAAY7F,KAAK4F,WAG/BH,eAAA,CAAcL,MAAA,cACdU,cAAA,CAAaV,MAAA,cACbmB,eAAA,CAAcnB,MAAA,cAEd4I,gBAAA,CAAe5I,MAAA,sBAEbpF,KAAKkO,kBAAoBlO,KAAKkO,mBAAqBlO,KAAK4F,QAGpDsG,EAAMiC,SACRnO,KAAKkO,kBAAkBE,iBAAiB,cAAc,SAAAC,GAAO,OAAAC,EAAKC,SAASF,MAC3ErO,KAAKkO,kBAAkBE,iBAAiB,aAAa,SAAAC,GAAO,OAAAC,EAAKE,aAAaH,MAC9ErO,KAAKkO,kBAAkBE,iBAAiB,YAAY,SAAAC,GAAO,OAAAC,EAAKG,gBAAgBJ,OAElFrO,KAAK0O,aAAe,SAAAL,GAAO,OAAAC,EAAKK,QAAQN,IACxCrO,KAAK4O,gBAAkB,SAAAP,GAAO,OAAAC,EAAKO,WAAWR,IAC9CrO,KAAKkO,kBAAkBE,iBAAiB,aAAa,SAAAC,GAAO,OAAAC,EAAKQ,SAAST,QAG5EJ,aAAA,CAAY7I,MAAA,WACVpF,KAAK4F,QAAQY,MAAMuI,OAAS,YAG9BD,SAAA,CAAQ1J,MAAA,SAAC4J,GAGHhP,KAAK4F,mBAAmB4H,cAC1BxN,KAAKkF,MAAQ9E,OAAOwN,iBAAiB5N,KAAK4F,QAAS,MAAMiI,iBAAiB,SAASC,QAAQ,KAAK,KAIlG9N,KAAKiP,OAASjD,EAAIkD,aAAalP,KAAK4F,SACpC5F,KAAK8G,MAAQkF,EAAImD,YAAYH,EAAEhP,KAAKiP,QACpCjP,KAAK0G,SAAU,EACf1G,KAAK4G,QACL5G,KAAKoP,UAAY9N,SAAS8M,iBAAiB,YAAapO,KAAK0O,cAC7D1O,KAAKqP,aAAe/N,SAAS8M,iBAAiB,UAAWpO,KAAK4O,iBAC9D5O,KAAKkH,KAAK,SACV8H,EAAEM,iBACFN,EAAEO,oBAGJZ,QAAA,CAAOvJ,MAAA,SAAC4J,cACDhP,KAAK0M,OACR1M,KAAK8G,MAAQkF,EAAImD,YAAYH,EAAEhP,KAAKiP,QACpCjP,KAAK+G,OACL/G,KAAK0M,MAAO,EACZ8C,YAAW,WAAQlB,EAAK5B,MAAO,IAAS,KAE1CsC,EAAEM,iBACFN,EAAEO,oBAGJV,WAAA,CAAUzJ,MAAA,SAAC4J,GACThP,KAAK8G,MAAQkF,EAAImD,YAAYH,EAAEhP,KAAKiP,QACpCjP,KAAK0G,SAAU,EACf1G,KAAKmH,UACLnH,KAAKkH,KAAK,WACV5F,SAASmO,oBAAoB,YAAYzP,KAAK0O,cAC9CpN,SAASmO,oBAAoB,UAAUzP,KAAK4O,iBAC5CI,EAAEM,iBACFN,EAAEO,oBAGJ3I,MAAA,CAAKxB,MAAA,cAIL2B,KAAA,CAAI3B,MAAA,cAIJ+B,QAAA,CAAO/B,MAAA,cAOPmJ,SAAA,CAAQnJ,MAAA,SAAC4J,GACHhP,KAAK4F,mBAAmB4H,cAC1BxN,KAAKkF,MAAQ9E,OAAOwN,iBAAiB5N,KAAK4F,QAAS,MAAMiI,iBAAiB,SAASC,QAAQ,KAAK,KAElG9N,KAAKiP,OAASjD,EAAIkD,aAAalP,KAAK4F,SACpC5F,KAAK8G,MAAQkF,EAAI0D,YAAYV,EAAEhP,KAAKiP,QACpCjP,KAAK0G,SAAU,EACf1G,KAAKkM,MAAM8C,GACXhP,KAAKkH,KAAK,SACV8H,EAAEM,iBACFN,EAAEO,oBAGJf,aAAA,CAAYpJ,MAAA,SAAC4J,GACPhP,KAAK0G,UACP1G,KAAK8G,MAAQkF,EAAI0D,YAAYV,EAAEhP,KAAKiP,QACpCjP,KAAK2P,YACLX,EAAEM,iBACFN,EAAEO,qBAINd,gBAAA,CAAerJ,MAAA,SAAC4J,GACdhP,KAAK8G,MAAQkF,EAAI0D,YAAYV,EAAGhP,KAAKiP,QACrCjP,KAAK0G,SAAU,EACf1G,KAAK4P,eACL5P,KAAKkH,KAAK,WACV8H,EAAEM,iBACFN,EAAEO,oBAGJrD,MAAA,CAAK9G,MAAA,WACHpF,KAAK4G,UAGP+I,UAAA,CAASvK,MAAA,WACPpF,KAAK+G,SAGP6I,aAAA,CAAYxK,MAAA,WACVpF,KAAKmH,YAWPpB,OAAA,CAAMX,MAAA,SAACF,EAAMC,GACXnF,KAAKkF,MAAQA,EACblF,KAAKmF,OAASA,EACdnF,KAAKsN,OAAO9G,MAAMtB,MAAQlF,KAAKkF,MAAM,KACrClF,KAAKsN,OAAO9G,MAAMrB,OAASnF,KAAKmF,OAAO,KACvCnF,KAAK4F,QAAQU,aAAa,QAAQtG,KAAKkF,OACvClF,KAAK4F,QAAQU,aAAa,SAAStG,KAAKmF,QACxCnF,KAAK8F,kBAGP+J,MAAA,CAAKzK,MAAA,gBACIpF,KAAK4F,QAAQkK,WAClB9P,KAAK4F,QAAQmK,YAAY/P,KAAK4F,QAAQkK,aAU1CE,QAAA,CAAO5K,MAAA,WACLpF,KAAK6P,QACL7P,KAAKsN,OAAOyC,YAAY/P,KAAK4F,SAC7B5F,KAAKiQ,qBACDjQ,KAAKkQ,mBACAlQ,KAAKkQ,WAAWlQ,KAAK1B,IAE9B0B,KAAKmQ,kBAGPA,cAAA,CAAa/K,MAAA,cAIbgL,SAAA,CAAQhL,MAAA,SAAC5D,EAAK6O,GACZrQ,KAAKnB,OAAO2C,GAAQ6O,EACpBrQ,KAAKuG,qBAjSYhD,EAAA,CAAkB4I,GAAlB9N,EAAAD,QAAAgO,iBCbrB,aAEAhO,EAAQ8Q,aAAe,SAACoB,GACtB,IAAIC,EAAiBD,EAAGE,wBAGxB,MAAO,CAACC,IAFEF,EAAeE,IAAMrQ,OAAOsQ,QAE1BC,KADDJ,EAAeI,KAAOvQ,OAAOwQ,UAI1CxS,EAAQmP,aAAe,SAACD,GAKtB,MAJsB,iBAAXA,IACTA,EAAShM,SAASuP,eAAevD,EAAOQ,QAAQ,IAAI,MAGlDR,aAAkBE,aAAeF,aAAkBwD,WAC9CxD,EAEA,4BAIXlP,EAAQ+Q,YAAc,SAACH,EAAEC,GACvB,MAAO,CACL9K,EAAG6K,EAAE+B,MAAQ9B,EAAO0B,KACpBpM,EAAGyK,EAAEgC,MAAQ/B,EAAOwB,MAIxBrS,EAAQsR,YAAc,SAACV,EAAEC,GACvB,MAAO,CACL9K,IAAG6K,EAAEiC,cAAc3G,QAAS0E,EAAEiC,cAAc,GAAGF,MAAQ9B,EAAO0B,KAC9DpM,IAAGyK,EAAEiC,cAAc3G,QAAS0E,EAAEiC,cAAc,GAAGD,MAAQ/B,EAAOwB,MAIlErS,EAAQ8S,YAAc,SAAS5D,cAE7BtN,KAAK4F,QAAUtE,SAASC,cAAc,UACtCvB,KAAKjB,QAAUiB,KAAK4F,QAAQuL,WAAW,MACvC7D,EAAOzH,YAAY7F,KAAK4F,SAExB5F,KAAK+F,OAAS,SAACqL,EAAE1P,GACf4M,EAAK1I,QAAQV,MAAU,EAAFkM,EACrB9C,EAAK1I,QAAQT,OAAW,EAAFzD,EACtB4M,EAAK1I,QAAQY,MAAMtB,MAAQkM,EAAE,KAC7B9C,EAAK1I,QAAQY,MAAMrB,OAASzD,EAAE,sBC7ClC,aAEAtD,EAAQiP,SAAW,SAACgE,GAClB,MAAmB,iBAARA,IAAqB3D,MAAMC,QAAQ0D,IAAgB,OAARA,GAAgBA,aAAeP,YAAe,GAASO,aAAe7D,aAAgB,GAS9IpP,EAAQkT,eAAiB,SAACC,EAASC,GACjC,CAAC,QAAS,UAAW,QAAS,YAAa,UAAW,SAAU,cAAe,QAAQC,SAAQ,SAASvE,GACtGqE,EAAQnD,iBAAiBlB,GAAO,WAC1BsE,EAAYxR,KAAKoF,QACnBpF,KAAK0R,SAAW1R,KAAKoF,MACrBpF,KAAK2R,kBAAoB3R,KAAK4R,eAC9B5R,KAAK6R,gBAAkB7R,KAAK8R,cACnB9R,KAAK+R,eAAe,aAC7B/R,KAAKoF,MAAQpF,KAAK0R,SAClB1R,KAAKgS,kBAAkBhS,KAAK2R,kBAAmB3R,KAAK6R,kBAEpD7R,KAAKoF,MAAQ,yBCvBrB,aAEAhH,EAAQ+P,OAAU,iBAAkB7M,SAAS2Q,wCCmB7C9F,IACAnM,KAAAkS,QAAAlS,KAAAkS,SAAA,GACAlS,KAAAmS,cAAAnS,KAAAmS,oBAAApG,WAwQAqG,EAAAC,GACA,MAAA,mBAAAA,WAOAhF,EAAAgF,GACA,MAAA,iBAAAA,GAAA,OAAAA,WAGAC,EAAAD,GACA,YAAA,IAAAA,EAnRAhU,EAAAD,QAAA+N,EAGAA,EAAAA,aAAAA,EAEAA,EAAAxH,UAAAuN,aAAAnG,EACAI,EAAAxH,UAAAwN,mBAAApG,EAIAI,EAAAoG,oBAAA,GAIApG,EAAAxH,UAAA6N,gBAAA,SAAAC,GACA,GA4PA,iBA5PAA,GAAAA,EAAA,GAAAC,MAAAD,GACA,MAAAE,UAAA,+BAEA,OADA3S,KAAAmS,cAAAM,EACAzS,MAGAmM,EAAAxH,UAAAuC,KAAA,SAAA1F,GACA,IAAAoR,EAAAC,EAAAC,EAAAxG,EAAAhE,EAAAyK,EAMA,GAJA/S,KAAAkS,UACAlS,KAAAkS,QAAA,IAGA,UAAA1Q,KACAxB,KAAAkS,QAAAc,OACA3F,EAAArN,KAAAkS,QAAAc,SAAAhT,KAAAkS,QAAAc,MAAA1I,QAAA,CAEA,IADAsI,EAAAhO,UAAA,cACAqO,MACA,MAAAL,EAGA,IAAAM,EAAA,IAAAD,MAAA,yCAAAL,EAAA,KAEA,MADAM,EAAAnU,QAAA6T,EACAM,EAOA,GAAAZ,EAFAO,EAAA7S,KAAAkS,QAAA1Q,IAGA,OAAA,EAEA,GAAA4Q,EAAAS,GACA,OAAAjO,UAAA0F,QAEA,KAAA,EACAuI,EAAArU,KAAAwB,MACA,MACA,KAAA,EACA6S,EAAArU,KAAAwB,KAAA4E,UAAA,IACA,MACA,KAAA,EACAiO,EAAArU,KAAAwB,KAAA4E,UAAA,GAAAA,UAAA,IACA,cAGA0H,EAAAoB,MAAA/I,UAAAwO,MAAA3U,KAAAoG,UAAA,GACAiO,EAAAO,MAAApT,KAAAsM,QAEA,GAAAe,EAAAwF,GAIA,IAHAvG,EAAAoB,MAAA/I,UAAAwO,MAAA3U,KAAAoG,UAAA,GAEAkO,GADAC,EAAAF,EAAAM,SACA7I,OACAhC,EAAA,EAAeA,EAAAwK,EAAfxK,IACAyK,EAAAzK,GAAA8K,MAAApT,KAAAsM,GAGA,OAAA,GAGAH,EAAAxH,UAAA0O,YAAA,SAAA7R,EAAA8R,GACA,IAAA7U,EAEA,IAAA2T,EAAAkB,GACA,MAAAX,UAAA,+BA2CA,OAzCA3S,KAAAkS,UACAlS,KAAAkS,QAAA,IAIAlS,KAAAkS,QAAAqB,aACAvT,KAAAkH,KAAA,cAAA1F,EACA4Q,EAAAkB,EAAAA,UACAA,EAAAA,SAAAA,GAEAtT,KAAAkS,QAAA1Q,GAGA6L,EAAArN,KAAAkS,QAAA1Q,IAEAxB,KAAAkS,QAAA1Q,GAAAgH,KAAA8K,GAGAtT,KAAAkS,QAAA1Q,GAAA,CAAAxB,KAAAkS,QAAA1Q,GAAA8R,GANAtT,KAAAkS,QAAA1Q,GAAA8R,EASAjG,EAAArN,KAAAkS,QAAA1Q,MAAAxB,KAAAkS,QAAA1Q,GAAAgS,SAIA/U,EAHA6T,EAAAtS,KAAAmS,eAGAhG,EAAAoG,oBAFAvS,KAAAmS,gBAKA1T,EAAA,GAAAuB,KAAAkS,QAAA1Q,GAAA8I,OAAA7L,IACAuB,KAAAkS,QAAA1Q,GAAAgS,QAAA,EACAC,QAAAT,MAAA,mIAGAhT,KAAAkS,QAAA1Q,GAAA8I,QACA,mBAAAmJ,QAAAC,OAEAD,QAAAC,SAKA1T,MAGAmM,EAAAxH,UAAA0B,GAAA8F,EAAAxH,UAAA0O,YAEAlH,EAAAxH,UAAAgP,KAAA,SAAAnS,EAAA8R,GACA,IAAAlB,EAAAkB,GACA,MAAAX,UAAA,+BAEA,IAAAiB,GAAA,WAEAC,IACA7T,KAAA8T,eAAAtS,EAAAqS,GAEAD,IACAA,GAAA,EACAN,EAAAF,MAAApT,KAAA4E,YAOA,OAHAiP,EAAAP,SAAAA,EACAtT,KAAAqG,GAAA7E,EAAAqS,GAEA7T,MAIAmM,EAAAxH,UAAAmP,eAAA,SAAAtS,EAAA8R,GACA,IAAAS,EAAA/O,EAAAsF,EAAAhC,EAEA,IAAA8J,EAAAkB,GACA,MAAAX,UAAA,+BAEA,IAAA3S,KAAAkS,UAAAlS,KAAAkS,QAAA1Q,GACA,OAAAxB,KAMA,GAHAsK,GADAyJ,EAAA/T,KAAAkS,QAAA1Q,IACA8I,OACAtF,GAAA,EAEA+O,IAAAT,GACAlB,EAAA2B,EAAAT,WAAAS,EAAAT,WAAAA,SACAtT,KAAAkS,QAAA1Q,GACAxB,KAAAkS,QAAA4B,gBACA9T,KAAAkH,KAAA,iBAAA1F,EAAA8R,QAEA,GAAAjG,EAAA0G,GAAA,CACA,IAAAzL,EAAAgC,EAAoBhC,KAAA,GACpB,GAAAyL,EAAAzL,KAAAgL,GACAS,EAAAzL,GAAAgL,UAAAS,EAAAzL,GAAAgL,WAAAA,EAAA,CACAtO,EAAAsD,EACA,MAIA,GAAAtD,EAAA,EACA,OAAAhF,KAEA,IAAA+T,EAAAzJ,QACAyJ,EAAAzJ,OAAA,SACAtK,KAAAkS,QAAA1Q,IAEAuS,EAAAjH,OAAA9H,EAAA,GAGAhF,KAAAkS,QAAA4B,gBACA9T,KAAAkH,KAAA,iBAAA1F,EAAA8R,GAGA,OAAAtT,MAGAmM,EAAAxH,UAAAsL,mBAAA,SAAAzO,GACA,IAAA1B,EAAAiT,EAEA,IAAA/S,KAAAkS,QACA,OAAAlS,KAGA,IAAAA,KAAAkS,QAAA4B,eAKA,OAJA,IAAAlP,UAAA0F,OACAtK,KAAAkS,QAAA,GACAlS,KAAAkS,QAAA1Q,WACAxB,KAAAkS,QAAA1Q,GACAxB,KAIA,GAAA,IAAA4E,UAAA0F,OAAA,CACA,IAAAxK,KAAAE,KAAAkS,QACA,mBAAApS,GACAE,KAAAiQ,mBAAAnQ,GAIA,OAFAE,KAAAiQ,mBAAA,kBACAjQ,KAAAkS,QAAA,GACAlS,KAKA,GAAAoS,EAFAW,EAAA/S,KAAAkS,QAAA1Q,IAGAxB,KAAA8T,eAAAtS,EAAAuR,QACA,GAAAA,OAEAA,EAAAzI,QACAtK,KAAA8T,eAAAtS,EAAAuR,EAAAA,EAAAzI,OAAA,IAIA,cAFAtK,KAAAkS,QAAA1Q,GAEAxB,MAGAmM,EAAAxH,UAAAoO,UAAA,SAAAvR,GAQA,OANAxB,KAAAkS,SAAAlS,KAAAkS,QAAA1Q,GAEA4Q,EAAApS,KAAAkS,QAAA1Q,IACA,CAAAxB,KAAAkS,QAAA1Q,IAEAxB,KAAAkS,QAAA1Q,GAAA2R,QAJA,IAQAhH,EAAAxH,UAAAqP,cAAA,SAAAxS,GACA,GAAAxB,KAAAkS,QAAA,CACA,IAAA+B,EAAAjU,KAAAkS,QAAA1Q,GAEA,GAAA4Q,EAAA6B,GACA,OAAA,EACA,GAAAA,EACA,OAAAA,EAAA3J,OAEA,OAAA,GAGA6B,EAAA6H,cAAA,SAAAE,EAAA1S,GACA,OAAA0S,EAAAF,cAAAxS,qBC5RA,kTAEIrC,EAAOjB,EAAQ,GAWEiW,EAAA,oBAAA3Q,IAEP,IAAA0C,OAAG6F,IAAAnH,UAAA,GAAG,EAANA,UAAA,GAAQyC,OAAG0E,IAAAnH,UAAA,GAAG,EAANA,UAAA,GAAQ0C,OAAIyE,IAAAnH,UAAA,GAAG,EAAPA,UAAA,GAASQ,OAAK2G,IAAAnH,UAAA,GAAG,EAARA,UAAA,GAFlB7E,EAAAC,KAAAwD,GAMjBxD,KAAKkG,IAAMA,EACXlG,KAAKqH,IAAMA,EACXrH,KAAKsH,KAAOA,EACZtH,KAAKoF,MAAQA,EACbpF,KAAKoU,SAAU,EACfpU,KAAK0R,UAAW,EAChB1R,KAAKgH,OAAOhH,KAAKoF,OAZA,OAAAtD,EAAA0B,EAAA,CAoBnBwD,OAAA,CAAM5B,MAAA,SAACA,GAaL,OAZIpF,KAAKsH,KAEPtH,KAAKoF,MAAQjG,EAAKsJ,KAAKxC,KAAKoO,OAAOjP,EAAMpF,KAAKkG,KAAQlG,KAAKsH,MAAStH,KAAKsH,KAAOtH,KAAKkG,IAAKlG,KAAKkG,IAAIlG,KAAKqH,KAExGrH,KAAKoF,MAAQjG,EAAKsJ,KAAKrD,EAAMpF,KAAKkG,IAAIlG,KAAKqH,KAEzCrH,KAAK0R,WAAa1R,KAAKoF,OACzBpF,KAAK0R,SAAW1R,KAAKoF,MACrBpF,KAAKoU,SAAU,GAEfpU,KAAKoU,SAAU,EAEVpU,KAAKoF,QAOd6B,aAAA,CAAY7B,MAAA,SAACA,GAEX,OADApF,KAAKoF,MAAQjG,EAAKwJ,MAAMvD,EAAM,EAAE,EAAEpF,KAAKkG,IAAIlG,KAAKqH,KACzCrH,KAAKgH,OAAOhH,KAAKoF,SAMtBC,WAAA,CAAUtD,IAAA,WACZ,OAAO5C,EAAKuJ,UAAU1I,KAAKoF,MAAMpF,KAAKkG,IAAIlG,KAAKqH,SAjD9B7D,EAAA,GAAAnF,EAAAD,QAAA+V,waCXd,IAAAhV,EAAID,EAAAhB,EAAM,IACVoW,EAAWpV,EAAAhB,EAAM,KAmCLE,EAAN6G,OAAA,oBAAAA,IAEC,IAAAlB,OAAIgI,IAAAnH,UAAA,GAAC,WAALA,UAAA,GAAgB2P,OAASxI,IAAAnH,UAAA,GAAC,WAAVA,UAAA,GAAqB4P,OAAMzI,IAAAnH,UAAA,GAAC,CAAC,EAAE,KAAVA,UAAA,GAAe6P,OAAM1I,IAAAnH,UAAA,GAAC,CAAC,EAAE,KAAVA,UAAA,GAFrD7E,EAAAC,KAAAiF,GAGTjF,KAAK+D,KAAOA,EACZ/D,KAAKuU,UAAYA,EACjBvU,KAAK0U,SAAW,EAChB1U,KAAKoF,MAAQ,EACbpF,KAAK2U,YAAc,EACnB3U,KAAK+F,OAAOyO,EAAOC,GARV,OAAA3S,EAAAmD,EAAA,CAWXc,OAAA,CAAMX,MAAA,SAACoP,EAAOC,GACZzU,KAAK4U,SAAW,CACd1O,IAAK,CACH/B,EAAGqQ,EAAO,GACVjQ,EAAGkQ,EAAO,IAEZpN,IAAK,CACHlD,EAAGqQ,EAAO,GACVjQ,EAAGkQ,EAAO,IAEZI,OAAQ,CACN1Q,GAAIqQ,EAAO,GAAKA,EAAO,IAAI,EAAIA,EAAO,GACtCjQ,GAAIkQ,EAAO,GAAKA,EAAO,IAAI,EAAIA,EAAO,OASxC5N,OAAA,CAJM7E,IAAA,SAAC8E,GACT9G,KAAK8U,QAAU9U,KAAK+U,uBAAuBjO,IAGnC/E,IAAA,WACR,OAAO/B,KAAK8U,UAId9N,OAAA,CAAM5B,MAAA,SAAC0B,GACL,GAAgB,aAAZ9G,KAAK+D,KAAmB,CAC1B,IAAIiR,EAAYhV,KAAK+U,uBAAuBjO,GAAS9G,KAAK6G,OACtDZ,KAAKgP,IAAID,GAAa,KAAOA,EAAY,GAC7ChV,KAAK6G,OAASC,EACd9G,KAAKoF,MAAQpF,KAAKoF,MAAQ4P,EAAYhV,KAAK2U,iBAE3C3U,KAAKoF,MAAQpF,KAAK+U,uBAAuBjO,GAE3C9G,KAAKoF,MAAQjG,EAAKsJ,KAAKzI,KAAKoF,MAAM,EAAE,KAGtC2P,uBAAA,CAAsB3P,MAAA,SAAC8P,GACrB,OAAOlV,KAAKuU,WACV,IAAK,SACH,IAAIvP,EAAW7F,EAAK8J,QAAQiM,EAAQ/Q,EAAInE,KAAK4U,SAASC,OAAO1Q,EAAG+Q,EAAQ3Q,EAAIvE,KAAK4U,SAASC,OAAOtQ,GAGjG,OADAS,IADAA,EAAWA,EAASuE,OAAiB,EAARtD,KAAKqD,KACV,IAAQ,GAAK,EAEvC,IAAK,WACH,OAAOnK,EAAKwJ,MAAMuM,EAAQ3Q,EAAEvE,KAAK4U,SAAS1O,IAAI3B,EAAEvE,KAAK4U,SAASvN,IAAI9C,EAAE,EAAE,GACxE,IAAK,aACH,OAAOpF,EAAKwJ,MAAMuM,EAAQ/Q,EAAEnE,KAAK4U,SAAS1O,IAAI/B,EAAEnE,KAAK4U,SAASvN,IAAIlD,EAAE,EAAE,QA3DjEc,EAAA,GAkEM7G,EAANkE,OAAA,oBAAAA,IAEC,IAAAyB,OAAIgI,IAAAnH,UAAA,GAAC,SAALA,UAAA,GAFD7E,EAAAC,KAAAsC,GAGTtC,KAAK+D,KAAOA,EACZ/D,KAAKmV,MAAQ,IAAIb,EACjBtU,KAAKoV,YAAa,EALT,OAAAtT,EAAAQ,EAAA,CAQXsE,MAAA,CAAKxB,MAAA,WACH,OAAQpF,KAAK+D,MACX,IAAK,UACH/D,KAAKmV,MAAM9O,KACPrG,KAAKqV,SACPC,aAAatV,KAAKqV,SAEpBrV,KAAKqV,QAAU7F,WAAWxP,KAAKmV,MAAM/O,IAAI1F,KAAKV,MAAM,IACpDA,KAAKkH,KAAK,SAASlH,KAAKmV,OACxB,MACF,IAAK,SACHnV,KAAKuV,SACLvV,KAAKkH,KAAK,SAASlH,KAAKmV,OACxB,MACF,IAAK,aACHnV,KAAKgF,SAAW,CACdb,EAAGhF,EAAKsJ,KAAKzI,KAAK8G,MAAM3C,EAAInE,KAAKkF,MAAM,EAAE,GACzCX,EAAGpF,EAAKsJ,KAAK,EAAIzI,KAAK8G,MAAMvC,EAAIvE,KAAKmF,OAAO,EAAE,IAEhDnF,KAAKuV,SACLvV,KAAKkH,KAAK,SAAS,CACjBiO,MAAOnV,KAAKmV,MACZhR,EAAGnE,KAAKgF,SAASb,EACjBI,EAAGvE,KAAKgF,SAAST,IAEnB,MACF,IAAK,SACHvE,KAAKwV,OACLxV,KAAKkH,KAAK,SAASlH,KAAKmV,UAM9BpO,KAAA,CAAI3B,MAAA,WACc,eAAZpF,KAAK+D,OACP/D,KAAKgF,SAAW,CACdb,EAAGhF,EAAKsJ,KAAKzI,KAAK8G,MAAM3C,EAAInE,KAAKkF,MAAM,EAAE,GACzCX,EAAGpF,EAAKsJ,KAAK,EAAIzI,KAAK8G,MAAMvC,EAAIvE,KAAKmF,OAAO,EAAE,IAEhDnF,KAAKkH,KAAK,SAAS,CACjBiO,MAAOnV,KAAKmV,MACZhR,EAAGnE,KAAKgF,SAASb,EACjBI,EAAGvE,KAAKgF,SAAST,IAEnBvE,KAAKuF,YAIT4B,QAAA,CAAO/B,MAAA,WACL,OAAQpF,KAAK+D,MACX,IAAK,SACH/D,KAAKyV,UACLzV,KAAKkH,KAAK,SAASlH,KAAKmV,OACxB,MACF,IAAK,aACHnV,KAAKyV,UACLzV,KAAKgF,SAAW,CACdb,EAAGnE,KAAK8G,MAAM3C,EAAInE,KAAKkF,MACvBX,EAAG,EAAIvE,KAAK8G,MAAMvC,EAAIvE,KAAKmF,QAE7BnF,KAAKkH,KAAK,SAAS,CACjBiO,MAAOnV,KAAKmV,MACZhR,EAAGnE,KAAKgF,SAASb,EACjBI,EAAGvE,KAAKgF,SAAST,SAxEdjC,EAAA,kBCxGb,mNAEqBoT,EAAA,oBAAArT,EAEP8S,gGAFOpV,CAAAC,KAAAqC,GAGjBrC,KAAKmV,MAAQA,IAAS,EAHL,OAAArT,EAAAO,EAAA,CAMnBmT,KAAA,CAAIpQ,MAAA,SAAC+P,GAEDnV,KAAKmV,MADHA,IAAmB,IAAVA,EACEA,GAECnV,KAAKmV,QAIvB9O,GAAA,CAAEjB,MAAA,WACApF,KAAKmV,OAAQ,IAGf/O,IAAA,CAAGhB,MAAA,WACDpF,KAAKmV,OAAQ,MAnBI9S,EAAA,GAAAhE,EAAAD,QAAAsX,mBCFrB,2hBAEIpS,EAAMpF,EAAQ,GACdqF,EAAYrF,EAAQ,GACpBsF,EAAOtF,EAAQ,IACPuF,KAAWvF,EAAM,iCAmCRyX,EAAA,SAAAhS,YAAAvB,IAAArC,EAAAC,KAAAoC,GAIjB,IAAIwB,EAAU,CAAC,MAAM,MAAM,SAEvBC,EAAW,CACbC,KAAQ,CAAC,IAAI,IACbC,KAAQ,WACRmC,IAAO,EACPmB,IAAO,EACPC,KAAQ,EACRlC,MAAS,GAGXZ,EAAAC,OAAAC,eAfiBtC,EAAMuC,WAAA,cAAA3E,MAAAxB,KAAAwB,KAejB4E,UAAUhB,EAAQC,GAExB7D,KAAK4V,YAAc,WAEnB5V,KAAK6V,OAAS,IAAIrS,EAAKxD,KAAK8E,SAASoB,IAAKlG,KAAK8E,SAASuC,IAAKrH,KAAK8E,SAASwC,KAAMtH,KAAK8E,SAASM,OAE/FpF,KAAKgF,SAAW,IAAIvB,EAAYwB,OAAOjF,KAAK8E,SAASf,KAAK/D,KAAK4V,YAAY,CAAC,EAAE5V,KAAKkF,OAAO,CAAClF,KAAKmF,OAAO,IACvGnF,KAAKgF,SAASI,MAAQpF,KAAK6V,OAAOxQ,WAElCrF,KAAKsF,OAELtF,KAAKgF,SAASuP,UAAYvU,KAAK4V,YAE/B5V,KAAKkH,KAAK,SAASlH,KAAKoF,OA5BP,+QAAAI,CAAApD,EAAAuB,GAAA7B,EAAAM,EAAA,CAgCnBqD,eAAA,CAAcL,MAAA,WAEZpF,KAAK8V,IAAMxS,EAAIqC,OAAO,QACtB3F,KAAK+V,QAAUzS,EAAIqC,OAAO,QAC1B3F,KAAK0F,KAAOpC,EAAIqC,OAAO,UAEvB3F,KAAK4F,QAAQC,YAAY7F,KAAK8V,KAC9B9V,KAAK4F,QAAQC,YAAY7F,KAAK+V,SAC9B/V,KAAK4F,QAAQC,YAAY7F,KAAK0F,QAIhCI,cAAA,CAAaV,MAAA,WAEPpF,KAAKkF,MAAQlF,KAAKmF,QACpBnF,KAAK4V,YAAc,WACnB5V,KAAKgF,SAASuP,UAAY,aAE1BvU,KAAK4V,YAAc,aACnB5V,KAAKgF,SAASuP,UAAY,cAGxBvU,KAAKgF,UACPhF,KAAKgF,SAASe,OAAO,CAAC,EAAE/F,KAAKkF,OAAO,CAAClF,KAAKmF,OAAO,IAGnD,IAAIhB,OAAJ4H,EAAOxH,OAAAwH,EAAGqF,OAAArF,EAAGrK,OAAAqK,EAAGiK,OAAAjK,EAAWkK,OAAYlK,EACvC/L,KAAKkW,SAAW,CACdC,MAAO,EACPjN,EAAG,GAGoB,aAArBlJ,KAAK4V,aACP5V,KAAKoW,UAAYpW,KAAKkF,MAAQ,EAC/Bf,EAAInE,KAAKkF,MAAM,EACfX,EAAI,EACJ6M,EAAIpR,KAAKoW,UACT1U,EAAI1B,KAAKmF,OACRnF,KAAKkW,SAAShN,EAAqB,GAAjBlJ,KAAKoW,UACxBpW,KAAKkW,SAASC,MAAQzU,EAAE1B,KAAKkW,SAAShN,EAAElJ,KAAKqF,YAAY3D,EAAkB,EAAhB1B,KAAKkW,SAAShN,GACxE8M,EAAY,cAA6B,EAAhBhW,KAAKoW,UAAe,EAAE,MAC/CH,EAAe7E,EAAE,IAEjBpR,KAAKoW,UAAYpW,KAAKmF,OAAS,EAChChB,EAAI,EACJI,EAAIvE,KAAKmF,OAAO,EAChBiM,EAAIpR,KAAKkF,MACTxD,EAAI1B,KAAKoW,UACRpW,KAAKkW,SAAShN,EAAqB,GAAjBlJ,KAAKoW,UACxBpW,KAAKkW,SAASC,MAAQnW,KAAKqF,YAAY+L,EAAkB,EAAhBpR,KAAKkW,SAAShN,GAAKlJ,KAAKkW,SAAShN,EACzE8M,EAAY,gBAA+B,EAAhBhW,KAAKoW,UAAe,EAAE,IACjDH,EAAevU,EAAE,GAGnB1B,KAAK8V,IAAIxP,aAAa,IAAInC,GAC1BnE,KAAK8V,IAAIxP,aAAa,IAAI/B,GAC1BvE,KAAK8V,IAAIxP,aAAa,YAAY0P,GAClChW,KAAK8V,IAAIxP,aAAa,KAAK2P,GAC3BjW,KAAK8V,IAAIxP,aAAa,KAAK2P,GAC3BjW,KAAK8V,IAAIxP,aAAa,QAAQ8K,GAC9BpR,KAAK8V,IAAIxP,aAAa,SAAS5E,GAEN,aAArB1B,KAAK4V,aACP5V,KAAK+V,QAAQzP,aAAa,IAAInC,GAC9BnE,KAAK+V,QAAQzP,aAAa,IAAItG,KAAKkW,SAASC,OAC5CnW,KAAK+V,QAAQzP,aAAa,QAAQ8K,GAClCpR,KAAK+V,QAAQzP,aAAa,SAAS5E,EAAE1B,KAAKkW,SAASC,SAEnDnW,KAAK+V,QAAQzP,aAAa,IAAI,GAC9BtG,KAAK+V,QAAQzP,aAAa,IAAI/B,GAC9BvE,KAAK+V,QAAQzP,aAAa,QAAQtG,KAAKkW,SAASC,OAChDnW,KAAK+V,QAAQzP,aAAa,SAAS5E,IAErC1B,KAAK+V,QAAQzP,aAAa,YAAY0P,GACtChW,KAAK+V,QAAQzP,aAAa,KAAK2P,GAC/BjW,KAAK+V,QAAQzP,aAAa,KAAK2P,GAEN,aAArBjW,KAAK4V,aACP5V,KAAK0F,KAAKY,aAAa,KAAKnC,GAC5BnE,KAAK0F,KAAKY,aAAa,KAAKtG,KAAKkW,SAASC,SAE1CnW,KAAK0F,KAAKY,aAAa,KAAKtG,KAAKkW,SAASC,OAC1CnW,KAAK0F,KAAKY,aAAa,KAAK/B,IAE9BvE,KAAK0F,KAAKY,aAAa,IAAItG,KAAKkW,SAAShN,KAI3C3C,eAAA,CAAcnB,MAAA,WACZpF,KAAK8V,IAAIxP,aAAa,OAAQtG,KAAKnB,OAAOgC,MAC1Cb,KAAK+V,QAAQzP,aAAa,OAAQtG,KAAKnB,OAAO+B,QAC9CZ,KAAK0F,KAAKY,aAAa,OAAQtG,KAAKnB,OAAO+B,UAI7C2E,OAAA,CAAMH,MAAA,WACCpF,KAAK0G,UACR1G,KAAKkW,SAAShN,EAAmB,IAAflJ,KAAKoW,WAEzBpW,KAAK0F,KAAKY,aAAa,IAAItG,KAAKkW,SAAShN,GAEhB,aAArBlJ,KAAK4V,aACP5V,KAAKkW,SAASC,MAAQnW,KAAKkW,SAAShN,EAAElJ,KAAK6V,OAAOxQ,YAAYrF,KAAKmF,OAAuB,EAAhBnF,KAAKkW,SAAShN,GACvFlJ,KAAK0F,KAAKY,aAAa,KAAKtG,KAAKmF,OAASnF,KAAKkW,SAASC,OACxDnW,KAAK+V,QAAQzP,aAAa,IAAItG,KAAKmF,OAASnF,KAAKkW,SAASC,OAC1DnW,KAAK+V,QAAQzP,aAAa,SAAStG,KAAKkW,SAASC,SAElDnW,KAAKkW,SAASC,MAAQnW,KAAK6V,OAAOxQ,YAAYrF,KAAKkF,MAAsB,EAAhBlF,KAAKkW,SAAShN,GAAKlJ,KAAKkW,SAAShN,EACzFlJ,KAAK0F,KAAKY,aAAa,KAAKtG,KAAKkW,SAASC,OAC1CnW,KAAK+V,QAAQzP,aAAa,IAAI,GAC9BtG,KAAK+V,QAAQzP,aAAa,QAAQtG,KAAKkW,SAASC,UAKrDvP,MAAA,CAAKxB,MAAA,WACHpF,KAAKkW,SAAShN,EAAmB,GAAflJ,KAAKoW,UACvBpW,KAAKgF,SAAS6B,OAAS7G,KAAK8G,MAC5B9G,KAAK+G,SAGPA,KAAA,CAAI3B,MAAA,WACEpF,KAAK0G,UACP1G,KAAKgF,SAASgC,OAAOhH,KAAK8G,OAC1B9G,KAAK6V,OAAO5O,aAAcjH,KAAKgF,SAASI,OACxCpF,KAAKkH,KAAK,SAASlH,KAAK6V,OAAOzQ,OAC/BpF,KAAKuF,YAKT4B,QAAA,CAAO/B,MAAA,WACLpF,KAAKuF,WAGHF,WAAA,CAAUtD,IAAA,WACZ,OAAO/B,KAAK6V,OAAOxQ,aAWjBD,MAAA,CAHKrD,IAAA,WACP,OAAO/B,KAAK6V,OAAOzQ,OAEZpD,IAAA,SAACoF,GACRpH,KAAK6V,OAAO7O,OAAOI,GACnBpH,KAAKgF,SAASI,MAAQpF,KAAK6V,OAAOxQ,WAClCrF,KAAKkH,KAAK,SAASlH,KAAK6V,OAAOzQ,OAC/BpF,KAAKuF,WAWHW,IAAA,CAHGnE,IAAA,WACL,OAAO/B,KAAK6V,OAAO3P,KAEdlE,IAAA,SAACoF,GACNpH,KAAK6V,OAAO3P,IAAMkB,IAWhBC,IAAA,CAHGtF,IAAA,WACL,OAAO/B,KAAK6V,OAAOxO,KAEdrF,IAAA,SAACoF,GACNpH,KAAK6V,OAAOxO,IAAMD,IAWhBE,KAAA,CAHIvF,IAAA,WACN,OAAO/B,KAAK6V,OAAOvO,MAEbtF,IAAA,SAACoF,GACPpH,KAAK6V,OAAOvO,KAAOF,IAWjBrD,KAAA,CAHIhC,IAAA,WACN,OAAO/B,KAAKgF,SAASjB,MAEf/B,IAAA,SAACoF,GACPpH,KAAKgF,SAASjB,KAAOqD,MAvOJhF,EAAA,CAAemB,GAAflF,EAAAD,QAAAuX,mBCxCrB,yhBAEIrS,EAAMpF,EAAQ,GACdoW,EAAcpW,EAAQ,IA+BLmY,EAAA,SAAA1S,YAAAtB,IAAAtC,EAAAC,KAAAqC,GAIjB,IAAIuB,EAAU,CAAC,SAEXC,EAAW,CACbC,KAAQ,CAAC,GAAG,IACZiJ,QAAU,EACVoI,OAAS,GAGX3Q,EAAAC,OAAAC,eAZiBrC,EAAMsC,WAAA,cAAA3E,MAAAxB,KAAAwB,KAYjB4E,UAAUhB,EAAQC,GAExB7D,KAAKsW,OAAS,IAAIhC,EAAYtU,KAAK8E,SAASqQ,OAE5CnV,KAAKsF,OAhBY,+QAAAE,CAAAnD,EAAAsB,GAAA7B,EAAAO,EAAA,CAoBnBoD,eAAA,CAAcL,MAAA,WAEZpF,KAAK8V,IAAMxS,EAAIqC,OAAO,QACtB3F,KAAK0F,KAAOpC,EAAIqC,OAAO,UACvB3F,KAAK4F,QAAQC,YAAY7F,KAAK8V,KAC9B9V,KAAK4F,QAAQC,YAAY7F,KAAK0F,QAIhCI,cAAA,CAAaV,MAAA,WAEPpF,KAAKmF,OAASnF,KAAKkF,MAAM,EAC3BlF,KAAKuW,SAAWvW,KAAKmF,OAAO,EAE5BnF,KAAKuW,SAAWvW,KAAKkF,MAAM,EAG7BlF,KAAK8V,IAAIxP,aAAa,IAAItG,KAAKkF,MAAM,EAAkB,IAAdlF,KAAKuW,UAC9CvW,KAAK8V,IAAIxP,aAAa,IAAItG,KAAKmF,OAAO,EAAInF,KAAKuW,SAAS,GACxDvW,KAAK8V,IAAIxP,aAAa,KAAKtG,KAAKuW,SAAS,GACzCvW,KAAK8V,IAAIxP,aAAa,KAAKtG,KAAKuW,SAAS,GACzCvW,KAAK8V,IAAIxP,aAAa,QAAsB,EAAdtG,KAAKuW,UACnCvW,KAAK8V,IAAIxP,aAAa,SAAStG,KAAKuW,UAEpCvW,KAAK0F,KAAKY,aAAa,KAAKtG,KAAKkF,MAAM,EAAIlF,KAAKuW,UAChDvW,KAAK0F,KAAKY,aAAa,KAAKtG,KAAKmF,OAAO,GACxCnF,KAAK0F,KAAKY,aAAa,IAAItG,KAAKuW,YAIlChQ,eAAA,CAAcnB,MAAA,WACZpF,KAAK0F,KAAKY,aAAa,OAAQtG,KAAKnB,OAAO+B,QAC3CZ,KAAKuF,WAGPA,OAAA,CAAMH,MAAA,WACCpF,KAAKmV,OAIRnV,KAAK0F,KAAKY,aAAa,KAAKtG,KAAKkF,MAAM,EAAIlF,KAAKuW,UAChDvW,KAAK8V,IAAIxP,aAAa,OAAQtG,KAAKnB,OAAO+B,UAJ1CZ,KAAK0F,KAAKY,aAAa,KAAKtG,KAAKkF,MAAM,EAAIlF,KAAKuW,UAChDvW,KAAK8V,IAAIxP,aAAa,OAAQtG,KAAKnB,OAAOgC,SAO9C+F,MAAA,CAAKxB,MAAA,WACHpF,KAAKwV,OACLxV,KAAKuF,SACLvF,KAAKkH,KAAK,SAASlH,KAAKmV,SAWtBA,MAAA,CAHKpT,IAAA,WACP,OAAO/B,KAAKsW,OAAOnB,OAEZnT,IAAA,SAACoD,GACRpF,KAAKsW,OAAOd,KAAKpQ,GACjBpF,KAAKkH,KAAK,SAASlH,KAAKmV,OACxBnV,KAAKuF,WASPiQ,KAAA,CAAIpQ,MAAA,WACFpF,KAAKsW,OAAOd,OACZxV,KAAKuF,aA7FYlD,EAAA,CA9BLnE,EAAQ,IA8BHG,EAAAD,QAAAiY,mBClCrB,yhBAEI/S,EAAMpF,EAAQ,GAkCGsY,EAAA,SAAAC,YAAAnU,IAAAvC,EAAAC,KAAAsC,GAIjB,IAAIsB,EAAU,CAAC,QAGXC,EAAW,CACbC,KAAQ,CAAC,GAAG,IACZC,KAAQ,aACRoR,OAAS,GAGX3Q,EAAAC,OAAAC,eAbiBpC,EAAMqC,WAAA,cAAA3E,MAAAxB,KAAAwB,KAajB4E,UAAUhB,EAAQC,GAQxB7D,KAAK+D,KAAO/D,KAAK8E,SAASf,KAE1B/D,KAAKsF,OACLtF,KAAKuF,SAxBY,+QAAAC,CAAAlD,EAAAmU,GAAA3U,EAAAQ,EAAA,CA4BnBmD,eAAA,CAAcL,MAAA,WACZpF,KAAK0W,IAAMpT,EAAIqC,OAAO,UACtB3F,KAAK4F,QAAQC,YAAY7F,KAAK0W,KAE9B1W,KAAKkO,kBAAoBlO,KAAK0W,IAG9B1W,KAAKiI,KAAO3E,EAAIqC,OAAO,QACvB3F,KAAK4F,QAAQC,YAAY7F,KAAKiI,MAE9BjI,KAAKqI,SAAW/E,EAAI0E,eAAehI,KAAKiI,KAAK,GAE7CjI,KAAKqI,SAASD,MAAM,GAAG9B,aAAa,SAAU,OAE9CtG,KAAKqI,SAASD,MAAM,GAAG9B,aAAa,SAAU,UAIhDR,cAAA,CAAaV,MAAA,WAEXpF,KAAK0W,IAAIpQ,aAAa,KAAKtG,KAAKkF,MAAM,GACtClF,KAAK0W,IAAIpQ,aAAa,KAAKtG,KAAKmF,OAAO,GACvCnF,KAAK0W,IAAIpQ,aAAa,IAAKL,KAAKC,IAAIlG,KAAKkF,MAAMlF,KAAKmF,QAAU,EAAInF,KAAKkF,MAAM,IAC7ElF,KAAK0W,IAAIpQ,aAAa,eAAgBtG,KAAKkF,MAAM,MAGnDqB,eAAA,CAAcnB,MAAA,WAEZpF,KAAKqI,SAASD,MAAM,GAAG9B,aAAa,aAActG,KAAKnB,OAAO+B,QAC9DZ,KAAKqI,SAASD,MAAM,GAAG9B,aAAa,aAActG,KAAKnB,OAAOgC,MAC9Db,KAAKuF,WASPA,OAAA,CAAMH,MAAA,WACCpF,KAAKmV,OAIQ,eAAZnV,KAAK+D,MACP/D,KAAK0W,IAAIpQ,aAAa,SAAU,QAAQtG,KAAKqI,SAAS/J,GAAG,KACzD0B,KAAKqI,SAASzC,QAAQU,aAAa,KAAuB,IAAhBtG,KAAKgF,SAASb,EAAO,KAC/DnE,KAAKqI,SAASzC,QAAQU,aAAa,KAA2B,KAAnB,EAAEtG,KAAKgF,SAAST,GAAQ,MAEnEvE,KAAK0W,IAAIpQ,aAAa,SAAUtG,KAAKnB,OAAO+B,QAE9CZ,KAAK0W,IAAIpQ,aAAa,OAAQtG,KAAKnB,OAAO+B,UAV1CZ,KAAK0W,IAAIpQ,aAAa,OAAQtG,KAAKnB,OAAOgC,MAC1Cb,KAAK0W,IAAIpQ,aAAa,SAAUtG,KAAKnB,OAAOmC,kBAtE7BsB,EAAA,CAjCApE,EAAQ,KAiCRG,EAAAD,QAAAoY,mBCpCrB,0bAEIlT,EAAMpF,EAAQ,GACdiB,EAAOjB,EAAQ,GACfoW,EAAcpW,EAAQ,IAOLyY,EAAA,SAAAhT,YAAAiT,EAEPtK,EAAK1I,EAAQC,gGAFN9D,CAAAC,KAAA4W,GAIjBpS,EAAAC,OAAAC,eAJiBkS,EAAcjS,WAAA,cAAA3E,MAAAxB,KAAAwB,KAIzBsM,EAAK1I,EAAQC,GAEnB7D,KAAK+D,KAAO/D,KAAK8E,SAASf,MAAQ,SAElC/D,KAAKgF,SAAW,CACdb,EAAG,EACHI,EAAG,GAGLvE,KAAKsW,OAAS,IAAIhC,EAAYtU,KAAK8E,SAASqQ,OAb3B,+QAAA3P,CAAAoR,EAAAjT,GAAA7B,EAAA8U,EAAA,CAiBnBnR,eAAA,CAAcL,MAAA,WACZpF,KAAK0W,IAAMpT,EAAIqC,OAAO,UACtB3F,KAAK0W,IAAIpQ,aAAa,OAAQ,QAC9BtG,KAAK0W,IAAIpQ,aAAa,SAAU,QAChCtG,KAAK0W,IAAIpQ,aAAa,eAAgB,GAEtCtG,KAAK4F,QAAQC,YAAY7F,KAAK0W,KAE9B1W,KAAKkO,kBAAoBlO,KAAK0W,IAE9B1W,KAAK8F,kBAGPA,cAAA,CAAaV,MAAA,WACXpF,KAAK0W,IAAIpQ,aAAa,KAAKtG,KAAKkF,MAAM,GACtClF,KAAK0W,IAAIpQ,aAAa,KAAKtG,KAAKmF,OAAO,GACvCnF,KAAK0W,IAAIpQ,aAAa,IAAKL,KAAKC,IAAIlG,KAAKkF,MAAMlF,KAAKmF,QAAU,EAAI,KAGpEI,OAAA,CAAMH,MAAA,WACCpF,KAAKmV,OAIRnV,KAAK0W,IAAIpQ,aAAa,OAAQtG,KAAKnB,OAAO+B,QAC1CZ,KAAK0W,IAAIpQ,aAAa,SAAUtG,KAAKnB,OAAO+B,UAJ5CZ,KAAK0W,IAAIpQ,aAAa,OAAQtG,KAAKnB,OAAOgC,MAC1Cb,KAAK0W,IAAIpQ,aAAa,SAAUtG,KAAKnB,OAAOmC,gBAOhD6V,KAAA,CAAIzR,MAAA,SAACgQ,GACH,OAAQpV,KAAK+D,MACX,IAAK,UACH/D,KAAKuV,SACDvV,KAAKqV,SACPC,aAAatV,KAAKqV,SAEpBrV,KAAKqV,QAAU7F,WAAWxP,KAAKyV,QAAQ/U,KAAKV,MAAM,IAElD,MACF,IAAK,SACHA,KAAKuV,SAEL,MACF,IAAK,aACHvV,KAAKgF,SAAW,CACdb,EAAGhF,EAAKsJ,KAAKzI,KAAK8G,MAAM3C,EAAInE,KAAKkF,MAAM,EAAE,GACzCX,EAAGpF,EAAKsJ,KAAK,EAAEzI,KAAK8G,MAAMvC,EAAIvE,KAAKmF,OAAO,EAAE,IAE9CnF,KAAKuV,SAML,MACF,IAAK,SACHvV,KAAKwV,KAAKJ,MAOhB0B,KAAA,CAAI1R,MAAA,SAAC0B,GACa,eAAZ9G,KAAK+D,OACP/D,KAAK8G,MAAQA,GAAS9G,KAAK8G,MAC3B9G,KAAKgF,SAAW,CACdb,EAAGhF,EAAKsJ,KAAKzI,KAAK8G,MAAM3C,EAAInE,KAAKkF,MAAM,EAAE,GACzCX,EAAGpF,EAAKsJ,KAAK,EAAIzI,KAAK8G,MAAMvC,EAAIvE,KAAKmF,OAAO,EAAE,IAEhDnF,KAAKkH,KAAK,SAAS,CACjBiO,MAAOnV,KAAKmV,MACZhR,EAAGnE,KAAKgF,SAASb,EACjBI,EAAGvE,KAAKgF,SAAST,IAEnBvE,KAAKuF,YAITwR,GAAA,CAAE3R,MAAA,WACA,OAAQpF,KAAK+D,MACX,IAAK,SACH/D,KAAKyV,UAEL,MACF,IAAK,aACHzV,KAAKyV,UACLzV,KAAKgF,SAAW,CACdb,EAAGhF,EAAKsJ,KAAKzI,KAAK8G,MAAM3C,EAAInE,KAAKkF,MAAM,EAAE,GACzCX,EAAGpF,EAAKsJ,KAAK,EAAIzI,KAAK8G,MAAMvC,EAAIvE,KAAKmF,OAAO,EAAE,OAatDyB,MAAA,CAAKxB,MAAA,WACHpF,KAAK6W,SAEP9P,KAAA,CAAI3B,MAAA,WACFpF,KAAK8W,SAEP3P,QAAA,CAAO/B,MAAA,WACLpF,KAAK+W,OAWH5B,MAAA,CAHKpT,IAAA,WACP,OAAO/B,KAAKsW,OAAOnB,OAEZnT,IAAA,SAACoD,GACRpF,KAAKsW,OAAOd,KAAKpQ,GACD,eAAZpF,KAAK+D,KACP/D,KAAKkH,KAAK,SAAS,CACjBiO,MAAOnV,KAAKmV,MACZhR,EAAGnE,KAAKgF,SAASb,EACjBI,EAAGvE,KAAKgF,SAAST,IAGnBvE,KAAKkH,KAAK,SAASlH,KAAKmV,OAE1BnV,KAAKuF,WAQPiQ,KAAA,CAAIpQ,MAAA,SAACA,GACHpF,KAAKsW,OAAOd,KAAKpQ,GACD,eAAZpF,KAAK+D,KACP/D,KAAKkH,KAAK,SAAS,CACjBiO,MAAOnV,KAAKmV,MACZhR,EAAGnE,KAAKgF,SAASb,EACjBI,EAAGvE,KAAKgF,SAAST,IAGnBvE,KAAKkH,KAAK,SAASlH,KAAKmV,OAE1BnV,KAAKuF,WAOPgQ,OAAA,CAAMnQ,MAAA,SAAC4R,GACLhX,KAAKsW,OAAOjQ,MACG,IAAX2Q,IACc,eAAZhX,KAAK+D,KACP/D,KAAKkH,KAAK,SAAS,CACjBiO,MAAOnV,KAAKmV,MACZhR,EAAGnE,KAAKgF,SAASb,EACjBI,EAAGvE,KAAKgF,SAAST,IAGnBvE,KAAKkH,KAAK,SAASlH,KAAKmV,QAG5BnV,KAAKuF,WAOPkQ,QAAA,CAAOrQ,MAAA,SAAC4R,GACNhX,KAAKsW,OAAOlQ,OACG,IAAX4Q,IACc,eAAZhX,KAAK+D,KACP/D,KAAKkH,KAAK,SAAS,CACjBiO,MAAOnV,KAAKmV,MACZhR,EAAGnE,KAAKgF,SAASb,EACjBI,EAAGvE,KAAKgF,SAAST,IAGnBvE,KAAKkH,KAAK,SAASlH,KAAKmV,QAG5BnV,KAAKuF,aA/MYqR,EAAA,CANL1Y,EAAQ,IAMHG,EAAAD,QAAAuY,mBCXrB,yhBAkCqBM,EAAA,SAAAR,YAAAlU,IAAAxC,EAAAC,KAAAuC,GAIjB,IAAIqB,EAAU,CAAC,SAEXC,EAAW,CACbC,KAAQ,CAAC,IAAI,IACbqR,OAAS,EACT+B,KAAQ,QAGV1S,EAAAC,OAAAC,eAZiBnC,EAAUoC,WAAA,cAAA3E,MAAAxB,KAAAwB,KAYrB4E,UAAUhB,EAAQC,GAExB7D,KAAKmX,MAAQnX,KAAK8E,SAASoS,KAExBlX,KAAK8E,SAASsS,YACfpX,KAAK8E,SAASuS,cAAgBrX,KAAK8E,SAASsS,UAC5C3D,QAAQ6D,KAAK,sEAEftX,KAAKuX,eAAiBvX,KAAK8E,SAASuS,cACpCrX,KAAK+D,KAAQ/D,KAAK8E,SAASuS,cAAiB,SAAW,SACvDrX,KAAKsF,OACLtF,KAAKuF,SAELvF,KAAKmV,MAAQnV,KAAK8E,SAASqQ,MAzBV,+QAAA3P,CAAAjD,EAAAkU,GAAA3U,EAAAS,EAAA,CA6BnBwL,WAAA,CAAU3I,MAAA,WAERpF,KAAK4F,QAAUtE,SAASC,cAAc,OACtCvB,KAAKsN,OAAOzH,YAAY7F,KAAK4F,SAE7B5F,KAAKwX,YAAclW,SAASC,cAAc,OAC1CvB,KAAKwX,YAAY/V,UAAYzB,KAAKmX,MAClCnX,KAAK4F,QAAQC,YAAY7F,KAAKwX,eAGhC/R,eAAA,CAAcL,MAAA,cAIdmB,eAAA,CAAcnB,MAAA,WACZpF,KAAK4F,QAAQY,MAAM6J,MAAQrQ,KAAKnB,OAAOkC,KACvCf,KAAKuF,WAGPO,cAAA,CAAaV,MAAA,WACT,IAAIqS,EAAWzX,KAAKmF,OAAO,EACvBuS,EAAa1X,KAAKkF,OAASlF,KAAKmX,MAAM7M,OAAS,GAEnD,GADAmN,EAAWxR,KAAKC,IAAIuR,EAASC,GACzB1X,KAAKqX,cAAe,CACtB,IAAIM,EAAa3X,KAAKkF,OAASlF,KAAKqX,cAAc/M,OAAS,GAC3DmN,EAAWxR,KAAKC,IAAIuR,EAASE,GAE/B,IAAIC,EAAS,UAAY5X,KAAKkF,MAAQ,MACtC0S,GAAU,WAAa5X,KAAKmF,OAAS,MACrCyS,GAAU,aAAa5X,KAAKmF,OAAOsS,GAAU,EAAE,UAC/CG,GAAU,0BACVA,GAAU,sBACVA,GAAU,wBACVA,GAAU,oBACVA,GAAU,cACVA,GAAU,aAAeH,EAAW,MACpCzX,KAAKwX,YAAYhR,MAAMqR,QAAUD,EACjC5X,KAAKuF,WAGTA,OAAA,CAAMH,MAAA,WACCpF,KAAKmV,OAKRnV,KAAK4F,QAAQY,MAAMC,gBAAkBzG,KAAKnB,OAAO+B,OACjDZ,KAAKwX,YAAYhR,MAAM6J,MAAQrQ,KAAKnB,OAAOgC,KACvCb,KAAKqX,cACPrX,KAAKwX,YAAY/V,UAAYzB,KAAKuX,eAElCvX,KAAKwX,YAAY/V,UAAYzB,KAAKmX,QATpCnX,KAAK4F,QAAQY,MAAMC,gBAAkBzG,KAAKnB,OAAOgC,KACjDb,KAAKwX,YAAYhR,MAAM6J,MAAQrQ,KAAKnB,OAAOkC,KAC3Cf,KAAKwX,YAAY/V,UAAYzB,KAAKmX,SAoBlCE,cAAA,CAJatV,IAAA,WACf,OAAO/B,KAAKuX,gBAGGvV,IAAA,SAACkV,GAEdlX,KAAK+D,KADHmT,EACU,SAEA,SAEdlX,KAAKuX,eAAiBL,EACtBlX,KAAKuF,WAYH2R,KAAA,CAJInV,IAAA,WACN,OAAO/B,KAAKmX,OAGNnV,IAAA,SAACkV,GACPlX,KAAKmX,MAAQD,EACblX,KAAK8F,gBACL9F,KAAKuF,aAnHYhD,EAAA,CAhCArE,EAAQ,KAgCRG,EAAAD,QAAA6Y,mBClCrB,yhBAGI1T,EAAYrF,EAAQ,GACpBoE,EAASpE,EAAQ,IA+BA4Z,EAAA,SAAAnU,YAAAnB,IAAAzC,EAAAC,KAAAwC,GAEjB,IAAIoB,EAAU,CAAC,SAEXC,EAAW,CACbC,KAAM,CAAC,IAAK,IACZiU,gBAAiB,EACjBC,QAAQ,GAGVxT,EAAAC,OAAAC,eAViBlC,EAAWmC,WAAA,cAAA3E,MAAAxB,KAAAwB,KAUtB4E,UAAWhB,EAASC,GAE1B7D,KAAKiY,QAAU,GACfjY,KAAKkY,iBAAmBlY,KAAK8E,SAASiT,gBACtC/X,KAAKgY,OAAShY,KAAK8E,SAASkT,OAE5BhY,KAAKsF,OACLtF,KAAKuF,SAjBY,+QAAAC,CAAAhD,EAAAmB,GAAA7B,EAAAU,EAAA,CAoBnBuL,WAAA,CAAU3I,MAAA,WACRpF,KAAK4F,QAAUtE,SAASC,cAAc,OACtCvB,KAAKsN,OAAOzH,YAAY7F,KAAK4F,WAG/BH,eAAA,CAAcL,MAAA,WACZ,IAAK,IAAIkD,EAAI,EAAGA,EAAItI,KAAKkY,iBAAkB5P,IAAK,CAC9C,IAAI6P,EAAY7W,SAASC,cAAc,QAEnC6W,EAAS,IAAI9V,EACf6V,EACA,CACEpU,KAAM,SACNoJ,WAAW,GAEbnN,KAAKgH,OAAOtG,KAAKV,KAAMsI,IAGzBtI,KAAKiY,QAAQzP,KAAK4P,GAClBpY,KAAK4F,QAAQC,YAAYsS,MAI7BrS,cAAA,CAAaV,MAAA,WACX,IAAIwQ,OAAW7J,EAEb6J,EADE5V,KAAKkF,MAAQlF,KAAKmF,OACN,aAEA,WAQhB,IALA,IAAIkT,EACFrY,KAAKkF,OAAyB,aAAhB0Q,EAA6B,EAAI5V,KAAKkY,kBAClDI,EACFtY,KAAKmF,QAA0B,aAAhByQ,EAA6B5V,KAAKkY,iBAAmB,GAE7D5P,EAAI,EAAGA,EAAItI,KAAKkY,iBAAkB5P,IACzCtI,KAAKiY,QAAQ3P,GAAGvC,OAAOsS,EAAaC,KAIxC/R,eAAA,CAAcnB,MAAA,WACZ,IAAK,IAAIkD,EAAI,EAAGA,EAAItI,KAAKkY,iBAAkB5P,IACzCtI,KAAKiY,QAAQ3P,GAAGzJ,OAASmB,KAAKnB,OAC9BmB,KAAKiY,QAAQ3P,GAAG/C,WAIpByB,OAAA,CAAM5B,MAAA,SAACmT,GACDvY,KAAKiY,QAAQM,GAAOpD,MACtBnV,KAAKwY,OAAOD,GAEZvY,KAAKyY,aAKTlT,OAAA,CAAMH,MAAA,WACJ,IAAK,IAAIkD,EAAI,EAAGA,EAAItI,KAAKiY,QAAQ3N,OAAQhC,IACnCA,IAAMtI,KAAKgY,OACbhY,KAAKiY,QAAQ3P,GAAGiN,QAAO,GAEvBvV,KAAKiY,QAAQ3P,GAAGmN,SAAQ,KAS9B+C,OAAA,CAAMpT,MAAA,SAACmT,GACDA,GAAS,GAAKA,EAAQvY,KAAKiY,QAAQ3N,SACrCtK,KAAKgY,OAASO,EACdvY,KAAKkH,KAAK,SAAUlH,KAAKgY,QACzBhY,KAAKuF,YAOTkT,SAAA,CAAQrT,MAAA,WACNpF,KAAKgY,QAAS,EACdhY,KAAKkH,KAAK,SAAUlH,KAAKgY,QACzBhY,KAAKuF,WAWHwS,gBAAA,CARehW,IAAA,WACjB,OAAO/B,KAAKkY,kBAOKlW,IAAA,SAACiW,GAClBjY,KAAKkY,iBAAmBD,EACxB,IAAK,IAAI3P,EAAI,EAAGA,EAAItI,KAAKiY,QAAQ3N,OAAQhC,IACvCtI,KAAKiY,QAAQ3P,GAAG0H,UAElBhQ,KAAKiY,QAAU,GAIfjY,KAAK6P,QACL7P,KAAKyF,qBA9HYjD,EAAA,CAAoBe,GAApBlF,EAAAD,QAAA0Z,mBCnCrB,yhBAEIvU,EAAYrF,EAAQ,GACpBsF,EAAOtF,EAAQ,IACfiB,EAAOjB,EAAQ,GACf+N,EAAO/N,EAAQ,GAmCEwa,EAAA,SAAA/U,YAAAlB,IAAA1C,EAAAC,KAAAyC,GAIjB,IAAImB,EAAU,CAAC,SAEXC,EAAW,CACbC,KAAQ,CAAC,GAAG,IACZsB,MAAS,EACTc,IAAO,EACPmB,IAAO,IACPC,KAAQ,GAGV9C,EAAAC,OAAAC,eAdiBjC,EAAMkC,WAAA,cAAA3E,MAAAxB,KAAAwB,KAcjB4E,UAAUhB,EAAQC,GAExB7D,KAAK6V,OAAS,IAAIrS,EAAKxD,KAAK8E,SAASoB,IAAIlG,KAAK8E,SAASuC,IAAIrH,KAAK8E,SAASwC,KAAKtH,KAAK8E,SAASM,OAO5FpF,KAAK2Y,cAAgB,EACrB3Y,KAAK4Y,OAAS,EAEd5Y,KAAKqH,IAAMrH,KAAK6V,OAAOxO,IAEvBrH,KAAKkG,IAAMlG,KAAK6V,OAAO3P,IAEvBlG,KAAKsH,KAAOtH,KAAK6V,OAAOvO,KAExBtH,KAAKsF,OACLtF,KAAKuF,SAjCY,+QAAAC,CAAA/C,EAAAkB,GAAA7B,EAAAW,EAAA,CAqCnBsL,WAAA,CAAU3I,MAAA,WACRpF,KAAK4F,QAAUtE,SAASC,cAAc,SACtCvB,KAAK4F,QAAQpE,KAAO,OAEpBxB,KAAK4F,QAAQwI,iBAAiB,OAAM,WAClCpO,KAAK4F,QAAQY,MAAMC,gBAAkBzG,KAAKnB,OAAOgC,KACjDb,KAAK4F,QAAQY,MAAM6J,MAAQrQ,KAAKnB,OAAOkC,KACnCf,KAAK4F,QAAQR,QAAUpF,KAAKoF,QAC9BpF,KAAKoF,MAAQwE,WAAW5J,KAAK4F,QAAQR,OACrCpF,KAAKuF,WAEP7E,KAAKV,OAEPiM,EAAKqF,eAAetR,KAAK4F,SAAS,SAASR,GACzC,MAAA,gBAAuByT,KAAKzT,MAE9BpF,KAAK4F,QAAQwI,iBAAiB,UAAS,SAAYY,GACnC,KAAVA,EAAE8J,QACJ9Y,KAAK4F,QAAQmT,OACb/Y,KAAKoF,MAAQpF,KAAK4F,QAAQR,MAC1BpF,KAAKkH,KAAK,SAASlH,KAAKoF,OACxBpF,KAAKuF,WAEP7E,KAAKV,OAAO,GAEdA,KAAKsN,OAAOzH,YAAY7F,KAAK4F,WAI/BE,cAAA,CAAaV,MAAA,WAEXpF,KAAKgG,cAAgBC,KAAKC,IAAIlG,KAAKkF,MAAMlF,KAAKmF,QAE9C,IAAIyS,EAAS,UAAY5X,KAAKkF,MAAQ,MACtC0S,GAAU,WAAa5X,KAAKmF,OAAS,MACrCyS,GAAU,6BACVA,GAAU,eACVA,GAAU,sBACVA,GAAU,oBACVA,GAAU,aAAe5X,KAAKgG,cAAc,EAAI,MAEhD4R,GAAU,gBACVA,GAAU,iBACVA,GAAU,YAAY5X,KAAKgG,cAAc,EAAE,MAAMhG,KAAKgG,cAAc,EAAE,MACtE4R,GAAU,0BACVA,GAAU,oBACVA,GAAU,uBACVA,GAAU,0BACV5X,KAAK4F,QAAQY,MAAMqR,SAAWD,EAK9B5X,KAAK4F,QAAQR,MAAQpF,KAAKoF,QAI5BmB,eAAA,CAAcnB,MAAA,WACVpF,KAAK4F,QAAQY,MAAMC,gBAAkBzG,KAAKnB,OAAOgC,KACjDb,KAAK4F,QAAQY,MAAM6J,MAAQrQ,KAAKnB,OAAOkC,OAG3CwE,OAAA,CAAMH,MAAA,WAEJpF,KAAK4F,QAAQR,MAAQjG,EAAKuK,MAAM1J,KAAKoF,MAAMpF,KAAK2Y,iBAIlD/R,MAAA,CAAKxB,MAAA,WACHpF,KAAKgZ,UAAW,EAChBhZ,KAAK4F,QAAQqT,UAAW,EACzBjZ,KAAK4Y,OAAS5Y,KAAKoF,MAClBpF,KAAKkZ,QAAU,CAAE3U,EAAGvE,KAAK8G,MAAMvC,GAC/BvE,KAAKmZ,aAAeha,EAAK2K,OAAQ9J,KAAK8G,MAAM3C,EAAInE,KAAKkF,SAGvD6B,KAAA,CAAI3B,MAAA,WAEF,GADApF,KAAKgZ,UAAW,EACZhZ,KAAK0G,QAAS,CAEhB,IAAI0S,EAAWpZ,KAAK4Y,QAAU5Y,KAAK8G,MAAMvC,EAAIvE,KAAKkZ,QAAQ3U,IAAOpF,EAAKsJ,KAAMzI,KAAKqH,IAAIrH,KAAKkG,IAAK,EAAG,KAAS,KAAQD,KAAKgE,IAAIjK,KAAKmZ,aAAa,GAC9InZ,KAAKoF,MAAQgU,EAEfpZ,KAAKuF,SACCvF,KAAK6V,OAAOzB,SACdpU,KAAKkH,KAAK,SAASlH,KAAKoF,UAM9B+B,QAAA,CAAO/B,MAAA,WACApF,KAAKgZ,SAOR1X,SAAS0L,KAAKqM,SANdrZ,KAAK4F,QAAQqT,UAAW,EAC1BjZ,KAAK4F,QAAQyT,QACbrZ,KAAK4F,QAAQoM,kBAAkB,EAAGhS,KAAK4F,QAAQR,MAAMkF,QACrDtK,KAAK4F,QAAQY,MAAMC,gBAAkBzG,KAAKnB,OAAO+B,OACjDZ,KAAK4F,QAAQY,MAAM6J,MAAQrQ,KAAKnB,OAAOiC,SAWzCwY,KAAA,CAAIlU,MAAA,SAACmU,cACHvZ,KAAKkG,IAAMqT,EAAYrT,IACvBlG,KAAKqH,IAAMkS,EAAYlS,IACvBrH,KAAKsH,KAAOiS,EAAYjS,KACxBiS,EAAYlT,GAAG,UAAS,SAACe,GACvBkH,EAAKkL,cAAcpS,MAErBpH,KAAKqG,GAAG,UAAS,SAACe,GAChBmS,EAAYnU,MAAQgC,KAEtBpH,KAAKoF,MAAQmU,EAAYnU,QAW3BoU,cAAA,CAAapU,MAAA,SAACgC,GACZpH,KAAK6V,OAAO7O,OAAOI,GACnBpH,KAAKuF,WAWHH,MAAA,CAHKrD,IAAA,WACP,OAAO/B,KAAK6V,OAAOzQ,OAEZpD,IAAA,SAACoF,GACRpH,KAAK6V,OAAO7O,OAAOI,GACnBpH,KAAKkH,KAAK,SAASlH,KAAKoF,OACxBpF,KAAKuF,WAWHW,IAAA,CAHGnE,IAAA,WACL,OAAO/B,KAAK6V,OAAO3P,KAEdlE,IAAA,SAACoF,GACNpH,KAAK6V,OAAO3P,IAAMkB,IAWhBC,IAAA,CAHGtF,IAAA,WACL,OAAO/B,KAAK6V,OAAOxO,KAEdrF,IAAA,SAACoF,GACNpH,KAAK6V,OAAOxO,IAAMD,IAWhBE,KAAA,CAHIvF,IAAA,WACN,OAAO/B,KAAK6V,OAAOvO,MAEbtF,IAAA,SAACoF,GACPpH,KAAK6V,OAAOvO,KAAOF,MA1NF3E,EAAA,CAAec,GAAflF,EAAAD,QAAAsa,mBCxCrB,yhBAkCqBe,EAAA,SAAA9V,YAAAjB,IAAA3C,EAAAC,KAAA0C,GAIjB,IAAIkB,EAAU,CAAC,SAEXC,EAAW,CACZC,KAAQ,CAAC,IAAI,IACbF,QAAW,CAAC,UAAU,YAGzBY,EAAAC,OAAAC,eAXiBhC,EAAMiC,WAAA,cAAA3E,MAAAxB,KAAAwB,KAWjB4E,UAAUhB,EAAQC,GAExB7D,KAAK0Z,gBAAiB,EACtB1Z,KAAK6V,QAAS,EAEd7V,KAAK2Z,SAAW3Z,KAAK8E,SAASlB,QAE9B5D,KAAKsF,OACLtF,KAAKuF,SAnBY,+QAAAC,CAAA9C,EAAAiB,GAAA7B,EAAAY,EAAA,CAuBnBqL,WAAA,CAAU3I,MAAA,WACRpF,KAAK4F,QAAUtE,SAASC,cAAc,UACtCvB,KAAK4F,QAAQY,MAAMoT,SAAW5Z,KAAKmF,OAAO,EAAE,KAC5CnF,KAAK4F,QAAQY,MAAMqT,QAAU,OAC7B7Z,KAAK4F,QAAQY,MAAMsT,UAAY,OAC/B9Z,KAAK4F,QAAQY,MAAMtB,MAAQlF,KAAKkF,MAAM,KACtClF,KAAK4F,QAAQY,MAAMrB,OAASnF,KAAKmF,OAAO,KAExCnF,KAAK+Z,YAAc/Z,KAAKuF,OAAO7E,KAAKV,MAEpCA,KAAK4F,QAAQwI,iBAAiB,SAAUpO,KAAK+Z,aAE7C/Z,KAAKsN,OAAOzH,YAAY7F,KAAK4F,WAI/BoI,gBAAA,CAAe5I,MAAA,cAIfK,eAAA,CAAcL,MAAA,WAEZpF,KAAKga,kBAIPzT,eAAA,CAAcnB,MAAA,WACZpF,KAAK4F,QAAQY,MAAMC,gBAAkBzG,KAAKnB,OAAOgC,KACjDb,KAAK4F,QAAQY,MAAM6J,MAAQrQ,KAAKnB,OAAOkC,KACvCf,KAAK4F,QAAQY,MAAMyT,OAAS,aAAaja,KAAKnB,OAAOmC,cAGvDuE,OAAA,CAAMH,MAAA,WAEJpF,KAAK6V,OAAS7V,KAAK4F,QAAQhC,QAAQ5D,KAAK4F,QAAQsU,eAAehD,KAC/DlX,KAAK0Z,eAAiB1Z,KAAK4F,QAAQsU,cACnCla,KAAKkH,KAAK,SAAS,CACjB9B,MAAOpF,KAAK6V,OACZ0C,MAAOvY,KAAK0Z,mBAKhB9S,MAAA,CAAKxB,MAAA,cAIL2B,KAAA,CAAI3B,MAAA,cAIJ+B,QAAA,CAAO/B,MAAA,cASP4U,cAAA,CAAa5U,MAAA,SAACxB,GAcRA,IACF5D,KAAK2Z,SAAW/V,GAGlB,IAAI,IAAI0E,EAAEtI,KAAK4F,QAAQhC,QAAQ0G,OAAO,EAAGhC,GAAK,EAAGA,IAC/CtI,KAAK4F,QAAQuU,OAAO7R,GAGtB,IAAQA,EAAE,EAAEA,EAAEtI,KAAK2Z,SAASrP,OAAOhC,IACjCtI,KAAK4F,QAAQhC,QAAQzC,IAAI,IAAIiZ,OAAOpa,KAAK2Z,SAASrR,GAAIA,MActDlD,MAAA,CAHKrD,IAAA,WACP,OAAO/B,KAAK6V,QAEL7T,IAAA,SAACoF,GACRpH,KAAK6V,OAASzO,EACd,IAAI,IAAIkB,EAAE,EAAEA,EAAEtI,KAAK4F,QAAQhC,QAAQ0G,OAAOhC,IACxC,GAAIlB,IAAMpH,KAAK4F,QAAQhC,QAAQ0E,GAAG4O,KAAM,CACtClX,KAAKka,cAAgB5R,EACrB,SAcF4R,cAAA,CAHanY,IAAA,WACf,OAAO/B,KAAK0Z,gBAEG1X,IAAA,SAACoF,GAChBpH,KAAK0Z,eAAiBtS,EACtBpH,KAAK4F,QAAQsU,cAAgB9S,EAC7BpH,KAAKuF,WAGP4K,cAAA,CAAa/K,MAAA,WACXpF,KAAK4F,QAAQ6J,oBAAoB,SAAUzP,KAAK+Z,iBAlJ/BrX,EAAA,CAhCLxE,EAAQ,IAgCHG,EAAAD,QAAAqb,mBClCrB,2hBAEInW,EAAMpF,EAAQ,GACdiB,EAAOjB,EAAQ,GACfqF,EAAYrF,EAAQ,GACpBsF,EAAOtF,EAAQ,IACPuF,KAAWvF,EAAM,iCAwCRmc,EAAA,SAAA1W,YAAAhB,IAAA5C,EAAAC,KAAA2C,GAIjB,IAAIiB,EAAU,CAAC,MAAM,MAAM,SAEvBC,EAAW,CACbC,KAAQ,CAAC,GAAG,IACZwW,YAAe,SACfvW,KAAQ,WACRmC,IAAO,EACPmB,IAAO,EACPC,KAAQ,EACRlC,MAAS,GAGXZ,EAAAC,OAAAC,eAhBiB/B,EAAIgC,WAAA,cAAA3E,MAAAxB,KAAAwB,KAgBf4E,UAAUhB,EAAQC,GAExB7D,KAAKsa,YAActa,KAAK8E,SAASwV,YAEjCta,KAAK6V,OAAS,IAAIrS,EAAKxD,KAAK8E,SAASoB,IAAKlG,KAAK8E,SAASuC,IAAKrH,KAAK8E,SAASwC,KAAMtH,KAAK8E,SAASM,OAE/FpF,KAAKgF,SAAW,IAAIvB,EAAYwB,OAAOjF,KAAK8E,SAASf,KAAK/D,KAAKsa,YAAY,CAAC,EAAEta,KAAKkF,OAAO,CAAClF,KAAKmF,OAAO,IAEvGnF,KAAKsF,OAELtF,KAAKoF,MAAQpF,KAAK6V,OAAOzQ,MAEzBpF,KAAKgF,SAASI,MAAQpF,KAAK6V,OAAOxQ,WAElCrF,KAAKua,eAAgB,EAErBva,KAAKkH,KAAK,SAASlH,KAAKoF,OAhCP,+QAAAI,CAAA7C,EAAAgB,GAAA7B,EAAAa,EAAA,CAoCnB8C,eAAA,CAAcL,MAAA,WAEZpF,KAAKwa,WAAalX,EAAIqC,OAAO,UAC7B3F,KAAKya,MAAQnX,EAAIqC,OAAO,UACxB3F,KAAK0a,OAASpX,EAAIqC,OAAO,QACzB3F,KAAK2a,QAAUrX,EAAIqC,OAAO,QAC1B3F,KAAK4a,WAAatX,EAAIqC,OAAO,QAC7B3F,KAAK6a,YAAcvX,EAAIqC,OAAO,QAC9B3F,KAAK8a,WAAaxX,EAAIqC,OAAO,QAE7B3F,KAAK4F,QAAQC,YAAY7F,KAAKwa,YAC9Bxa,KAAK4F,QAAQC,YAAY7F,KAAK0a,QAC9B1a,KAAK4F,QAAQC,YAAY7F,KAAK2a,SAC9B3a,KAAK4F,QAAQC,YAAY7F,KAAK4a,YAC9B5a,KAAK4F,QAAQC,YAAY7F,KAAK6a,aAC9B7a,KAAK4F,QAAQC,YAAY7F,KAAK8a,YAC9B9a,KAAK4F,QAAQC,YAAY7F,KAAKya,SAKhC3U,cAAA,CAAaV,MAAA,WAEXpF,KAAKgF,SAASe,OAAO,CAAC,EAAE/F,KAAKkF,OAAO,CAAClF,KAAKmF,OAAO,IAEjD,IAAI0P,EAAS,CACX1Q,EAAGnE,KAAKkF,MAAM,EACdX,EAAGvE,KAAKmF,OAAO,GAGb4V,EAAW9U,KAAKC,IAAIlG,KAAKkF,MAAMlF,KAAKmF,QAExCnF,KAAKwa,WAAWlU,aAAa,KAAMuO,EAAO1Q,GAC1CnE,KAAKwa,WAAWlU,aAAa,KAAMuO,EAAOtQ,GAC1CvE,KAAKwa,WAAWlU,aAAa,IAAKyU,EAAS,EAAEA,EAAS,IAEtD/a,KAAKya,MAAMnU,aAAa,KAAMuO,EAAO1Q,GACrCnE,KAAKya,MAAMnU,aAAa,KAAMuO,EAAOtQ,GACrCvE,KAAKya,MAAMnU,aAAa,IAAKyU,EAAS,IAEtC,IAAI3V,EAAQpF,KAAKoF,MAEb4V,EAAe,CACjBra,MAAe,IAARsF,KAAKqD,GACZzB,IAAK1I,EAAKsJ,KAAMtJ,EAAKwJ,MAAMvD,EAAM,EAAE,GAAY,IAARa,KAAKqD,GAAe,GAARrD,KAAKqD,IAAkB,GAARrD,KAAKqD,GAAgB,IAARrD,KAAKqD,KAElF2R,EAAgB,CAClBta,MAAe,IAARsF,KAAKqD,GACZzB,IAAK1I,EAAKsJ,KAAMtJ,EAAKwJ,MAAMvD,EAAM,GAAI,EAAU,IAARa,KAAKqD,GAAe,IAARrD,KAAKqD,IAAkB,IAARrD,KAAKqD,GAAgB,IAARrD,KAAKqD,KAGlF4R,EAAa5X,EAAIkE,IAAIqN,EAAO1Q,EAAG0Q,EAAOtQ,EAAGwW,EAAS,EAAEA,EAAS,GAAIC,EAAara,MAAOqa,EAAanT,KAClGsT,EAAc7X,EAAIkE,IAAIqN,EAAO1Q,EAAG0Q,EAAOtQ,EAAGwW,EAAS,EAAEA,EAAS,GAAIE,EAActa,MAAOsa,EAAcpT,KAEzG7H,KAAK0a,OAAOpU,aAAa,IAAI4U,GAC7Blb,KAAK0a,OAAOpU,aAAa,eAAgByU,EAAS,IAClD/a,KAAK0a,OAAOpU,aAAa,OAAQ,QAEjCtG,KAAK2a,QAAQrU,aAAa,IAAI6U,GAC9Bnb,KAAK2a,QAAQrU,aAAa,eAAgByU,EAAS,IACnD/a,KAAK2a,QAAQrU,aAAa,OAAQ,QAElC4U,GAAc,MAAMrG,EAAO1Q,EAAE,IAAI0Q,EAAOtQ,EAExCvE,KAAK4a,WAAWtU,aAAa,IAAI4U,GACjClb,KAAK4a,WAAWtU,aAAa,eAAgB,OAE7C6U,GAAe,MAAMtG,EAAO1Q,EAAE,IAAI0Q,EAAOtQ,EAEzCvE,KAAK6a,YAAYvU,aAAa,IAAI6U,GAClCnb,KAAK6a,YAAYvU,aAAa,eAAgB,OAE9C,IAAI8U,OAAUrP,EAEZqP,EADEhW,EAAQ,GACG4V,EAAanT,IAEboT,EAAcpT,IAG7B,IAAIwT,EAAaxG,EAAO1Q,EAAI8B,KAAKuD,IAAI4R,IAAeL,EAAS,GACzDO,EAAazG,EAAOtQ,EAAI0B,KAAKwD,IAAI2R,IAAeL,EAAS,IAAK,EAElE/a,KAAK8a,WAAWxU,aAAa,IAAI,KAAKuO,EAAO1Q,EAAE,IAAI0Q,EAAOtQ,EAAE,MAAM8W,EAAW,IAAIC,GACjFtb,KAAK8a,WAAWxU,aAAa,eAAgByU,EAAS,MAIxDxU,eAAA,CAAcnB,MAAA,WACZpF,KAAKwa,WAAWlU,aAAa,OAAQtG,KAAKnB,OAAOgC,MACjDb,KAAKya,MAAMnU,aAAa,OAAQtG,KAAKnB,OAAO+B,QAC5CZ,KAAK0a,OAAOpU,aAAa,SAAUtG,KAAKnB,OAAO+B,QAC/CZ,KAAK2a,QAAQrU,aAAa,SAAUtG,KAAKnB,OAAO+B,QAChDZ,KAAK4a,WAAWtU,aAAa,OAAQtG,KAAKnB,OAAO+B,QACjDZ,KAAK6a,YAAYvU,aAAa,OAAQtG,KAAKnB,OAAO+B,QAClDZ,KAAK8a,WAAWxU,aAAa,SAAUtG,KAAKnB,OAAO+B,UAIrD2E,OAAA,CAAMH,MAAA,WACJ,IAAIA,EAAQpF,KAAK6V,OAAOxQ,WAEpBwP,EAAS,CACX1Q,EAAGnE,KAAKkF,MAAM,EACdX,EAAGvE,KAAKmF,OAAO,GAGb4V,EAAW9U,KAAKC,IAAIlG,KAAKkF,MAAMlF,KAAKmF,QAEpC6V,EAAe,CACjBra,MAAe,IAARsF,KAAKqD,GACZzB,IAAK1I,EAAKsJ,KAAMtJ,EAAKwJ,MAAMvD,EAAM,EAAE,GAAY,IAARa,KAAKqD,GAAe,GAARrD,KAAKqD,IAAkB,GAARrD,KAAKqD,GAAgB,IAARrD,KAAKqD,KAElF2R,EAAgB,CAClBta,MAAgB,IAATsF,KAAKqD,GACZzB,IAAK1I,EAAKsJ,KAAMtJ,EAAKwJ,MAAMvD,EAAM,GAAI,EAAU,IAARa,KAAKqD,GAAe,IAARrD,KAAKqD,IAAkB,IAARrD,KAAKqD,GAAgB,IAARrD,KAAKqD,KAGlF4R,EAAa5X,EAAIkE,IAAIqN,EAAO1Q,EAAG0Q,EAAOtQ,EAAGwW,EAAS,EAAEA,EAAS,GAAIC,EAAara,MAAOqa,EAAanT,KAClGsT,EAAc7X,EAAIkE,IAAIqN,EAAO1Q,EAAG0Q,EAAOtQ,EAAGwW,EAAS,EAAEA,EAAS,GAAIE,EAActa,MAAOsa,EAAcpT,KAEzG7H,KAAK0a,OAAOpU,aAAa,IAAI4U,GAC7Blb,KAAK2a,QAAQrU,aAAa,IAAI6U,GAG9BD,GAAc,MAAMrG,EAAO1Q,EAAE,IAAI0Q,EAAOtQ,EAExCvE,KAAK4a,WAAWtU,aAAa,IAAI4U,GAEjCC,GAAe,MAAMtG,EAAO1Q,EAAE,IAAI0Q,EAAOtQ,EAEzCvE,KAAK6a,YAAYvU,aAAa,IAAI6U,GAElC,IAAIC,OAAUrP,EAEZqP,EADEhW,GAAS,GACE4V,EAAanT,IAEboT,EAAcpT,IAG7B,IAAIwT,EAAaxG,EAAO1Q,EAAI8B,KAAKuD,IAAI4R,IAAeL,EAAS,GACzDO,EAAazG,EAAOtQ,EAAI0B,KAAKwD,IAAI2R,IAAeL,EAAS,IAAK,EAElE/a,KAAK8a,WAAWxU,aAAa,IAAI,KAAKuO,EAAO1Q,EAAE,IAAI0Q,EAAOtQ,EAAE,MAAM8W,EAAW,IAAIC,KAKnF1U,MAAA,CAAKxB,MAAA,WACa,aAAZpF,KAAK+D,OACP/D,KAAKua,eAAgB,GAEvBva,KAAKgF,SAAS6B,OAAS7G,KAAK8G,MAC5B9G,KAAKgF,SAASI,MAAQpF,KAAK6V,OAAOxQ,WAClCrF,KAAK+G,SAGPA,KAAA,CAAI3B,MAAA,WACF,GAAIpF,KAAK0G,QAAS,CAEhB1G,KAAKgF,SAASgC,OAAOhH,KAAK8G,OAE1B,IAAIyC,EAAQvJ,KAAKgF,SAASI,MAAMa,KAAKqD,GAAG,EAEpCC,EAAQ,IAAMA,GAAkB,EAARtD,KAAKqD,IAEf,aAAdtJ,KAAK+D,OACoB,IAAvB/D,KAAKua,eAA2BtU,KAAKgP,IAAIjV,KAAKua,cAAgBhR,GAAS,IAEvEA,EADEvJ,KAAKua,cAAgB,EACP,EAARtU,KAAKqD,GAEL,GAYdtJ,KAAKua,cAAgBhR,EAErB,IAAIgS,EAAYhS,GAAiB,EAARtD,KAAKqD,IAE9BtJ,KAAKoF,MAAQpF,KAAK6V,OAAO5O,aAAcsU,GAErB,aAAdvb,KAAK+D,OACP/D,KAAKgF,SAASI,MAAQmW,GAGxBvb,KAAKkH,KAAK,SAASlH,KAAK6V,OAAOzQ,OAE/BpF,KAAKuF,YAKT4B,QAAA,CAAO/B,MAAA,cA2BDA,MAAA,CAHKrD,IAAA,WACP,OAAO/B,KAAK6V,OAAOzQ,OAEZpD,IAAA,SAACoF,GACRpH,KAAK6V,OAAO7O,OAAOI,GACnBpH,KAAKgF,SAASI,MAAQpF,KAAK6V,OAAOxQ,WAClCrF,KAAKkH,KAAK,SAASlH,KAAK6V,OAAOzQ,OAC/BpF,KAAKuF,WAWHW,IAAA,CAHGnE,IAAA,WACL,OAAO/B,KAAK6V,OAAO3P,KAEdlE,IAAA,SAACoF,GACNpH,KAAK6V,OAAO3P,IAAMkB,IAWhBC,IAAA,CAHGtF,IAAA,WACL,OAAO/B,KAAK6V,OAAOxO,KAEdrF,IAAA,SAACoF,GACNpH,KAAK6V,OAAOxO,IAAMD,IAWhBE,KAAA,CAHIvF,IAAA,WACN,OAAO/B,KAAK6V,OAAOvO,MAEbtF,IAAA,SAACoF,GACPpH,KAAK6V,OAAOvO,KAAOF,IAWjBrD,KAAA,CAHIhC,IAAA,WACN,OAAO/B,KAAKgF,SAASjB,MAEf/B,IAAA,SAACoF,GACPpH,KAAKgF,SAASjB,KAAOqD,IAarB/B,WAAA,CAJUtD,IAAA,WACZ,OAAO/B,KAAK6V,OAAOxQ,YAGPrD,IAAA,SAACoF,GACbpH,KAAK6V,OAAO5O,aAAaG,GACzBpH,KAAKkH,KAAK,SAASlH,KAAKoF,WAzUPzC,EAAA,CAAaY,GAAblF,EAAAD,QAAAic,mBC9CrB,oyBAEI/W,EAAMpF,EAAQ,GACdqF,EAAYrF,EAAQ,GACpB0Y,EAAiB1Y,EAAQ,IACzBsd,EAAQtd,EAAQ,GAEdud,EAAA,SAAAhF,YAAAiF,IAAA3b,EAAAC,KAAA0b,GAIF,IAAI9X,EAAU,CAAC,QAAQ,OAAO,SAE1BC,EAAW,CACbC,KAAQ,CAAC,GAAG,IACZiJ,QAAU,EACVhJ,KAAQ,SACRqB,MAAS,GAGXZ,EAAAC,OAAAC,eAbEgX,EAAQ/W,WAAA,cAAA3E,MAAAxB,KAAAwB,KAaJ4E,UAAUhB,EAAQC,GAExB7D,KAAKS,KAAOT,KAAK8E,SAASrE,KAC1BT,KAAKqQ,MAAQrQ,KAAK8E,SAASuL,MAE3BrQ,KAAKnB,OAAS,CACZuS,EAAK,OACL3F,EAAK,QAGPzL,KAAKsF,OACLtF,KAAKuF,SAxBH,OAAAC,EAAAkW,EAAAjF,GAAA3U,EAAA4Z,EAAA,CA4BJ3N,WAAA,CAAU3I,MAAA,WACRpF,KAAK4F,QAAUtC,EAAIqC,OAAO,OAC1B3F,KAAK4F,QAAQU,aAAa,QAAQtG,KAAKkF,OACvClF,KAAK4F,QAAQU,aAAa,SAAStG,KAAKmF,QACxCnF,KAAKsN,OAAOzH,YAAY7F,KAAK4F,WAG/BH,eAAA,CAAcL,MAAA,sBAEZpF,KAAK0W,IAAMpT,EAAIqC,OAAO,QAEtB3F,KAAK4F,QAAQC,YAAY7F,KAAK0W,KAE9B1W,KAAKkO,kBAAoBlO,KAAK0W,IAIzB8E,EAAMrN,SAETnO,KAAK4G,MAAQ,WAEX0H,EAAKqN,MAAMC,aAAc,EACzBtN,EAAKqN,MAAMvG,YAAc9G,EAAK6G,MAC9B7G,EAAKuI,KAAKvI,EAAKqN,MAAMvG,aAGvBpV,KAAK0W,IAAItI,iBAAiB,aAAa,WACjCE,EAAKqN,MAAMC,aAEbtN,EAAKuI,KAAKvI,EAAKqN,MAAMvG,eAKzBpV,KAAK+G,KAAO,WACNuH,EAAKqN,MAAMC,aAEbtN,EAAKwI,QAKT9W,KAAKmH,QAAU,WACbmH,EAAKqN,MAAMC,aAAc,GAI3B5b,KAAK0W,IAAItI,iBAAiB,WAAW,WAC/BE,EAAKqN,MAAMC,aAEbtN,EAAKyI,QAGT/W,KAAK0W,IAAItI,iBAAiB,YAAY,WAChCE,EAAKqN,MAAMC,aAEbtN,EAAKyI,WAQbjR,cAAA,CAAaV,MAAA,WAKPpF,KAAK0W,IAAIpQ,aAAa,IAAI,IAC1BtG,KAAK0W,IAAIpQ,aAAa,IAAI,IACtBtG,KAAKkF,MAAQ,EACflF,KAAK0W,IAAIpQ,aAAa,QAAStG,KAAKkF,MAAQ,GAE5ClF,KAAK0W,IAAIpQ,aAAa,QAAStG,KAAKkF,OAElClF,KAAKmF,OACPnF,KAAK0W,IAAIpQ,aAAa,SAAUtG,KAAKmF,QAIvCnF,KAAK0W,IAAIpQ,aAAa,KAdT,GAebtG,KAAK0W,IAAIpQ,aAAa,KAfT,KAmBnBf,OAAA,CAAMH,MAAA,WACCpF,KAAKmV,MAGRnV,KAAK0W,IAAIpQ,aAAa,OAAQtG,KAAKnB,OAAO+B,QAF1CZ,KAAK0W,IAAIpQ,aAAa,OAAQtG,KAAKnB,OAAOmB,KAAKqQ,YApH/CqL,EAAA,CAAiB9E,GA0JFiF,EAAA,SAAAlY,YAAAf,IAAA7C,EAAAC,KAAA4C,GAIjB,IAAIgB,EAAU,CAAC,SAEXC,EAAW,CACbC,KAAQ,CAAC,IAAI,KACbgY,QAAW,GACXC,SAAY,GACZhY,KAAQ,UAGVS,EAAAC,OAAAC,eAbiB9B,EAAK+B,WAAA,cAAA3E,MAAAxB,KAAAwB,KAahB4E,UAAUhB,EAAQC,GAExB7D,KAAKgc,WAAa,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAE/Dhc,KAAKoV,YAAa,EAElBpV,KAAK+D,KAAO/D,KAAK8E,SAASf,KAE1B/D,KAAKic,MAAQ,CACXtR,IAAK3K,KAAK8E,SAASgX,QACnBlR,KAAM5K,KAAK8E,SAASiX,UAGtB/b,KAAKic,MAAMnY,KAAO9D,KAAKic,MAAMrR,KAAO5K,KAAKic,MAAMtR,IAAM,EAErD3K,KAAKkc,KAAO,GAEZlc,KAAKmc,UAAW,EAEhBnc,KAAKsF,OACLtF,KAAKuF,SAjCY,OAAAC,EAAA5C,EAAAe,GAAA7B,EAAAc,EAAA,CAqCnBmL,WAAA,CAAU3I,MAAA,WACRpF,KAAK4F,QAAUtE,SAASC,cAAc,OACtCvB,KAAK4F,QAAQY,MAAMxB,SAAW,WAC9BhF,KAAK4F,QAAQY,MAAM4V,aAAe,MAClCpc,KAAK4F,QAAQY,MAAM6V,QAAU,QAC7Brc,KAAK4F,QAAQY,MAAMtB,MAAQ,OAC3BlF,KAAK4F,QAAQY,MAAMrB,OAAS,OAC5BnF,KAAKsN,OAAOzH,YAAY7F,KAAK4F,WAG/BH,eAAA,CAAcL,MAAA,WAEZpF,KAAKkc,KAAO,GAEZ,IAAK,IAAI5T,EAAE,EAAEA,EAAEtI,KAAKic,MAAMnY,KAAKwE,IAAK,CAElC,IAAI6P,EAAY7W,SAASC,cAAc,QACnC+a,GAAchU,EAAEtI,KAAKic,MAAMtR,KAAO3K,KAAKgc,WAAW1R,OAElDxK,EAAM,IAAI2b,EAAStD,EAAW,CAC9BhL,WAAW,EACX1M,KAAM6H,EAAEtI,KAAKic,MAAMtR,IACnB0F,MAAOrQ,KAAKgc,WAAWM,GACvBvY,KAAM/D,KAAK+D,MACV/D,KAAKuc,UAAU7b,KAAKV,KAAKsI,EAAEtI,KAAKic,MAAMtR,MAE3C7K,EAAI6b,MAAQ3b,KAERwb,EAAMrN,SACRrO,EAAI4W,IAAI6B,MAAQjQ,EAChBxI,EAAIgP,SAAWhP,EAAI6O,QAAU7O,EAAI+O,WAAa,aAC9C/O,EAAI8G,MAAQ9G,EAAIiH,KAAOjH,EAAIqH,QAAU,aACrCrH,EAAIyO,SAAWzO,EAAI0O,aAAe1O,EAAI2O,gBAAkB,aACxD3O,EAAIoM,MAAQpM,EAAI6P,UAAY7P,EAAI8P,aAAe,cAGjD5P,KAAKkc,KAAK1T,KAAK1I,GACfE,KAAK4F,QAAQC,YAAYsS,GAGvBqD,EAAMrN,QACRnO,KAAKwc,sBAKT1W,cAAA,CAAaV,MAAA,WAMX,IAJA,IAAIqX,EAAO,EAEPC,EAAe,GAEVpU,EAAE,EAAEA,EAAEtI,KAAKic,MAAMnY,KAAKwE,IAAK,CAElCoU,EAAalU,KAAKiU,GAElB,IAAIH,GAAchU,EAAEtI,KAAKic,MAAMtR,KAAO3K,KAAKgc,WAAW1R,OAClDqS,GAAkBrU,EAAE,EAAEtI,KAAKic,MAAMtR,KAAO3K,KAAKgc,WAAW1R,OACxDhC,EAAE,EAAEtI,KAAKic,MAAMtR,KAAO3K,KAAKic,MAAMrR,MAEM,MAAhC5K,KAAKgc,WAAWM,IAA2D,MAApCtc,KAAKgc,WAAWW,GADhEF,GAAQ,EAIRA,GAAQ,GAGZ,IAAIG,EAAWH,EAKXpE,GAAerY,KAAKkF,MAAM2X,GAAaD,EACvCtE,GAAgBtY,KAAKmF,OAAO0X,GAAa,EAE7C,IAASvU,EAAE,EAAEA,EAAEtI,KAAKkc,KAAK5R,OAAOhC,IAAK,CAEnC,IAAI6P,EAAYnY,KAAKkc,KAAK5T,GAAGgF,OAC7B6K,EAAU3R,MAAMxB,SAAW,WAC3BmT,EAAU3R,MAAMmK,KAAQ+L,EAAapU,GAAG+P,EAR5B,EAQmD,KACpC,MAAvBrY,KAAKkc,KAAK5T,GAAG+H,OACf8H,EAAU3R,MAAMiK,IAAOoM,MACvB7c,KAAKkc,KAAK5T,GAAGvC,OAAOsS,EAA0B,EAAbC,KAEjCH,EAAU3R,MAAMsW,OAAS,EACzB3E,EAAU3R,MAAMiK,IAAMoM,MACtB7c,KAAKkc,KAAK5T,GAAGvC,OAAOsS,EAA0B,IAAbC,OAOvC/R,eAAA,CAAcnB,MAAA,WAIZpF,KAAK4F,QAAQY,MAAMC,gBAAkBzG,KAAKnB,OAAOmC,YAEjD,IAAK,IAAIsH,EAAE,EAAEA,EAAEtI,KAAKkc,KAAK5R,OAAOhC,IAC9BtI,KAAKkc,KAAK5T,GAAGzJ,OAAS,CACpBuS,EAAKpR,KAAKnB,OAAOiC,MACjB2K,EAAKzL,KAAKnB,OAAOkC,KACjBH,OAAUZ,KAAKnB,OAAO+B,OACtBqZ,OAAUja,KAAKnB,OAAOmC,aAExBhB,KAAKkc,KAAK5T,GAAG/B,iBACbvG,KAAKkc,KAAK5T,GAAG/C,WAMjBgX,UAAA,CAASnX,MAAA,SAAC3E,EAAK4F,GAKb,IAAIsD,EAAO,CACTlJ,KAAMA,GAGNkJ,EAAKwL,MADW,iBAAP9O,EACIA,EAAG8O,MAIH9O,EAEfrG,KAAKkH,KAAK,SAASyC,KAUrBpE,OAAA,CAAMH,MAAA,cAINoX,kBAAA,CAAiBpX,MAAA,WACfpF,KAAK8O,SAAW9O,KAAK2O,QAAU3O,KAAK6O,WAAa,aACjD7O,KAAK4G,MAAQ5G,KAAK+G,KAAO/G,KAAKmH,QAAU,aACxCnH,KAAKuO,SAAWvO,KAAKwO,aAAexO,KAAKyO,gBAAkB,aAC3DzO,KAAKkM,MAAQlM,KAAK2P,UAAY3P,KAAK4P,aAAe,aAElD,IAAMmN,EAAmB,GACnBb,EAAOlc,KAAKkc,cAMTc,IACP,IAAMC,EAAgB,GAGtBxY,OAAOyX,KAAKa,GAAkBtL,SAAQ,SAAAnT,GACpC,IAAM4N,EAAQ6Q,EAAiBze,GACzBgS,EAAKhP,SAAS4b,iBAAiBhR,EAAMiR,QAASjR,EAAMkR,SACtDtd,EAAMwQ,EAAK4L,EAAK5L,EAAGiI,OAAS,KAC5BzY,GACFmd,EAAc3M,EAAGiI,OAASja,EACrBwB,EAAIqV,OACPrV,EAAI+W,eAGCkG,EAAiBze,MAK5B4d,EAAKzK,SAAQ,SAAA3R,GACPA,EAAIqV,QAAU8H,EAAcnd,EAAI4W,IAAI6B,QACtCzY,EAAIiX,iBAKDsG,EAAwBrO,GAC/BA,EAAEM,iBACFN,EAAEO,kBACF,IAAK,IAAIjH,EAAI,EAAGA,EAAI0G,EAAEsO,eAAehT,OAAQhC,IAAI,CAC/C,IAAMiV,EAAQvO,EAAEsO,eAAehV,GAC/ByU,EAAiBQ,EAAMC,YAlClB,CAAEA,YADStR,EAmCgCqR,GAlCvBC,WAAYL,QAASjR,EAAMiR,QAASC,QAASlR,EAAMkR,aAD5DlR,EAqClB8Q,IAaFhd,KAAK4F,QAAQwI,iBAAiB,aAAciP,GAC5Crd,KAAK4F,QAAQwI,iBAAiB,YAAaiP,GAC3Crd,KAAK4F,QAAQwI,iBAAiB,qBAZNY,GACtBA,EAAEM,iBACFN,EAAEO,kBACF,IAAK,IAAIjH,EAAI,EAAGA,EAAI0G,EAAEsO,eAAehT,OAAQhC,IAAI,CAC/C,IAAMiV,EAAQvO,EAAEsO,eAAehV,UACxByU,EAAiBQ,EAAMC,YAEhCR,SAaJS,SAAA,CAAQrY,MAAA,SAACuF,EAAIC,GACX5K,KAAKic,MAAMtR,IAAMA,EACjB3K,KAAKic,MAAMrR,KAAOA,EAClB5K,KAAK6P,QACL7P,KAAKyF,mBAQPiY,UAAA,CAAStY,MAAA,SAAC3E,EAAM4F,GACdrG,KAAKkc,KAAKzb,EAAKT,KAAKic,MAAMtR,KAAK6K,KAAKnP,KAQtCsX,YAAA,CAAWvY,MAAA,SAACmT,EAAOlS,GACjBrG,KAAKkc,KAAK3D,GAAO/C,KAAKnP,OA7QLzD,EAAA,CAAcW,GAAdlF,EAAAD,QAAAyd,mBCjKrB,oyBAEIvY,EAAMpF,EAAQ,GACd8N,EAAM9N,EAAQ,GACdqF,EAAYrF,EAAQ,GACpB0Y,EAAiB1Y,EAAQ,IACzB0f,EAAc1f,EAAQ,IACtB2f,EAAe3f,EAAQ,IACvB2B,EAAW3B,EAAQ,IACnBgO,EAAQhO,EAAQ,GAEd4f,EAAA,SAAArH,YAAAsH,IAAAhe,EAAAC,KAAA+d,GAEF,IAAIna,EAAU,CAAC,SAEXC,EAAW,CACbC,KAAM,CAAC,GAAI,IACXiJ,QAAQ,EACRhJ,KAAM,SACNqB,MAAO,EACP4Y,WAAY,EACZC,cAAe,GAGjBzZ,EAAAC,OAAAC,eAbEqZ,EAAUpZ,WAAA,cAAA3E,MAAAxB,KAAAwB,KAaN4E,UAAWhB,EAASC,GAE1B7D,KAAKuY,MAAQvY,KAAK8E,SAASyT,MAC3BvY,KAAKke,IAAMle,KAAK8E,SAASoZ,IACzBle,KAAKme,OAASne,KAAK8E,SAASqZ,OAE5Bne,KAAKoe,OAASpe,KAAK8E,SAASsZ,OAM5Bpe,KAAKge,WAAahe,KAAK8E,SAASkZ,YAAcna,EAASma,WAMvDhe,KAAKie,cAAgBje,KAAK8E,SAASmZ,eAAiBpa,EAASoa,cAE7Dje,KAAK4b,aAAc,EACnB5b,KAAKoV,YAAa,EAElBpV,KAAKsF,OACLtF,KAAKuF,SArCH,OAAAC,EAAAuY,EAAAtH,GAAA3U,EAAAic,EAAA,CAwCJhQ,WAAA,CAAU3I,MAAA,WACRpF,KAAK4F,QAAUtC,EAAIqC,OAAO,OAC1B3F,KAAK4F,QAAQU,aAAa,QAAStG,KAAKkF,OACxClF,KAAK4F,QAAQU,aAAa,SAAUtG,KAAKmF,QACzCnF,KAAK4F,QAAQY,MAAMiK,IAAM,MACzBzQ,KAAK4F,QAAQY,MAAMmK,KAAO,MAC1B3Q,KAAK4F,QAAQY,MAAMxB,SAAW,WAC9BhF,KAAKsN,OAAOzH,YAAY7F,KAAK4F,WAG/BH,eAAA,CAAcL,MAAA,sBACZpF,KAAK0W,IAAMpT,EAAIqC,OAAO,QACtB3F,KAAK4F,QAAQC,YAAY7F,KAAK0W,KAE9B1W,KAAKkO,kBAAoBlO,KAAK0W,IAIzBxK,EAAMiC,SACTnO,KAAK4G,MAAQ,WACX0H,EAAK8P,OAAOxC,aAAc,EAC1BtN,EAAK8P,OAAOhJ,YAAc9G,EAAK6G,MAC/B7G,EAAKuI,KAAKvI,EAAK8P,OAAOhJ,aAExBpV,KAAK0W,IAAItI,iBAAiB,aAAa,WACjCE,EAAK8P,OAAOxC,aACdtN,EAAKuI,KAAKvI,EAAK8P,OAAOhJ,eAI1BpV,KAAK+G,KAAO,aACZ/G,KAAK0W,IAAItI,iBAAiB,aAAa,SAAAY,GACjCV,EAAK8P,OAAOxC,cACTtN,EAAKW,SACRX,EAAKW,OAASjD,EAAIkD,aAAaZ,EAAK1I,UAEtC0I,EAAKxH,MAAQkF,EAAImD,YAAYH,EAAGV,EAAKW,QACrCX,EAAKwI,WAIT9W,KAAKmH,QAAU,WACbmH,EAAK8P,OAAOxC,aAAc,GAE5B5b,KAAK0W,IAAItI,iBAAiB,WAAW,WAC/BE,EAAK8P,OAAOxC,aACdtN,EAAKyI,QAGT/W,KAAK0W,IAAItI,iBAAiB,YAAY,WAChCE,EAAK8P,OAAOxC,aACdtN,EAAKyI,WAMbjR,cAAA,CAAaV,MAAA,WACXpF,KAAK0W,IAAIpQ,aAAa,IAAKtG,KAAKie,cAAgB,GAChDje,KAAK0W,IAAIpQ,aAAa,IAAKtG,KAAKge,WAAa,GACzChe,KAAKkF,MAAQ,EACflF,KAAK0W,IAAIpQ,aAAa,QAAStG,KAAKkF,MAAQlF,KAAKie,eAEjDje,KAAK0W,IAAIpQ,aAAa,QAAStG,KAAKkF,OAElClF,KAAKmF,OAAS,EAChBnF,KAAK0W,IAAIpQ,aAAa,SAAUtG,KAAKmF,OAASnF,KAAKge,YAEnDhe,KAAK0W,IAAIpQ,aAAa,SAAUtG,KAAKmF,QAEvCnF,KAAK0W,IAAIpQ,aAAa,OAAQtG,KAAKoe,OAAOvf,OAAOgC,QAGnD0E,OAAA,CAAMH,MAAA,WACCpF,KAAKmV,MAGRnV,KAAK0W,IAAIpQ,aAAa,OAAQtG,KAAKoe,OAAOvf,OAAO+B,QAFjDZ,KAAK0W,IAAIpQ,aAAa,OAAQtG,KAAKoe,OAAOvf,OAAOgC,UAnHjDkd,EAAA,CAAmBnH,GAmKJyH,EAAA,SAAA1a,YAAAd,IAAA9C,EAAAC,KAAA6C,GAEjB,IAAIe,EAAU,CAAC,SAEXC,EAAW,CACbC,KAAM,CAAC,IAAK,KACZC,KAAM,SACNua,KAAM,EACNC,QAAS,IAGX/Z,EAAAC,OAAAC,eAXiB7B,EAAS8B,WAAA,cAAA3E,MAAAxB,KAAAwB,KAWpB4E,UAAWhB,EAASC,GAE1B7D,KAAKgY,QAAS,EAOdhY,KAAK+D,KAAO/D,KAAK8E,SAASf,KAM1B/D,KAAKwe,SAAW,IAAI3e,EAAS,KAAK,eAAe,GAMjDG,KAAKoe,OAAS,IAAIR,EAAY5d,KAAK8E,SAASwZ,KAAMte,KAAK8E,SAASyZ,SAChEve,KAAKoe,OAAOK,GAAKze,KAMjBA,KAAK0e,QAAU,IAAIb,EAAa,EAAG7d,KAAKue,SAExCve,KAAKge,WAAahe,KAAK8E,SAASkZ,WAChChe,KAAKie,cAAgBje,KAAK8E,SAASmZ,cAEnCje,KAAKsF,OA5CY,OAAAE,EAAA3C,EAAAc,GAAA7B,EAAAe,EAAA,CA+CnBkL,WAAA,CAAU3I,MAAA,WACRpF,KAAK4F,QAAUtE,SAASC,cAAc,OACtCvB,KAAK4F,QAAQY,MAAMxB,SAAW,WAC9BhF,KAAK4F,QAAQY,MAAM6V,QAAU,QAC7Brc,KAAK4F,QAAQY,MAAMtB,MAAQ,OAC3BlF,KAAK4F,QAAQY,MAAMrB,OAAS,OAC5BnF,KAAKsN,OAAOzH,YAAY7F,KAAK4F,SACzBsG,EAAMiC,QACRnO,KAAKwc,sBAIT/W,eAAA,CAAcL,MAAA,WACZpF,KAAK2e,MAAQ,GACb,IAAK,IAAIrW,EAAI,EAAGA,EAAItI,KAAKoe,OAAO9T,OAAQhC,IAAK,CAC3C,IAAIsW,EAAW5e,KAAKoe,OAAOS,OAAOvW,GAG9B6P,EAAY7W,SAASC,cAAc,QACvC4W,EAAU3R,MAAMxB,SAAW,WAE3B,IAAI8Z,EAAO,IAAIhB,EACb3F,EACA,CACEhL,WAAW,EACXoL,MAAOjQ,EACP4V,IAAKU,EAASV,IACdC,OAAQS,EAAST,OACjBpa,KAAM/D,KAAK+D,KACXqa,OAAQpe,KACRge,WAAYhe,KAAKge,WACjBC,cAAeje,KAAKie,eAEtBje,KAAKuc,UAAU7b,KAAKV,KAAMsI,IAIxB4D,EAAMiC,SACR2Q,EAAKpI,IAAI6B,MAAQjQ,EACjBwW,EAAKhQ,SAAWgQ,EAAKnQ,QAAUmQ,EAAKjQ,WAAa,aACjDiQ,EAAKlY,MAAQkY,EAAK/X,KAAO+X,EAAK3X,QAAU,aACxC2X,EAAKvQ,SAAWuQ,EAAKtQ,aAAesQ,EAAKrQ,gBAAkB,aAC3DqQ,EAAK5S,MAAQ4S,EAAKnP,UAAYmP,EAAKlP,aAAe,cAGpD5P,KAAK2e,MAAMnW,KAAKsW,GAChB9e,KAAK4F,QAAQC,YAAYsS,GAE3BnY,KAAK8F,kBAGPA,cAAA,CAAaV,MAAA,WAIX,IAHA,IAAI2Z,EAAY/e,KAAKkF,MAAQlF,KAAKue,QAC9BS,EAAahf,KAAKmF,OAASnF,KAAKse,KAE3BhW,EAAI,EAAGA,EAAItI,KAAK2e,MAAMrU,OAAQhC,IAAK,CAC1C,IAAI6P,EAAYnY,KAAK2e,MAAMrW,GAAGgF,OAC9B6K,EAAU3R,MAAMmK,KAAO3Q,KAAK2e,MAAMrW,GAAG6V,OAASY,EAAY,KAC1D5G,EAAU3R,MAAMiK,IAAMzQ,KAAK2e,MAAMrW,GAAG4V,IAAMc,EAAa,KACvDhf,KAAK2e,MAAMrW,GAAGvC,OAAOgZ,EAAWC,MAIpCzY,eAAA,CAAcnB,MAAA,WACZ,IAAK,IAAIkD,EAAI,EAAGA,EAAItI,KAAK2e,MAAMrU,OAAQhC,IACrCtI,KAAK2e,MAAMrW,GAAG/C,WAIlByB,OAAA,CAAM5B,MAAA,sBAGJpF,KAAKoe,OAAOa,SAAQ,SAAC/V,EAAGxK,EAAG4J,GAErBgG,EAAK8P,OAAOc,QAAQhW,GAAGxK,KAAO4P,EAAKqQ,MAAMrW,GAAG6M,QAC1C7G,EAAK8P,OAAOc,QAAQhW,GAAGxK,GAAK,EAC9B4P,EAAKqQ,MAAMrW,GAAGiN,SAEdjH,EAAKqQ,MAAMrW,GAAGmN,gBAatB8G,UAAA,CAASnX,MAAA,SAAC3E,EAAM4F,GAId,IAAIyY,EAAO9e,KAAKoe,OAAOS,OAAOpe,GAE9BT,KAAKoe,OAAOc,QAAQJ,EAAKZ,KAAKY,EAAKX,QAAU9X,EAC7C,IAAIsD,EAAO,CACTuU,IAAKY,EAAKZ,IACVC,OAAQW,EAAKX,OACbhJ,MAAO9O,GAETrG,KAAKkH,KAAK,SAAUyC,KAGtBpE,OAAA,CAAMH,MAAA,sBACApF,KAAK0e,QAAQtZ,OAAS,GACxBpF,KAAKoe,OAAOa,SAAQ,SAAC/V,EAAGxK,EAAG4J,GACrB5J,IAAM4P,EAAKoQ,QAAQtZ,OACrBkJ,EAAKqQ,MAAMrW,GAAGoO,IAAIpQ,aAAa,SAAUgI,EAAKzP,OAAOmC,aACrDsN,EAAKqQ,MAAMrW,GAAGoO,IAAIpQ,aAAa,eAAgB,KAC/CgI,EAAKqQ,MAAMrW,GAAGoO,IAAIpQ,aAAa,iBAAkB,MAEjDgI,EAAKqQ,MAAMrW,GAAGoO,IAAIpQ,aAAa,SAAU,aAUjD3F,MAAA,CAAKyE,MAAA,SAAC+Z,GACJnf,KAAKwe,SAAStR,MAAQlN,KAAKof,KAAK1e,KAAKV,MACjCmf,GACFnf,KAAKwe,SAASW,GAAGA,GAEnBnf,KAAKwe,SAAS7d,UAMhBuB,KAAA,CAAIkD,MAAA,WACFpF,KAAKwe,SAAStc,SAMhBkd,KAAA,CAAIha,MAAA,WACFpF,KAAK0e,QAAQU,OACbpf,KAAKkH,KAAK,OAAQlH,KAAKoe,OAAOD,OAAOne,KAAK0e,QAAQtZ,OAAOia,WACzDrf,KAAKuF,WAGPiX,kBAAA,CAAiBpX,MAAA,sBACfpF,KAAK8O,SAAW9O,KAAK2O,QAAU3O,KAAK6O,WAAa,aACjD7O,KAAK4G,MAAQ5G,KAAK+G,KAAO/G,KAAKmH,QAAU,aACxCnH,KAAKuO,SAAWvO,KAAKwO,aAAexO,KAAKyO,gBAAkB,aAC3DzO,KAAKkM,MAAQlM,KAAK2P,UAAY3P,KAAK4P,aAAe,aAElD5P,KAAKsf,gBAAiB,EAEtBtf,KAAK4F,QAAQwI,iBAAiB,cAAc,SAAAY,GAC1C,IAAIpJ,EAAUtE,SAAS4b,iBACrBlO,EAAEiC,cAAc,GAAGkM,QACnBnO,EAAEiC,cAAc,GAAGmM,SAEjB0B,EAAOxQ,EAAKqQ,MAAM/Y,EAAQ2S,OAC9BjK,EAAK8G,YAAc0J,EAAK3J,MACxB2J,EAAKjI,KAAKvI,EAAK8G,YACf9G,EAAKgR,eAAiB1Z,EAAQ2S,MAC9BvJ,EAAEM,iBACFN,EAAEO,qBAGJvP,KAAK4F,QAAQwI,iBAAiB,aAAa,SAAAY,GACzC,IAAIpJ,EAAUtE,SAAS4b,iBACrBlO,EAAEiC,cAAc,GAAGkM,QACnBnO,EAAEiC,cAAc,GAAGmM,SAEjB0B,EAAOxQ,EAAKqQ,MAAM/Y,EAAQ2S,OAC1B3S,EAAQ2S,QAAUjK,EAAKgR,gBACrBhR,EAAKgR,gBAAkB,GACVhR,EAAKqQ,MAAMrQ,EAAKgR,gBACtBvI,KAEX+H,EAAKjI,KAAKvI,EAAK8G,aAEf0J,EAAKhI,OAEPxI,EAAKgR,eAAiB1Z,EAAQ2S,MAC9BvJ,EAAEM,iBACFN,EAAEO,qBAGJvP,KAAK4F,QAAQwI,iBAAiB,YAAY,SAAAY,GAE7BV,EAAKqQ,MAAMrQ,EAAKgR,gBACtBvI,KACLzI,EAAKsN,aAAc,EACnBtN,EAAKgR,gBAAiB,EACtBtQ,EAAEM,iBACFN,EAAEO,uBAYF+O,KAAA,CAJIvc,IAAA,WACN,OAAO/B,KAAKoe,OAAOE,MAGbtc,IAAA,SAACoF,GACPpH,KAAKoe,OAAOE,KAAOlX,EACnBpH,KAAK6P,QACL7P,KAAKyF,iBACLzF,KAAKgH,WAWHuX,QAAA,CAJOxc,IAAA,WACT,OAAO/B,KAAKoe,OAAOG,SAGVvc,IAAA,SAACoF,GACVpH,KAAKoe,OAAOG,QAAUnX,EACtBpH,KAAK0e,QAAQrX,IAAMD,EACnBpH,KAAK6P,QACL7P,KAAKyF,iBACLzF,KAAKgH,aAnRYnE,EAAA,CAAkBU,GAAlBlF,EAAAD,QAAAigB,mBC9KrB,qQAEOlf,EAAID,EAAAhB,EAAM,IACVwB,EAAQR,EAAAhB,EAAM,KAuBAqhB,EAAA,oBAAA5f,EAEP2e,EAAKC,2GAFExe,CAAAC,KAAAL,GAIjBK,KAAKkf,QAAU,GACflf,KAAK2F,OAAO2Y,EAAKC,GAEjBve,KAAKwf,OAAS,CACZV,KAAM,SAACX,EAAQD,GAGb,OAFA5P,EAAK4Q,QAAQhB,GAAKC,IAAW7P,EAAK4Q,QAAQhB,GAAKC,GAC3C7P,EAAKmQ,IAAMnQ,EAAKmQ,GAAGzX,SAChBsH,EAAK4Q,QAAQhB,GAAKC,IAE3BsB,IAAK,WACHnR,EAAK2Q,SAAQ,SAAC/V,EAAExK,GAAQ4P,EAAKkR,OAAOV,KAAKpgB,EAAEwK,MACvCoF,EAAKmQ,IAAMnQ,EAAKmQ,GAAGzX,UAEzBkX,IAAK,SAACA,GACJ,IAAK,IAAI5V,EAAE,EAAGA,EAAEgG,EAAKiQ,QAASjW,IAC5BgG,EAAKkR,OAAOV,KAAKxW,EAAE4V,GAEjB5P,EAAKmQ,IAAMnQ,EAAKmQ,GAAGzX,UAEzBmX,OAAQ,SAACA,GACP,IAAK,IAAI7V,EAAE,EAAGA,EAAEgG,EAAKgQ,KAAMhW,IACzBgG,EAAKkR,OAAOV,KAAKX,EAAO7V,GAEtBgG,EAAKmQ,IAAMnQ,EAAKmQ,GAAGzX,WAI3BhH,KAAKgC,IAAM,CACT8c,KAAM,SAACX,EAAQD,EAAK9Y,GAClBkJ,EAAK4Q,QAAQhB,GAAKC,GAAU/Y,EACxBkJ,EAAKmQ,IAAMnQ,EAAKmQ,GAAGzX,UAEzByY,IAAK,SAACC,GAGJpR,EAAK4Q,QAAUQ,EACXpR,EAAKmQ,IAAMnQ,EAAKmQ,GAAGzX,UAEzBkX,IAAK,SAACA,EAAIwB,GAERpR,EAAK4Q,QAAQhB,GAAOwB,EAChBpR,EAAKmQ,IAAMnQ,EAAKmQ,GAAGzX,UAEzBmX,OAAQ,SAACA,EAAOuB,GAEdpR,EAAK4Q,QAAQzN,SAAQ,SAACyM,EAAI5V,GACxBgG,EAAK4Q,QAAQ5W,GAAG6V,GAAUuB,EAAOpX,MAE/BgG,EAAKmQ,IAAMnQ,EAAKmQ,GAAGzX,WAI3BhH,KAAK2f,OAAS,CAGZF,IAAK,SAACG,GACCA,GAAmB,IAATA,IACbA,EAAS,IAEXA,GAAUtR,EAAK4Q,QAAQ,GAAG5U,QACb,IACXsV,EAAStR,EAAK4Q,QAAQ,GAAG5U,OAASsV,GAEpC,IAAK,IAAItX,EAAE,EAAGA,EAAEgG,EAAKgQ,KAAMhW,IAAK,CAC9B,IAAIuX,EAAMvR,EAAK4Q,QAAQ5W,GAAGwE,OAAQwB,EAAK4Q,QAAQ5W,GAAGgC,OAASsV,EAAQA,GACnEtR,EAAK4Q,QAAQ5W,GAAKuX,EAAIC,OAAQxR,EAAK4Q,QAAQ5W,IAEzCgG,EAAKmQ,IAAMnQ,EAAKmQ,GAAGzX,UAEzBkX,IAAK,SAACA,EAAI0B,GACHA,GAAmB,IAATA,IACbA,EAAS,IAEXA,GAAUtR,EAAK4Q,QAAQ,GAAG5U,QACb,IACXsV,EAAStR,EAAK4Q,QAAQ,GAAG5U,OAASsV,GAEpC,IAAIC,EAAMvR,EAAK4Q,QAAQhB,GAAKpR,OAAQwB,EAAK4Q,QAAQhB,GAAK5T,OAASsV,EAAQA,GACvEtR,EAAK4Q,QAAQhB,GAAO2B,EAAIC,OAAQxR,EAAK4Q,QAAQhB,IACzC5P,EAAKmQ,IAAMnQ,EAAKmQ,GAAGzX,UAEzBmX,OAAQ,SAACA,EAAQyB,GACVA,GAAmB,IAATA,IACbA,EAAS,IAEXA,GAAUtR,EAAK4Q,QAAQ5U,QACV,IACXsV,EAAStR,EAAK4Q,QAAQ5U,OAASsV,GAEjC,IAAIG,EAAQ,GACZzR,EAAK4Q,QAAQzN,SAAQ,SAACyM,GACpB6B,EAAMvX,KAAM0V,EAAIC,OAElB,IAAI0B,EAAME,EAAMjT,OAAQiT,EAAMzV,OAASsV,EAAQA,GAC/CG,EAAQF,EAAIC,OAAQC,GACpBzR,EAAK4Q,QAAQzN,SAAQ,SAACyM,EAAI5V,GACxB4V,EAAIC,GAAU4B,EAAMzX,MAElBgG,EAAKmQ,IAAMnQ,EAAKmQ,GAAGzX,WAO3BhH,KAAKggB,SAAW,CACdP,IAAK,SAAC3T,GACJ,IAAImU,EAAe,IAAIvgB,EAASoM,GAChCwC,EAAK2Q,SAAQ,SAAC/V,EAAExK,GACd4P,EAAK4Q,QAAQhW,GAAGxK,GAAKS,EAAK0M,KAAKoU,EAAab,WAM1C9Q,EAAKmQ,IAAMnQ,EAAKmQ,GAAGzX,UAEzBkX,IAAK,WAAC,IAAAA,OAAGnS,IAAAnH,UAAA,GAAC,EAAJA,UAAA,GAAMkH,OAAIC,IAAAnH,UAAA,GAAC,EAALA,UAAA,GACNqb,EAAe,IAAIvgB,EAASoM,GAChCwC,EAAK4Q,QAAQhB,GAAKzM,SAAQ,SAACqN,EAAKxW,GAC9BgG,EAAK4Q,QAAQhB,GAAK5V,GAAKnJ,EAAK0M,KAAKoU,EAAab,WAE5C9Q,EAAKmQ,IAAMnQ,EAAKmQ,GAAGzX,UAEzBmX,OAAQ,WAAC,IAAAA,OAAMpS,IAAAnH,UAAA,GAAC,EAAPA,UAAA,GAASkH,OAAIC,IAAAnH,UAAA,GAAC,EAALA,UAAA,GACZqb,EAAe,IAAIvgB,EAASoM,GAChCwC,EAAK4Q,QAAQzN,SAAQ,SAACyM,EAAI5V,GACxBgG,EAAK4Q,QAAQ5W,GAAG6V,GAAUhf,EAAK0M,KAAKoU,EAAab,WAE/C9Q,EAAKmQ,IAAMnQ,EAAKmQ,GAAGzX,WAK3BhH,KAAKkgB,MAAQ,CACXT,IAAK,WACHnR,EAAKtM,IAAIyd,IAAI,IAEfvB,IAAK,SAACA,GACJ5P,EAAKtM,IAAIkc,IAAIA,EAAI,IAEnBC,OAAQ,SAACA,GACP7P,EAAKtM,IAAImc,OAAOA,EAAO,iBAlJV,OAAArc,EAAAnC,EAAA,CA0JnBgG,OAAA,CAAMP,MAAA,SAACkZ,EAAKC,cACVve,KAAKkf,QAAU,GACf,IAAM,IAAIhB,EAAI,EAAGA,EAAMI,EAAMJ,IAAQ,CACnC,IAAIiC,EAAM,IAAIzS,MAAM6Q,GACpBve,KAAKkf,QAAQ1W,KAAK2X,GAEpBngB,KAAKif,SAAQ,SAAC/V,EAAExK,GAAQ4P,EAAK4Q,QAAQhW,GAAGxK,IAAK,OAG/CugB,QAAA,CAAO7Z,MAAA,SAACgb,EAAGC,GAET,IADA,IAAI/X,EAAI,EACE4V,EAAI,EAAGA,EAAMle,KAAKse,KAAMJ,IAAQ,CACpCmC,GAAMA,EAAGnC,GACb,IAAM,IAAIC,EAAO,EAAGA,EAASne,KAAKue,QAASJ,IACzCiC,EAAElC,EAAIC,EAAO7V,GACbA,OAKNgY,aAAA,CAAYlb,MAAA,sBACNmb,EAAgB,GAKpB,OAJAvgB,KAAKif,SACH,SAAC/V,EAAExK,GAAQ6hB,IAAkBjS,EAAK4Q,QAAQhW,GAAGxK,GAAK,EAAI,GAAK,OAC3D,WAAQ6hB,GAAiB,QAEpBA,IAGTC,IAAA,CAAGpb,MAAA,WACDqO,QAAQ+M,IAAIxgB,KAAKsgB,kBAGnBtZ,OAAA,CAAM5B,MAAA,SAAC8Z,GACLlf,KAAKkf,QAAUA,GAAWlf,KAAKkf,UAG7B5U,OAAA,CAAMvI,IAAA,WACR,OAAO/B,KAAKse,KAAKte,KAAKue,UAGxBM,OAAA,CAAMzZ,MAAA,SAACmT,GAEL,MAAO,CACL2F,OAAS3F,EAAQvY,KAAKue,SACtBJ,OAAQ5F,EAAQvY,KAAKue,WAIzBkC,QAAA,CAAOrb,MAAA,SAAC8Y,EAAIC,GACV,OAAOA,EAASD,EAAMle,KAAKue,UAI7BL,IAAA,UAAG,SAACA,GAEF,IADA,IAAIvU,EAAO,GACFrB,EAAE,EAAGA,EAAEtI,KAAKue,QAASjW,IAC5BqB,EAAKnB,KAAKxI,KAAKkf,QAAQhB,GAAO,EAAI,GAEpC,OAAOvU,gGAGTwU,OAAA,UAAM,SAACA,GAEL,IADA,IAAIxU,EAAO,GACFrB,EAAE,EAAGA,EAAEtI,KAAKse,KAAMhW,IACzBqB,EAAKnB,KAAKxI,KAAKkf,QAAQ5W,GAAG6V,GAAU,EAAI,GAE1C,OAAOxU,gGAML2U,KAAA,CAHIvc,IAAA,WACN,OAAO/B,KAAKkf,QAAQ5U,QAEdtI,IAAA,SAACoF,cACHsN,EAAW1U,KAAKkf,QAAQ/L,MAAM,GAClCnT,KAAK2F,OAAOyB,EAAEpH,KAAKue,SACnBve,KAAKif,SAAQ,SAAC/V,EAAExK,GACVgW,EAASxL,IAAMwL,EAASxL,GAAGxK,KAC7B4P,EAAK4Q,QAAQhW,GAAGxK,GAAKgW,EAASxL,GAAGxK,SAQnC6f,QAAA,CAHOxc,IAAA,WACT,OAAO/B,KAAKkf,QAAQ,GAAG5U,QAEdtI,IAAA,SAACoF,cACNsN,EAAW1U,KAAKkf,QAAQ/L,MAAM,GAClCnT,KAAK2F,OAAO3F,KAAKse,KAAKlX,GACtBpH,KAAKif,SAAQ,SAAC/V,EAAExK,GACVgW,EAASxL,IAAMwL,EAASxL,GAAGxK,KAC7B4P,EAAK4Q,QAAQhW,GAAGxK,GAAKgW,EAASxL,GAAGxK,WArPpBiB,EAAA,GAAAtB,EAAAD,QAAAmhB,mBC1BrB,oWAEOpgB,EAAID,EAAAhB,EAAM,IACVuB,EAAKP,EAAAhB,EAAM,KAEGwiB,EAAA,oBAAAhhB,IAEL,IAAAihB,OAAQ5U,IAAAnH,UAAA,GAAG,CAAC,EAAE,GAAG,GAAG,IAApBA,UAAA,GAAyBb,OAAIgI,IAAAnH,UAAA,GAAC,KAALA,UAAA,GAAWI,OAAQ+G,IAAAnH,UAAA,IAARA,UAAA,GAF/B7E,EAAAC,KAAAN,GAGbM,KAAK0f,OAASiB,EACTjT,MAAMC,QAAQ3N,KAAK0f,UACtB1f,KAAK0f,OAAS,CAAC1f,KAAK0f,SAEtB1f,KAAK4gB,MAAQ7c,EACb/D,KAAKgF,SAAWA,EAEhBhF,KAAK6gB,UAAY,IAAIphB,EAAM,EAAGO,KAAK0f,OAAOpV,OAAS,GAEnDtK,KAAK8gB,YAAc,CACjB/J,GAAM,EACNF,KAAQ7W,KAAK0f,OAAOpV,OAAS,EAC7ByW,SAAY/gB,KAAK0f,OAAOpV,OAAO,GAC/BD,OAAUlL,EAAKgJ,GAAGnI,KAAK0f,OAAOpV,UAGZ,IAAhBtK,KAAKgF,SACPhF,KAAKof,KAAOpf,KAAKA,KAAK4gB,OAEtB5gB,KAAKof,KAAOpf,KAAKghB,MAtBN,OAAAlf,EAAApC,EAAA,CAgCbqE,KAAA,CAJIhC,IAAA,WACN,OAAO/B,KAAK4gB,OAGN5e,IAAA,SAAC+B,GACU,OAATA,GAA0B,SAATA,GAA4B,WAATA,GAA8B,UAATA,GAI/D/D,KAAK4gB,MAAQ7c,EACT/D,KAAKgF,WACPhF,KAAKof,KAAOpf,KAAKA,KAAK4gB,SALpBnN,QAAQT,MAAM,mEAalB5N,MAAA,CAJKrD,IAAA,WACP,OAAO/B,KAAK0f,OAAO1f,KAAKgF,WAGjBhD,IAAA,SAACoF,GACRpH,KAAKgF,SAAWhF,KAAK0f,OAAOe,QAAQrZ,KAGtC4Z,MAAA,CAAK5b,MAAA,WACH,OAAoB,IAAhBpF,KAAKgF,UACPhF,KAAKof,KAAOpf,KAAKA,KAAK4gB,OACf5gB,KAAKof,SAEdpf,KAAKgF,SAAWhF,KAAK8gB,YAAY9gB,KAAK4gB,OACtC5gB,KAAKof,KAAOpf,KAAKA,KAAK4gB,OACf5gB,KAAKoF,SAGd2R,GAAA,CAAE3R,MAAA,WAGA,OAFApF,KAAKgF,WACLhF,KAAKgF,UAAYhF,KAAK0f,OAAOpV,OACtBtK,KAAKoF,QAGdyR,KAAA,CAAIzR,MAAA,WAKF,OAJApF,KAAKgF,WACDhF,KAAKgF,SAAW,IAClBhF,KAAKgF,UAAYhF,KAAKgF,SAAWhF,KAAK0f,OAAOpV,QAAUtK,KAAK0f,OAAOpV,QAE9DtK,KAAKoF,QAGdiF,OAAA,CAAMjF,MAAA,WAEJ,OADApF,KAAKgF,SAAW7F,EAAKgJ,GAAG,EAAGnI,KAAK0f,OAAOpV,QAChCtK,KAAKoF,QAGd2b,MAAA,CAAK3b,MAAA,WAIH,OAHApF,KAAK6gB,UAAUxZ,IAAMrH,KAAK0f,OAAOpV,OACjCtK,KAAK6gB,UAAUzb,MAAQpF,KAAKgF,SAC5BhF,KAAKgF,SAAWhF,KAAK6gB,UAAUzB,OACxBpf,KAAKoF,UApFG1F,EAAA,GAAArB,EAAAD,QAAAsiB,mBCLrB,oTAEOvhB,KAAIjB,EAAM,8BAEI+iB,EAAA,oBAAAxhB,IAEL,IAAAyG,OAAG6F,IAAAnH,UAAA,GAAC,EAAJA,UAAA,GAAOyC,OAAG0E,IAAAnH,UAAA,GAAC,EAAJA,UAAA,GAAOQ,OAAK2G,IAAAnH,UAAA,GAAC,EAANA,UAAA,GAASoQ,OAASjJ,IAAAnH,UAAA,GAAC,EAAVA,UAAA,GAAasc,OAAInV,IAAAnH,UAAA,IAAJA,UAAA,GAF/B7E,EAAAC,KAAAP,GAGbO,KAAKkG,IAAMA,EACXlG,KAAKqH,IAAMA,EACXrH,KAAKoF,MAAQA,EACbpF,KAAKgV,UAAYA,EACjBhV,KAAKkhB,KAAOA,EAPC,OAAApf,EAAArC,EAAA,CAUjB2f,KAAA,CAAIha,MAAA,WAiBA,OAhBApF,KAAKoF,OAASjG,EAAKiL,MAAK,EAAKpK,KAAKgV,UAAWhV,KAAKgV,WAC9ChV,KAAKoF,MAAQpF,KAAKqH,MACdrH,KAAKkhB,KACLlhB,KAAKoF,MAAQpF,KAAKkG,IAElBlG,KAAKoF,MAAQpF,KAAKqH,IAAMrH,KAAKgV,WAIjChV,KAAKoF,MAAQpF,KAAKkG,MACdlG,KAAKkhB,KACLlhB,KAAKoF,MAAQpF,KAAKqH,IAElBrH,KAAKoF,MAAQpF,KAAKkG,IAAMlG,KAAKgV,WAG9BhV,KAAKoF,UA3BC3F,EAAA,GAAApB,EAAAD,QAAA6iB,mBCJrB,oWAEO9hB,EAAID,EAAAhB,EAAM,IACVuB,EAAKP,EAAAhB,EAAM,KAEGijB,EAAA,oBAAA5hB,IAEL,IAAA2G,OAAG6F,IAAAnH,UAAA,GAAC,EAAJA,UAAA,GAAOyC,OAAG0E,IAAAnH,UAAA,GAAC,GAAJA,UAAA,GAAQb,OAAIgI,IAAAnH,UAAA,GAAC,KAALA,UAAA,GAAWQ,OAAK2G,IAAAnH,UAAA,IAALA,UAAA,GAFrB7E,EAAAC,KAAAT,GAGbS,KAAKkG,IAAMA,EACXlG,KAAKqH,IAAMA,EACXrH,KAAKoF,MAAQA,EACbpF,KAAK+D,KAAOA,EACZ/D,KAAK6gB,UAAY,IAAIphB,EAAMO,KAAKkG,IAAKlG,KAAKqH,MACzB,IAAbrH,KAAKoF,MACPpF,KAAKof,KAAOpf,KAAKA,KAAK4gB,OAEtB5gB,KAAKof,KAAOpf,KAAKghB,MAXN,OAAAlf,EAAAvC,EAAA,CA0BbwE,KAAA,CAXI/B,IAAA,SAAC+B,GACU,OAATA,GAA0B,SAATA,GAA4B,WAATA,GAA8B,UAATA,GAI/D/D,KAAK4gB,MAAQ7c,EACT/D,KAAKoF,QACPpF,KAAKof,KAAOpf,KAAKA,KAAK4gB,SALpBnN,QAAQT,MAAM,kEASdjR,IAAA,WACJ,OAAO/B,KAAK4gB,QAGhBI,MAAA,CAAK5b,MAAA,WACH,OAAiB,IAAbpF,KAAKoF,OACPpF,KAAKof,KAAOpf,KAAKA,KAAK4gB,OACf5gB,KAAKof,SAEdpf,KAAK8gB,YAAc,CACjB/J,GAAM/W,KAAKkG,IACX2Q,KAAQ7W,KAAKqH,IACb0Z,QAAW5hB,EAAK8L,QAAQjL,KAAKkG,IAAIlG,KAAKqH,KACtCgD,OAAUlL,EAAKgJ,GAAGnI,KAAKkG,IAAIlG,KAAKqH,MAElCrH,KAAKoF,MAAQpF,KAAK8gB,YAAY9gB,KAAK4gB,OACnC5gB,KAAKof,KAAOpf,KAAKA,KAAK4gB,OACf5gB,KAAKoF,SAGd2R,GAAA,CAAE3R,MAAA,WAKE,OAJApF,KAAKoF,QACDpF,KAAKoF,OAASpF,KAAKqH,MACnBrH,KAAKoF,MAAQpF,KAAKkG,KAEflG,KAAKoF,QAGhByR,KAAA,CAAIzR,MAAA,WAKA,OAJApF,KAAKoF,QACDpF,KAAKoF,MAAQpF,KAAKkG,MAClBlG,KAAKoF,MAAQpF,KAAKqH,KAEfrH,KAAKoF,QAGhBiF,OAAA,CAAMjF,MAAA,WAEF,OADApF,KAAKoF,MAAQjG,EAAKgJ,GAAGnI,KAAKkG,IAAKlG,KAAKqH,KAC7BrH,KAAKoF,QAGhB2b,MAAA,CAAK3b,MAAA,WAKD,OAJApF,KAAK6gB,UAAU3a,IAAMlG,KAAKkG,IAC1BlG,KAAK6gB,UAAUxZ,IAAMrH,KAAKqH,IAC1BrH,KAAK6gB,UAAUzb,MAAQpF,KAAKoF,MAC5BpF,KAAKoF,MAAQpF,KAAK6gB,UAAUzB,OACrBpf,KAAKoF,UAxEC7F,EAAA,GAAAlB,EAAAD,QAAA+iB,mBCLrB,mNAESniB,EAAKd,EAAQ,GAAbc,MAEYoiB,EAAA,oBAAAvhB,EAEPwhB,EAAKC,EAAKjb,gGAFHtG,CAAAC,KAAAH,GAIjBG,KAAKqhB,KAAOA,EACZrhB,KAAKqG,GAAKA,EACVrG,KAAKhB,MAAQA,IAEbgB,KAAKkf,QAAU,CAAC,GAChBlf,KAAKuY,MAAQ,EAEbvY,KAAKkN,MAAQoU,GAAc,aAEvBthB,KAAKqG,IACPrG,KAAKW,QAdU,OAAAmB,EAAAjC,EAAA,CAmBnB0hB,OAAA,CAAMnc,MAAA,SAAC4J,GAEHhP,KAAKkN,MAAM8B,GAEbhP,KAAKuY,UAGPrW,KAAA,CAAIkD,MAAA,WACFpF,KAAKqG,IAAK,EACVrG,KAAKwe,SAASgD,UAGhB7gB,MAAA,CAAKyE,MAAA,WACHpF,KAAKqG,IAAK,EACVrG,KAAKwe,SAAWxe,KAAKhB,MAAMyiB,eAAezhB,KAAKuhB,OAAO7gB,KAAKV,MAAOA,KAAKhB,MAAMD,QAAQ2iB,aAAaC,OAAO3hB,KAAKqhB,KAAK,KAAMO,UAAU,CAACC,MAAO,GAAKC,KAAK,MAGvJ3C,GAAA,CAAE/Z,MAAA,SAAC2c,GACD,GAAI/hB,KAAKqG,GAAI,CACX,IAAI2b,EAAQD,EAAQ/hB,KAAKqhB,KACzBrhB,KAAKqhB,KAAOU,EACZ/hB,KAAKhB,MAAMijB,YAAYjiB,KAAKhB,MAAMD,QAAQ2iB,YAAa,CAAC1hB,KAAKwe,UAAWwD,QAExEhiB,KAAKqhB,KAAOU,MA1CGliB,EAAA,GAAAxB,EAAAD,QAAAgjB,mBCJrB,2hBAEI9d,EAAMpF,EAAQ,GACdiB,EAAOjB,EAAQ,GACfqF,EAAYrF,EAAQ,GACpBsF,EAAOtF,EAAQ,IACPuF,KAAWvF,EAAM,iCAyCRgkB,EAAA,SAAAve,YAAAb,IAAA/C,EAAAC,KAAA8C,GAIjB,IAAIc,EAAU,CAAC,SAEXC,EAAW,CACbC,KAAQ,CAAC,IAAI,KACbmY,MAAS,GACTlY,KAAQ,WACRoe,SAAY,CACV,CAAC,GAAI,IACL,CAAC,IAAK,KACN,CAAC,GAAI,IACL,CAAC,IAAK,KACN,CAAC,GAAI,IACL,CAAC,IAAK,KACN,CAAC,GAAI,IACL,CAAC,IAAK,OAIV3d,EAAAC,OAAAC,eAtBiB5B,EAAK6B,WAAA,cAAA3E,MAAAxB,KAAAwB,KAsBhB4E,UAAUhB,EAAQC,GAExB7D,KAAKoF,MAAQ,CACXjB,EAAG,IAAIX,EAAK,EAAE,EAAE,EAAE,IAClBe,EAAG,IAAIf,EAAK,EAAE,EAAE,EAAE,KAMpBxD,KAAK+D,KAAO/D,KAAK8E,SAASf,KAE1B/D,KAAKgF,SAAW,CACdb,EAAG,IAAIV,EAAYwB,OAAOjF,KAAK+D,KAAK,aAAa,CAAC,EAAE/D,KAAKkF,OAAO,CAAClF,KAAKmF,OAAO,IAC7EZ,EAAG,IAAId,EAAYwB,OAAOjF,KAAK+D,KAAK,WAAW,CAAC,EAAE/D,KAAKkF,OAAO,CAAClF,KAAKmF,OAAO,KAE7EnF,KAAKgF,SAASb,EAAEiB,MAAQpF,KAAKoF,MAAMjB,EAAEkB,WACrCrF,KAAKgF,SAAST,EAAEa,MAAQpF,KAAKoF,MAAMb,EAAEc,WAKrCrF,KAAKmiB,SAAWniB,KAAK8E,SAASqd,SAK9BniB,KAAKic,MAAQjc,KAAK8E,SAASmX,MAK3Bjc,KAAKoiB,OAAS,GAEdpiB,KAAKsF,OAELtF,KAAKqiB,kBACLriB,KAAKuF,SA3DY,+QAAAC,CAAA1C,EAAAa,GAAA7B,EAAAgB,EAAA,CA+DnB2C,eAAA,CAAcL,MAAA,WAEZpF,KAAK0F,KAAOpC,EAAIqC,OAAO,UAGvB3F,KAAK4F,QAAQC,YAAY7F,KAAK0F,MAI9B1F,KAAKsiB,gBAAkB,GAEvB,IAAK,IAAIha,EAAE,EAAEA,EAAEtI,KAAKmiB,SAAS7X,OAAOhC,IAAK,CACvC,IAAIia,EAAiBjf,EAAIqC,OAAO,UAEhC3F,KAAK4F,QAAQC,YAAY0c,GAEzBviB,KAAKsiB,gBAAgB9Z,KAAK+Z,MAK9Bzc,cAAA,CAAaV,MAAA,WAEPpF,KAAKgG,cAAgBC,KAAKC,IAAIlG,KAAKkF,MAAMlF,KAAKmF,QAE9CnF,KAAKmG,WAAa,CAChBC,IAAkC,KAA1BpG,KAAKgG,cAAc,KAAW,GAExChG,KAAKmG,WAAWE,GAA2B,EAAtBrG,KAAKmG,WAAWC,IAErCpG,KAAK0F,KAAKY,aAAa,KAAKtG,KAAKkF,MAAM,GACvClF,KAAK0F,KAAKY,aAAa,KAAKtG,KAAKmF,OAAO,GACxCnF,KAAK0F,KAAKY,aAAa,IAAItG,KAAKmG,WAAWC,KAE3C,IAAK,IAAIkC,EAAE,EAAEA,EAAEtI,KAAKmiB,SAAS7X,OAAOhC,IAAK,CACvC,IAAIia,EAAiBviB,KAAKsiB,gBAAgBha,GACtCka,EAAUxiB,KAAKmiB,SAAS7Z,GAC5Bia,EAAejc,aAAa,KAAKkc,EAAQ,GAAGxiB,KAAKkF,OACjDqd,EAAejc,aAAa,KAAKkc,EAAQ,GAAGxiB,KAAKmF,QACjDod,EAAejc,aAAa,IAAItG,KAAKgG,cAAc,GAAK,GACxDuc,EAAejc,aAAa,eAAgB,KAGhDtG,KAAKgF,SAASb,EAAE4B,OAAO,CAAC,EAAE/F,KAAKkF,OAAO,CAAClF,KAAKmF,OAAO,IACnDnF,KAAKgF,SAAST,EAAEwB,OAAO,CAAC,EAAE/F,KAAKkF,OAAO,CAAClF,KAAKmF,OAAO,IAKnDnF,KAAKqiB,kBACLriB,KAAKuF,WAITgB,eAAA,CAAcnB,MAAA,WAEZpF,KAAK4F,QAAQY,MAAMC,gBAAkBzG,KAAKnB,OAAOgC,KACjDb,KAAK0F,KAAKY,aAAa,OAAQtG,KAAKnB,OAAOmC,aAE3C,IAAK,IAAIsH,EAAE,EAAEA,EAAEtI,KAAKmiB,SAAS7X,OAAOhC,IAAK,CACvC,IAAIia,EAAiBviB,KAAKsiB,gBAAgBha,GAC1Cia,EAAejc,aAAa,OAAQtG,KAAKnB,OAAO+B,QAChD2hB,EAAejc,aAAa,SAAUtG,KAAKnB,OAAO+B,WAKtD2E,OAAA,CAAMH,MAAA,WACJpF,KAAK2G,gBAAkB,CACrBxC,EAAGnE,KAAKoF,MAAMjB,EAAEkB,WAAarF,KAAKkF,MAClCX,EAAGvE,KAAKmF,OAASnF,KAAKoF,MAAMb,EAAEc,WAAarF,KAAKmF,QAGlDnF,KAAK0F,KAAKY,aAAa,KAAKtG,KAAK2G,gBAAgBxC,GACjDnE,KAAK0F,KAAKY,aAAa,KAAKtG,KAAK2G,gBAAgBpC,KAInDqC,MAAA,CAAKxB,MAAA,WACHpF,KAAKgF,SAASb,EAAE0C,OAAS7G,KAAK8G,MAC9B9G,KAAKgF,SAAST,EAAEsC,OAAS7G,KAAK8G,MAC9B9G,KAAK+G,SAGPA,KAAA,CAAI3B,MAAA,WACEpF,KAAK0G,UACP1G,KAAKgF,SAASb,EAAE6C,OAAOhH,KAAK8G,OAC5B9G,KAAKgF,SAAST,EAAEyC,OAAOhH,KAAK8G,OAK5B9G,KAAKqiB,kBACLriB,KAAKkH,KAAK,SAASlH,KAAKoiB,QACxBpiB,KAAKuF,YAIT4B,QAAA,CAAO/B,MAAA,WACLpF,KAAKuF,WAGHF,WAAA,CAAUtD,IAAA,WACZ,MAAO,CACLoC,EAAGnE,KAAKoF,MAAMjB,EAAEkB,WAChBd,EAAGvE,KAAKoF,MAAMb,EAAEc,cAIpBgd,gBAAA,CAAejd,MAAA,sBACbpF,KAAKoF,MAAMjB,EAAE8C,aAAcjH,KAAKgF,SAASb,EAAEiB,OAC3CpF,KAAKoF,MAAMb,EAAE0C,aAAcjH,KAAKgF,SAAST,EAAEa,OAC3CpF,KAAKoiB,OAAS,GACdpiB,KAAKmiB,SAAS1Q,SAAQ,SAACgR,EAAEna,GACvB,IAAI6C,EAAWhM,EAAKgM,SAASsX,EAAE,GAAGnU,EAAKpJ,MAAMud,EAAE,GAAGnU,EAAKnJ,OAAOmJ,EAAKtJ,SAASb,EAAEiB,MAAMkJ,EAAKpJ,OAAO,EAAEoJ,EAAKtJ,SAAST,EAAEa,OAAOkJ,EAAKnJ,QAC1HgR,EAAQhX,EAAKsJ,KAAK,EAAE0C,GAAUmD,EAAK2N,MAAM3N,EAAKpJ,OAAO,EAAE,GAC3DoJ,EAAK8T,OAAO5Z,KAAK2N,GACjB7H,EAAKgU,gBAAgBha,GAAGhC,aAAa,eAAgB6P,QASzDuM,WAAA,CAAUtd,MAAA,SAACjB,EAAEI,GACX,IAAIoe,EAAW,CACbxe,EAAGA,EAAEnE,KAAKkF,MACVX,EAAGA,EAAEvE,KAAKmF,QAEZnF,KAAKgF,SAASb,EAAE6C,OAAO2b,GACvB3iB,KAAKgF,SAAST,EAAEyC,OAAO2b,GACvB3iB,KAAKqiB,kBACLriB,KAAKkH,KAAK,SAASlH,KAAKoiB,QACxBpiB,KAAKuF,WASPqd,YAAA,CAAWxd,MAAA,SAACmT,EAAMpU,EAAEI,GAElBvE,KAAKmiB,SAAS5J,GAAS,CAACpU,EAAEI,GAC1BvE,KAAKsiB,gBAAgB/J,GAAOjS,aAAa,KAAMnC,EAAEnE,KAAKkF,OACtDlF,KAAKsiB,gBAAgB/J,GAAOjS,aAAa,KAAM/B,EAAEvE,KAAKmF,QACtDnF,KAAKqiB,kBACLriB,KAAKkH,KAAK,SAASlH,KAAKoiB,QACxBpiB,KAAKuF,aAtNYzC,EAAA,CAAcS,GAAdlF,EAAAD,QAAA8jB,mBC/CrB,yhBAEI/iB,EAAOjB,EAAQ,GACfoF,EAAMpF,EAAQ,GA0BG2kB,EAAA,SAAAlf,YAAAZ,IAAAhD,EAAAC,KAAA+C,GAIjB,IAAIa,EAAU,CAAC,SAEXC,EAAW,CACbC,KAAQ,CAAC,GAAG,KAGdU,EAAAC,OAAAC,eAViB3B,EAAI4B,WAAA,cAAA3E,MAAAxB,KAAAwB,KAUf4E,UAAUhB,EAAQC,GAExB7D,KAAK8iB,SAAU,EAEf9iB,KAAKsF,OAINtF,KAAK+iB,YAAc/iB,KAAKgH,OAAOtG,KAAKV,MAGhCI,OAAO4iB,uBACVhjB,KAAKijB,oBAAsB7iB,OAAOgO,iBAAiB,oBAAqBpO,KAAK+iB,aAAa,IAExF/iB,KAAK8iB,SAAU,EACf9iB,KAAKuG,kBAzBU,+QAAAf,CAAAzC,EAAAY,GAAA7B,EAAAiB,EAAA,CAwCnB0C,eAAA,CAAcL,MAAA,WAEZpF,KAAKkjB,MAAQ5f,EAAIqC,OAAO,QACxB3F,KAAKmjB,QAAU7f,EAAIqC,OAAO,UAC1B3F,KAAKojB,QAAU9f,EAAIqC,OAAO,UAC1B3F,KAAKqjB,QAAU/f,EAAIqC,OAAO,UAE1B3F,KAAKsjB,KAAOhgB,EAAIqC,OAAO,QACvB3F,KAAKujB,KAAOjgB,EAAIqC,OAAO,QACvB3F,KAAKwjB,KAAOlgB,EAAIqC,OAAO,QAEvB3F,KAAKyjB,MAAQngB,EAAIqC,OAAO,QACxB3F,KAAK0jB,MAAQpgB,EAAIqC,OAAO,QACxB3F,KAAK2jB,MAAQrgB,EAAIqC,OAAO,QAExB3F,KAAKsjB,KAAKhd,aAAa,UAAU,OACjCtG,KAAKujB,KAAKjd,aAAa,UAAU,OACjCtG,KAAKwjB,KAAKld,aAAa,UAAU,OACjCtG,KAAKyjB,MAAMnd,aAAa,UAAU,OAClCtG,KAAK0jB,MAAMpd,aAAa,UAAU,OAClCtG,KAAK2jB,MAAMrd,aAAa,UAAU,OAElCtG,KAAKmjB,QAAQ7c,aAAa,KAAgB,EAAXtG,KAAKkF,MAAQ,IAC5ClF,KAAKmjB,QAAQ7c,aAAa,KAAiB,EAAZtG,KAAKmF,OAAS,GAC7CnF,KAAKmjB,QAAQ7c,aAAa,IAAItG,KAAKmF,OAAO,IAC1CnF,KAAKmjB,QAAQ7c,aAAa,UAAU,OAEpCtG,KAAKojB,QAAQ9c,aAAa,KAAgB,EAAXtG,KAAKkF,MAAQ,IAC5ClF,KAAKojB,QAAQ9c,aAAa,KAAiB,EAAZtG,KAAKmF,OAAS,GAC7CnF,KAAKojB,QAAQ9c,aAAa,IAAItG,KAAKmF,OAAO,IAC1CnF,KAAKojB,QAAQ9c,aAAa,UAAU,OAEpCtG,KAAKqjB,QAAQ/c,aAAa,KAAgB,EAAXtG,KAAKkF,MAAQ,IAC5ClF,KAAKqjB,QAAQ/c,aAAa,KAAiB,EAAZtG,KAAKmF,OAAS,GAC7CnF,KAAKqjB,QAAQ/c,aAAa,IAAItG,KAAKmF,OAAO,IAC1CnF,KAAKqjB,QAAQ/c,aAAa,UAAU,OAGpCtG,KAAKsjB,KAAKhd,aAAa,eAAeL,KAAKoO,MAAMrU,KAAKmF,OAAO,KAC7DnF,KAAKujB,KAAKjd,aAAa,eAAeL,KAAKoO,MAAMrU,KAAKmF,OAAO,KAC7DnF,KAAKwjB,KAAKld,aAAa,eAAeL,KAAKoO,MAAMrU,KAAKmF,OAAO,KAE7DnF,KAAKsjB,KAAKhd,aAAa,OAAQ,QAC/BtG,KAAKujB,KAAKjd,aAAa,OAAQ,QAC/BtG,KAAKwjB,KAAKld,aAAa,OAAQ,QAE/BtG,KAAKyjB,MAAMnd,aAAa,eAAeL,KAAKoO,MAAMrU,KAAKmF,OAAO,KAC9DnF,KAAK0jB,MAAMpd,aAAa,eAAeL,KAAKoO,MAAMrU,KAAKmF,OAAO,KAC9DnF,KAAK2jB,MAAMrd,aAAa,eAAeL,KAAKoO,MAAMrU,KAAKmF,OAAO,KAE9DnF,KAAKyjB,MAAMnd,aAAa,OAAQ,QAChCtG,KAAK0jB,MAAMpd,aAAa,OAAQ,QAChCtG,KAAK2jB,MAAMrd,aAAa,OAAQ,QAGhCtG,KAAKkjB,MAAM5c,aAAa,IAAItG,KAAKkF,MAAM,GACvClF,KAAKkjB,MAAM5c,aAAa,IAAItG,KAAKmF,OAAO,EAAE,GAC1CnF,KAAKkjB,MAAM5c,aAAa,YAAY,QACpCtG,KAAKkjB,MAAM5c,aAAa,cAAc,QACtCtG,KAAKkjB,MAAM5c,aAAa,iBAAiB,OACzCtG,KAAKkjB,MAAM5c,aAAa,UAAU,OAClCtG,KAAKkjB,MAAM5c,aAAa,cAAc,UACtCtG,KAAKkjB,MAAMU,YAAc,OAGzB5jB,KAAK4F,QAAQC,YAAY7F,KAAKmjB,SAC9BnjB,KAAK4F,QAAQC,YAAY7F,KAAKojB,SAC9BpjB,KAAK4F,QAAQC,YAAY7F,KAAKqjB,SAE9BrjB,KAAK4F,QAAQC,YAAY7F,KAAKsjB,MAC9BtjB,KAAK4F,QAAQC,YAAY7F,KAAKujB,MAC9BvjB,KAAK4F,QAAQC,YAAY7F,KAAKwjB,MAE9BxjB,KAAK4F,QAAQC,YAAY7F,KAAKyjB,OAC9BzjB,KAAK4F,QAAQC,YAAY7F,KAAK0jB,OAC9B1jB,KAAK4F,QAAQC,YAAY7F,KAAK2jB,OAE9B3jB,KAAK4F,QAAQC,YAAY7F,KAAKkjB,SAIhC3c,eAAA,CAAcnB,MAAA,WAERpF,KAAK8iB,SACP9iB,KAAK4F,QAAQY,MAAMC,gBAAkBzG,KAAKnB,OAAO+B,OACjDZ,KAAKmjB,QAAQ7c,aAAa,OAAOtG,KAAKnB,OAAOiC,OAC7Cd,KAAKojB,QAAQ9c,aAAa,OAAOtG,KAAKnB,OAAOiC,OAC7Cd,KAAKqjB,QAAQ/c,aAAa,OAAOtG,KAAKnB,OAAOiC,OAC7Cd,KAAKmjB,QAAQ7c,aAAa,SAAStG,KAAKnB,OAAOiC,OAC/Cd,KAAKojB,QAAQ9c,aAAa,SAAStG,KAAKnB,OAAOiC,OAC/Cd,KAAKqjB,QAAQ/c,aAAa,SAAStG,KAAKnB,OAAOiC,OAC/Cd,KAAKsjB,KAAKhd,aAAa,SAAStG,KAAKnB,OAAOiC,OAC5Cd,KAAKujB,KAAKjd,aAAa,SAAStG,KAAKnB,OAAOiC,OAC5Cd,KAAKwjB,KAAKld,aAAa,SAAStG,KAAKnB,OAAOiC,OAC5Cd,KAAKyjB,MAAMnd,aAAa,SAAStG,KAAKnB,OAAOiC,OAC7Cd,KAAK0jB,MAAMpd,aAAa,SAAStG,KAAKnB,OAAOiC,OAC7Cd,KAAK2jB,MAAMrd,aAAa,SAAStG,KAAKnB,OAAOiC,OAC7Cd,KAAKkjB,MAAM5c,aAAa,OAAOtG,KAAKnB,OAAOiC,SAE3Cd,KAAK4F,QAAQY,MAAMC,gBAAkBzG,KAAKnB,OAAOgC,KACjDb,KAAKmjB,QAAQ7c,aAAa,OAAOtG,KAAKnB,OAAOmC,aAC7ChB,KAAKojB,QAAQ9c,aAAa,OAAOtG,KAAKnB,OAAOmC,aAC7ChB,KAAKqjB,QAAQ/c,aAAa,OAAOtG,KAAKnB,OAAOmC,aAC7ChB,KAAKmjB,QAAQ7c,aAAa,SAAStG,KAAKnB,OAAOmC,aAC/ChB,KAAKojB,QAAQ9c,aAAa,SAAStG,KAAKnB,OAAOmC,aAC/ChB,KAAKqjB,QAAQ/c,aAAa,SAAStG,KAAKnB,OAAOmC,aAC/ChB,KAAKsjB,KAAKhd,aAAa,SAAStG,KAAKnB,OAAOmC,aAC5ChB,KAAKujB,KAAKjd,aAAa,SAAStG,KAAKnB,OAAOmC,aAC5ChB,KAAKwjB,KAAKld,aAAa,SAAStG,KAAKnB,OAAOmC,aAC5ChB,KAAKyjB,MAAMnd,aAAa,SAAStG,KAAKnB,OAAOmC,aAC7ChB,KAAK0jB,MAAMpd,aAAa,SAAStG,KAAKnB,OAAOmC,aAC7ChB,KAAK2jB,MAAMrd,aAAa,SAAStG,KAAKnB,OAAOmC,aAC7ChB,KAAKkjB,MAAM5c,aAAa,OAAOtG,KAAKnB,OAAOmC,gBAK/CgG,OAAA,CAAM5B,MAAA,SAACgC,GACL,GAAIpH,KAAK8iB,QAAQ,CAEf,IAAIve,EAAI6C,EAAEyc,KACN1f,EAAIiD,EAAE0c,MACNC,EAAI3c,EAAE4c,MAGV7f,EAAIhF,EAAKwJ,MAAMxE,GAAE,GAAI,GAAG,EAAE,GAC1BI,EAAIpF,EAAKwJ,MAAMpE,GAAE,GAAI,GAAG,EAAE,GAC1Bwf,EAAI5kB,EAAKwJ,MAAMob,EAAE,EAAE,IAAI,EAAE,GAGzB,IAAI/I,EAAe,CACjBra,MAAe,IAARsF,KAAKqD,GACZzB,IAAK1I,EAAKsJ,KAAMtJ,EAAKwJ,MAAMxE,EAAE,EAAE,GAAY,IAAR8B,KAAKqD,GAAe,GAARrD,KAAKqD,IAAkB,GAARrD,KAAKqD,GAAgB,IAARrD,KAAKqD,KAE9E2R,EAAgB,CAClBta,MAAe,IAARsF,KAAKqD,GACZzB,IAAK1I,EAAKsJ,KAAMtJ,EAAKwJ,MAAMxE,EAAE,GAAI,EAAU,IAAR8B,KAAKqD,GAAe,IAARrD,KAAKqD,IAAkB,IAARrD,KAAKqD,GAAgB,IAARrD,KAAKqD,KAG9E4R,EAAa5X,EAAIkE,IAAIxH,KAAKmjB,QAAQc,GAAGC,QAAQ9e,MAAOpF,KAAKmjB,QAAQgB,GAAGD,QAAQ9e,MAAOpF,KAAKmjB,QAAQja,EAAEgb,QAAQ9e,MAAO4V,EAAara,MAAOqa,EAAanT,KAClJsT,EAAc7X,EAAIkE,IAAIxH,KAAKmjB,QAAQc,GAAGC,QAAQ9e,MAAOpF,KAAKmjB,QAAQgB,GAAGD,QAAQ9e,MAAOpF,KAAKmjB,QAAQja,EAAEgb,QAAQ9e,MAAO6V,EAActa,MAAOsa,EAAcpT,KAEzJ7H,KAAKsjB,KAAKhd,aAAa,IAAK4U,GAC5Blb,KAAKyjB,MAAMnd,aAAa,IAAK6U,GAM7BH,EAAe,CACbra,MAAe,IAARsF,KAAKqD,GACZzB,IAAK1I,EAAKsJ,KAAMtJ,EAAKwJ,MAAMpE,EAAE,EAAE,GAAY,IAAR0B,KAAKqD,GAAe,GAARrD,KAAKqD,IAAkB,GAARrD,KAAKqD,GAAgB,IAARrD,KAAKqD,KAElF2R,EAAgB,CACdta,MAAe,IAARsF,KAAKqD,GACZzB,IAAK1I,EAAKsJ,KAAMtJ,EAAKwJ,MAAMpE,EAAE,GAAI,EAAU,IAAR0B,KAAKqD,GAAe,IAARrD,KAAKqD,IAAkB,IAARrD,KAAKqD,GAAgB,IAARrD,KAAKqD,KAGlF4R,EAAa5X,EAAIkE,IAAIxH,KAAKojB,QAAQa,GAAGC,QAAQ9e,MAAOpF,KAAKojB,QAAQe,GAAGD,QAAQ9e,MAAOpF,KAAKojB,QAAQla,EAAEgb,QAAQ9e,MAAO4V,EAAara,MAAOqa,EAAanT,KAClJsT,EAAc7X,EAAIkE,IAAIxH,KAAKojB,QAAQa,GAAGC,QAAQ9e,MAAOpF,KAAKojB,QAAQe,GAAGD,QAAQ9e,MAAOpF,KAAKojB,QAAQla,EAAEgb,QAAQ9e,MAAO6V,EAActa,MAAOsa,EAAcpT,KAErJ7H,KAAKujB,KAAKjd,aAAa,IAAK4U,GAC5Blb,KAAK0jB,MAAMpd,aAAa,IAAK6U,GAO7BH,EAAe,CACbra,MAAe,IAARsF,KAAKqD,GACZzB,IAAK1I,EAAKsJ,KAAMtJ,EAAKwJ,MAAMob,EAAE,EAAE,GAAY,IAAR9d,KAAKqD,GAAe,GAARrD,KAAKqD,IAAkB,GAARrD,KAAKqD,GAAgB,IAARrD,KAAKqD,KAElF2R,EAAgB,CACdta,MAAe,IAARsF,KAAKqD,GACZzB,IAAK1I,EAAKsJ,KAAMtJ,EAAKwJ,MAAMob,EAAE,GAAI,EAAU,IAAR9d,KAAKqD,GAAe,IAARrD,KAAKqD,IAAkB,IAARrD,KAAKqD,GAAgB,IAARrD,KAAKqD,KAGlF4R,EAAa5X,EAAIkE,IAAIxH,KAAKqjB,QAAQY,GAAGC,QAAQ9e,MAAOpF,KAAKqjB,QAAQc,GAAGD,QAAQ9e,MAAOpF,KAAKqjB,QAAQna,EAAEgb,QAAQ9e,MAAO4V,EAAara,MAAOqa,EAAanT,KAClJsT,EAAc7X,EAAIkE,IAAIxH,KAAKqjB,QAAQY,GAAGC,QAAQ9e,MAAOpF,KAAKqjB,QAAQc,GAAGD,QAAQ9e,MAAOpF,KAAKqjB,QAAQna,EAAEgb,QAAQ9e,MAAO6V,EAActa,MAAOsa,EAAcpT,KAErJ7H,KAAKwjB,KAAKld,aAAa,IAAK4U,GAC5Blb,KAAK2jB,MAAMrd,aAAa,IAAK6U,GAuB7Bnb,KAAKkH,KAAK,SAAU,CAClB/C,EAAGA,EACHI,EAAGA,EACHwf,EAAGA,OAOTnd,MAAA,CAAKxB,MAAA,WACChF,OAAO4iB,yBACThjB,KAAKgY,QAAUhY,KAAKgY,UAapBA,OAAA,CAJMjW,IAAA,WACR,OAAO/B,KAAK8iB,SAGJ9gB,IAAA,SAACqE,GACTrG,KAAK8iB,QAAUzc,EACfrG,KAAKuG,mBAGP4J,cAAA,CAAa/K,MAAA,WACXhF,OAAOqP,oBAAoB,oBAAqBzP,KAAK+iB,aAAa,OApRjDhgB,EAAA,CAzBL7E,EAAQ,IAyBHG,EAAAD,QAAAykB,mBC7BrB,yhBAEI1jB,EAAOjB,EAAQ,GACfoF,EAAMpF,EAAQ,GAsCGkmB,EAAA,SAAAzgB,YAAAX,IAAAjD,EAAAC,KAAAgD,GAEjB,IAAIY,EAAU,CAAC,SAEXC,EAAW,CACbC,KAAM,CAAC,IAAK,KACZugB,gBAAiB,EACjBne,IAAK,EACLmB,IAAK,EACLC,KAAM,EACNgd,UAAW,EACX5E,OAAQ,CAAC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IACjD6E,UAAW,EACXxgB,KAAM,OAGRS,EAAAC,OAAAC,eAhBiB1B,EAAW2B,WAAA,cAAA3E,MAAAxB,KAAAwB,KAgBtB4E,UAAWhB,EAASC,GAE1B7D,KAAKwkB,iBAAmBxkB,KAAK8E,SAASuf,gBACtCrkB,KAAKykB,KAAOzkB,KAAK8E,SAASoB,IAC1BlG,KAAK0kB,KAAO1kB,KAAK8E,SAASuC,IAC1BrH,KAAK2kB,MAAQ3kB,KAAK8E,SAASwC,KAE3BtH,KAAK4gB,MAAQ5gB,KAAK8E,SAASf,KAM3B,IAAM6gB,EAAK5kB,KAAK8E,SAAS4a,OACzB1f,KAAK0f,OAASkF,EAAGta,OAAStK,KAAKwkB,iBAAmBI,EAAGzR,MAAM,EAAGnT,KAAKwkB,kBAAoBI,EAAG9E,OAAOpS,MAAM1N,KAAKwkB,iBAAmBI,EAAGta,QAAQzJ,KAAK,IAE/Ib,KAAKskB,UAAYtkB,KAAK8E,SAASwf,UAE/BtkB,KAAK6kB,YAAc7kB,KAAKkF,MAAQlF,KAAK0f,OAAOpV,OAM5CtK,KAAKukB,UAAYvkB,KAAK8E,SAASyf,UAE/BvkB,KAAKsF,OACLtF,KAAKuF,SA3CY,+QAAAC,CAAAxC,EAAAW,GAAA7B,EAAAkB,EAAA,CA8CnByC,eAAA,CAAcL,MAAA,WACM,QAAdpF,KAAK4gB,OACP5gB,KAAK8kB,KAAOxhB,EAAIqC,OAAO,YACvB3F,KAAK8kB,KAAKxe,aAAa,eAAgB,GACvCtG,KAAK8kB,KAAKxe,aAAa,OAAQ,QAE/BtG,KAAK4F,QAAQC,YAAY7F,KAAK8kB,MAE9B9kB,KAAKa,KAAOyC,EAAIqC,OAAO,YACvB3F,KAAKa,KAAKyF,aAAa,eAAgB,OAEvCtG,KAAK4F,QAAQC,YAAY7F,KAAKa,MAE9Bb,KAAK+kB,MAAQ,GAEb/kB,KAAK0f,OAAOjO,QAAO,SACRrM,EAAOmT,GACd,IAAIyM,EAAO1hB,EAAIqC,OAAO,UAEtBqf,EAAK1e,aAAa,KAAMtG,KAAKilB,KAAK1M,IAClCyM,EAAK1e,aAAa,KAAMtG,KAAKklB,KAAK9f,IAElCpF,KAAK4F,QAAQC,YAAYmf,GACzBhlB,KAAK+kB,MAAMvc,KAAKwc,IAChBtkB,KAAKV,SAGTA,KAAKmlB,KAAO,GACZnlB,KAAKolB,KAAO,GAEZplB,KAAK0f,OAAOjO,QAAO,SACRrM,EAAOmT,GACd,IAAIzC,EAAMxS,EAAIqC,OAAO,QAEjBxB,EAAInE,KAAKqlB,QAAQ9M,GACjBhU,EAAIvE,KAAKklB,KAAK9f,GAElB0Q,EAAIxP,aAAa,IAAKnC,EAAI,IAC1B2R,EAAIxP,aAAa,IAAK/B,GACtBuR,EAAIxP,aAAa,QAAStG,KAAK6kB,YAAc,IAC7C/O,EAAIxP,aAAa,SAAUtG,KAAKmF,QAChC2Q,EAAIxP,aACF,UACA,GAAMiS,EAAQvY,KAAKskB,UAAa,IAAMtkB,KAAKskB,UAAY,IAGzDtkB,KAAK4F,QAAQC,YAAYiQ,GACzB9V,KAAKmlB,KAAK3c,KAAKsN,GAEf,IAAIwP,EAAMhiB,EAAIqC,OAAO,QAErB2f,EAAIhf,aAAa,IAAKnC,EAAI,IAC1BmhB,EAAIhf,aAAa,IAAK/B,GACtB+gB,EAAIhf,aAAa,QAAStG,KAAK6kB,YAAc,IAC7CS,EAAIhf,aAAa,SAAU,GAE3BtG,KAAK4F,QAAQC,YAAYyf,GACzBtlB,KAAKolB,KAAK5c,KAAK8c,IACf5kB,KAAKV,UAKbqlB,QAAA,CAAOjgB,MAAA,SAACmT,GACN,OAAOvY,KAAKilB,KAAK1M,GAASvY,KAAK6kB,YAAc,IAG/CI,KAAA,CAAI7f,MAAA,SAACmT,GAEH,OAAOA,EAAQvY,KAAK6kB,YAAc7kB,KAAK6kB,YAAc,IAGvDK,KAAA,CAAI9f,MAAA,SAACA,GACH,OAAOjG,EAAKwJ,MAAMvD,EAAOpF,KAAKykB,KAAMzkB,KAAK0kB,KAAM1kB,KAAKmF,OAAQ,KAG9DogB,cAAA,CAAangB,MAAA,SAACb,GACZ,IAAIihB,EAAgBrmB,EAAKwJ,MAAMpE,EAAGvE,KAAKmF,OAAQ,EAAGnF,KAAKykB,KAAMzkB,KAAK0kB,MAClE,OAAO1kB,KAAKylB,kBAAkBD,KAGhCE,cAAA,CAAatgB,MAAA,SAACjB,GACZ,OAAOhF,EAAKsJ,KACVxC,KAAK4E,MAAO1G,EAAInE,KAAKkF,MAASlF,KAAK0f,OAAOpV,QAC1C,EACAtK,KAAK0f,OAAOpV,OAAS,KAIzBmb,kBAAA,CAAiBrgB,MAAA,SAACA,GAChB,IAAKpF,KAAK2kB,MACR,OAAOvf,EAET,IAAI6J,EAAS7J,EAAQpF,KAAK2kB,MAK1B,OAJAvf,GAAiBA,EAAQpF,KAAK2kB,MAC1B1V,EAASjP,KAAK2kB,MAAQ,IACxBvf,GAASpF,KAAK2kB,OAETvf,IAGTugB,gBAAA,CAAevgB,MAAA,WACbpF,KAAK0f,OAAOjO,QAAO,SACRrM,EAAOmT,GACdnT,EAAQpF,KAAKylB,kBAAkBrgB,GAC/BpF,KAAK0f,OAAOnH,GAASpZ,EAAKsJ,KAAKrD,EAAOpF,KAAKykB,KAAMzkB,KAAK0kB,OACtDhkB,KAAKV,SAIX4lB,oBAAA,CAAmBxgB,MAAA,WACjBpF,KAAK6lB,iBAAmB,GACxB7lB,KAAK0f,OAAOjO,QAAO,SACRrM,GACPpF,KAAK6lB,iBAAiBrd,KACpBrJ,EAAKwJ,MAAMvD,EAAOpF,KAAKykB,KAAMzkB,KAAK0kB,KAAM,EAAG,KAE7ChkB,KAAKV,SAIXuG,eAAA,CAAcnB,MAAA,sBACZpF,KAAK4F,QAAQY,MAAMC,gBAAkBzG,KAAKnB,OAAOgC,KAE/B,QAAdb,KAAK4gB,OACP5gB,KAAK8kB,KAAKxe,aAAa,SAAUtG,KAAKnB,OAAO+B,QAC7CZ,KAAKa,KAAKyF,aAAa,OAAQtG,KAAKnB,OAAO+B,QAC3CZ,KAAK+kB,MAAMtT,SAAQ,SAAAuT,GACjBA,EAAK1e,aAAa,OAAQgI,EAAKzP,OAAO+B,aAGxCZ,KAAKmlB,KAAK1T,SAAQ,SAAAqE,GAChBA,EAAIxP,aAAa,OAAQgI,EAAKzP,OAAO+B,WAEvCZ,KAAKolB,KAAK3T,SAAQ,SAAA6T,GAChBA,EAAIhf,aAAa,OAAQgI,EAAKzP,OAAO+B,cAK3CkF,cAAA,CAAaV,MAAA,WACXpF,KAAK6kB,YAAc7kB,KAAKkF,MAAQlF,KAAK0f,OAAOpV,OAE1B,QAAdtK,KAAK4gB,OACP5gB,KAAK+kB,MAAMtT,QAAO,SACPuT,GACP,IAAI9b,EAAiD,KAA1CjD,KAAKC,IAAIlG,KAAKkF,MAAOlF,KAAKmF,QAAU,IAC/C+D,EAAIjD,KAAKC,IAAIlG,KAAK6kB,YAAa3b,GAC/B8b,EAAK1e,aAAa,IAAK4C,IACvBxI,KAAKV,OAIXA,KAAKuF,WAGPA,OAAA,CAAMH,MAAA,eAEEuE,SADY,QAAd3J,KAAK4gB,OACHjX,EAAO,KAAO2E,EAAK4W,KAAK5W,EAAKoR,OAAO,IAAM,KAE9CpR,EAAKoR,OAAOjO,SAAQ,SAACrM,EAAOmT,GAC1B,IAAIpU,EAAImK,EAAK2W,KAAK1M,GACdhU,EAAI+J,EAAK4W,KAAK9f,GAClBuE,GAAQxF,EAAI,IAAMI,EAAI,KACtB+J,EAAKyW,MAAMxM,GAAOjS,aAAa,KAAMgI,EAAK2W,KAAK1M,IAC/CjK,EAAKyW,MAAMxM,GAAOjS,aAAa,KAAMgI,EAAK4W,KAAK9f,OAGjDuE,GAAQ2E,EAAKpJ,MAAQ,IAAMoJ,EAAK4W,KAAK5W,EAAKoR,OAAOpR,EAAKoR,OAAOpV,OAAS,IAEtEgE,EAAKwW,KAAKxe,aAAa,SAAUqD,GAKjCA,GAAQ,KAAO2E,EAAKpJ,MAAQ,IAAMoJ,EAAKnJ,OAAS,KAChDwE,GAAQ,KAAO2E,EAAKnJ,OAEpBmJ,EAAKzN,KAAKyF,aAAa,SAAUqD,IAEjC3J,KAAK0f,OAAOjO,SAAQ,SAACrM,EAAOmT,GAC1BjK,EAAK6W,KAAK5M,GAAOjS,aAAa,IAAKgI,EAAK4W,KAAK9f,IAC7CkJ,EAAK8W,KAAK7M,GAAOjS,aAAa,IAAKgI,EAAK4W,KAAK9f,SAKnDwB,MAAA,CAAKxB,MAAA,WACHpF,KAAKgZ,UAAW,EAChBhZ,KAAK8lB,gBAAiB,EACtB9lB,KAAK+G,SAGPA,KAAA,CAAI3B,MAAA,WACF,GAAIpF,KAAK0G,QAAS,CAWhB,GAVA1G,KAAK8G,MAAM3C,EAAIhF,EAAKsJ,KAAKzI,KAAK8G,MAAM3C,EAAG,EAAGnE,KAAKkF,OAC/ClF,KAAK8G,MAAMvC,EAAIpF,EAAKsJ,KAAKzI,KAAK8G,MAAMvC,EAAG,EAAGvE,KAAKmF,QAC/CnF,KAAKgZ,UAAW,EAEhBhZ,KAAK+lB,eAAiB/lB,KAAK0lB,cAAc1lB,KAAK8G,MAAM3C,GAEpDnE,KAAK0f,OAAO1f,KAAK+lB,gBAAkB/lB,KAAKulB,cAAcvlB,KAAK8G,MAAMvC,IAIrC,IAAxBvE,KAAK8lB,eAA0B,CACjC,IAAI3a,EAAWlF,KAAKgP,IAAIjV,KAAK8lB,eAAiB9lB,KAAK+lB,gBACnD,GAAI5a,EAAW,EAKb,IAJA,IAAIR,EAAM1E,KAAKC,IAAIlG,KAAK8lB,eAAgB9lB,KAAK+lB,gBACzCnb,EAAO3E,KAAKoB,IAAIrH,KAAK8lB,eAAgB9lB,KAAK+lB,gBAC1CC,EAAWhmB,KAAK0f,OAAO/U,GACvBsb,EAAYjmB,KAAK0f,OAAO9U,GACnBsb,EAAIvb,EAAKub,EAAItb,EAAMsb,IAC1BlmB,KAAK0f,OAAOwG,GAAK/mB,EAAK+K,QACnBgc,EAAIvb,GAAOQ,EACZ6a,EACAC,GAEFjmB,KAAK0f,OAAOwG,GAAKlmB,KAAKylB,kBAAkBzlB,KAAK0f,OAAOwG,IAK1D,GAAIlmB,KAAKukB,UAAY,EACnB,IAAK,IAAIjc,EAAI,EAAGA,GAAKtI,KAAKukB,UAAWjc,IAAK,CACxC,IAAI6d,EAAanmB,KAAK+lB,eAAiBzd,EACnC8d,EAAWpmB,KAAK+lB,eAAiBzd,EAErC,GAAI6d,GAAc,EAAG,CACnB,IAAIE,EAAoBF,EAAa,GAAK,EAAIA,EAAa,EAAI,EAC3DG,EAAoBH,EAAa,EACrCnmB,KAAK0f,OAAOyG,IACTnmB,KAAK0f,OAAO2G,GACXrmB,KAAK0f,OAAO4G,IACd,EACFtmB,KAAK0f,OAAOyG,GAAcnmB,KAAKylB,kBAC7BzlB,KAAK0f,OAAOyG,IAIhB,GAAIC,EAAWpmB,KAAK0f,OAAOpV,OAAS,EAAG,CACrC,IAAIic,EAAkBH,EAAW,EAC7BI,EAAkBJ,EAAW,EAAIpmB,KAAK0f,OAAOpV,OAAS8b,EAAW,EAAIpmB,KAAK0f,OAAOpV,OAAS,EAC9FtK,KAAK0f,OAAO0G,IACTpmB,KAAK0f,OAAO6G,GAAmBvmB,KAAK0f,OAAO8G,IAAoB,EAClExmB,KAAK0f,OAAO0G,GAAYpmB,KAAKylB,kBAC3BzlB,KAAK0f,OAAO0G,KAMpBpmB,KAAK8lB,eAAiB9lB,KAAK+lB,eAE3B/lB,KAAKkH,KAAK,SAAUlH,KAAK0f,QACzB1f,KAAKuF,YAKTkhB,KAAA,CAAIrhB,MAAA,cAEJ4B,OAAA,CAAM5B,MAAA,SAACmT,EAAOnT,GACZpF,KAAK0f,OAAOnH,GAASvY,KAAKylB,kBAAkBrgB,GAC5CpF,KAAKkH,KAAK,SAAU,CAClBqR,MAAOA,EACPnT,MAAOA,MAQPif,gBAAA,CAAetiB,IAAA,WACjB,OAAO/B,KAAK0f,OAAOpV,SAWjBpE,IAAA,CAHGnE,IAAA,WACL,OAAO/B,KAAKykB,MAEPziB,IAAA,SAACoF,GACNpH,KAAKykB,KAAOrd,EACZpH,KAAK2lB,kBACL3lB,KAAKuF,WAWH8B,IAAA,CAHGtF,IAAA,WACL,OAAO/B,KAAK0kB,MAEP1iB,IAAA,SAACoF,GACNpH,KAAK0kB,KAAOtd,EACZpH,KAAK2lB,kBACL3lB,KAAKuF,WAWH+B,KAAA,CAHIvF,IAAA,WACN,OAAO/B,KAAK2kB,OAEN3iB,IAAA,SAACoF,GACPpH,KAAK2kB,MAAQvd,EACbpH,KAAK2lB,kBACL3lB,KAAKuF,WAWPmhB,UAAA,CAASthB,MAAA,SAACmT,EAAOnT,GACfpF,KAAK0f,OAAOnH,GAASvY,KAAKylB,kBAAkBrgB,GAC5CpF,KAAK0f,OAAOnH,GAASpZ,EAAKsJ,KAAKzI,KAAK0f,OAAOnH,GAAQvY,KAAKykB,KAAMzkB,KAAK0kB,MACnE1kB,KAAKkH,KAAK,SAAU,CAClBqR,MAAOA,EACPnT,MAAOA,MAUXuhB,cAAA,CAAavhB,MAAA,SAACsa,GACZ,IAAIkH,EAAiB5mB,KAAK0f,OAAOpV,OAC7Buc,EAAYnH,EAAOpV,OACvBtK,KAAK0f,OAASA,EACd1f,KAAK2lB,kBACDiB,GAAkBC,IACpB7mB,KAAK6P,QACL7P,KAAKyF,iBACLzF,KAAKuG,kBAEPvG,KAAK8F,oBA/YY9C,EAAA,CArCL9E,EAAQ,IAqCHG,EAAAD,QAAAgmB,mBCzCrB,2hBAEI9gB,EAAMpF,EAAQ,GACdiB,EAAOjB,EAAQ,GACfqF,EAAYrF,EAAQ,GACpBsF,EAAOtF,EAAQ,IACPuF,KAAWvF,EAAM,iCAyBR4oB,EAAA,SAAAnjB,YAAAV,IAAAlD,EAAAC,KAAAiD,GAIjB,IAAIW,EAAU,CAAC,QAAQ,SAEnBC,EAAW,CACbC,KAAQ,CAAC,IAAI,IACb8R,YAAe,aACf7R,KAAQ,WACR4E,MAAS,EAAC,EAAG,GACbrB,KAAQ,EACRlC,MAAS,EACT2hB,SAAW,GAGbviB,EAAAC,OAAAC,eAhBiBzB,EAAG0B,WAAA,cAAA3E,MAAAxB,KAAAwB,KAgBd4E,UAAUhB,EAAQC,GAExB7D,KAAK4V,YAAc5V,KAAK8E,SAAS8Q,YAEjC5V,KAAK+D,KAAO/D,KAAK8E,SAASf,KAE1B/D,KAAK+mB,QAAU/mB,KAAK8E,SAASiiB,QAI7B/mB,KAAKsH,KAAOtH,KAAK8E,SAASwC,KAE1BtH,KAAK6V,OAAS,IAAIrS,EAAKxD,KAAK8E,SAAS6D,MAAM,GAAI3I,KAAK8E,SAAS6D,MAAM,GAAI3I,KAAK8E,SAASwC,KAAMtH,KAAK8E,SAASM,OAEzGpF,KAAKsF,OAELtF,KAAKgF,SAAW,IAAIvB,EAAYwB,OAAOjF,KAAK+D,KAAK/D,KAAK4V,YAAY,CAAC,EAAE5V,KAAKkF,OAAO,CAAClF,KAAKmF,OAAO,IAC9FnF,KAAKgF,SAASI,MAAQpF,KAAK6V,OAAOxQ,WAElCrF,KAAKoF,MAAQpF,KAAK6V,OAAOzQ,MAEzBpF,KAAKkH,KAAK,SAASlH,KAAKoF,OArCP,+QAAAI,CAAAvC,EAAAU,GAAA7B,EAAAmB,EAAA,CAyCnBwC,eAAA,CAAcL,MAAA,WAEZpF,KAAK8V,IAAMxS,EAAIqC,OAAO,QACtB3F,KAAK0F,KAAOpC,EAAIqC,OAAO,UAEvB3F,KAAK4F,QAAQC,YAAY7F,KAAK8V,KAC9B9V,KAAK4F,QAAQC,YAAY7F,KAAK0F,QAIhCI,cAAA,CAAaV,MAAA,WAEPpF,KAAKgF,UACPhF,KAAKgF,SAASe,OAAO,CAAC,EAAE/F,KAAKkF,OAAO,CAAClF,KAAKmF,OAAO,IAG/CnF,KAAKkF,MAAQlF,KAAKmF,OACpBnF,KAAK4V,YAAc,WAEnB5V,KAAK4V,YAAc,aAGrB,IAAIzR,OAAJ4H,EAAOxH,OAAAwH,EAAGqF,OAAArF,EAAGrK,OAAAqK,EAAGiK,OAAAjK,EAAWkK,OAAYlK,EACvC/L,KAAKkW,SAAW,CACdC,MAAO,EACPjN,EAAG,GAGoB,aAArBlJ,KAAK4V,aACP5V,KAAKoW,UAAYpW,KAAKkF,MAAQ,EAC/Bf,EAAInE,KAAKkF,MAAM,EACfX,EAAI,EACJ6M,EAAIpR,KAAKoW,UACT1U,EAAI1B,KAAKmF,OACRnF,KAAKkW,SAAShN,EAAqB,GAAjBlJ,KAAKoW,UACxBpW,KAAKkW,SAASC,MAAQzU,EAAE1B,KAAKkW,SAAShN,EAAElJ,KAAKqF,YAAY3D,EAAkB,EAAhB1B,KAAKkW,SAAShN,GACxE8M,EAAY,cAA6B,EAAhBhW,KAAKoW,UAAe,EAAE,MAC/CH,EAAe7E,EAAE,IAEjBpR,KAAKoW,UAAYpW,KAAKmF,OAAS,EAChChB,EAAI,EACJI,EAAIvE,KAAKmF,OAAO,EAChBiM,EAAIpR,KAAKkF,MACTxD,EAAI1B,KAAKoW,UACRpW,KAAKkW,SAAShN,EAAqB,GAAjBlJ,KAAKoW,UACxBpW,KAAKkW,SAASC,MAAQnW,KAAKqF,YAAY+L,EAAkB,EAAhBpR,KAAKkW,SAAShN,GAAKlJ,KAAKkW,SAAShN,EACzE8M,EAAY,gBAA+B,EAAhBhW,KAAKoW,UAAe,EAAE,IACjDH,EAAevU,EAAE,GAGnB1B,KAAK8V,IAAIxP,aAAa,IAAInC,GAC1BnE,KAAK8V,IAAIxP,aAAa,IAAI/B,GAC1BvE,KAAK8V,IAAIxP,aAAa,YAAY0P,GAClChW,KAAK8V,IAAIxP,aAAa,KAAK2P,GAC3BjW,KAAK8V,IAAIxP,aAAa,KAAK2P,GAC3BjW,KAAK8V,IAAIxP,aAAa,QAAQ8K,GAC9BpR,KAAK8V,IAAIxP,aAAa,SAAS5E,GAEN,aAArB1B,KAAK4V,aACP5V,KAAK0F,KAAKY,aAAa,KAAKnC,GAC5BnE,KAAK0F,KAAKY,aAAa,KAAKtG,KAAKkW,SAASC,SAE1CnW,KAAK0F,KAAKY,aAAa,KAAKtG,KAAKkW,SAASC,OAC1CnW,KAAK0F,KAAKY,aAAa,KAAK/B,IAE9BvE,KAAK0F,KAAKY,aAAa,IAAItG,KAAKkW,SAAShN,KAI3C3C,eAAA,CAAcnB,MAAA,WAEZpF,KAAK8V,IAAIxP,aAAa,OAAQtG,KAAKnB,OAAOgC,MAC1Cb,KAAK0F,KAAKY,aAAa,OAAQtG,KAAKnB,OAAO+B,QAEtCZ,KAAK+mB,SACR/mB,KAAK0F,KAAKY,aAAa,OAAO,iBAKlCf,OAAA,CAAMH,MAAA,WACCpF,KAAK0G,UACR1G,KAAKkW,SAAShN,EAAmB,IAAflJ,KAAKoW,WAEzBpW,KAAK0F,KAAKY,aAAa,IAAItG,KAAKkW,SAAShN,GAEhB,aAArBlJ,KAAK4V,aACP5V,KAAKkW,SAASC,MAAQnW,KAAKkW,SAAShN,EAAElJ,KAAK6V,OAAOxQ,YAAYrF,KAAKmF,OAAuB,EAAhBnF,KAAKkW,SAAShN,GACvFlJ,KAAK0F,KAAKY,aAAa,KAAKtG,KAAKmF,OAASnF,KAAKkW,SAASC,SAEzDnW,KAAKkW,SAASC,MAAQnW,KAAK6V,OAAOxQ,YAAYrF,KAAKkF,MAAsB,EAAhBlF,KAAKkW,SAAShN,GAAKlJ,KAAKkW,SAAShN,EACzFlJ,KAAK0F,KAAKY,aAAa,KAAKtG,KAAKkW,SAASC,UAK/CvP,MAAA,CAAKxB,MAAA,WACHpF,KAAKkW,SAAShN,EAAmB,GAAflJ,KAAKoW,UACvBpW,KAAKgF,SAAS6B,OAAS7G,KAAK8G,MAC5B9G,KAAK+G,SAGPA,KAAA,CAAI3B,MAAA,WACEpF,KAAK0G,UACP1G,KAAKgF,SAASgC,OAAOhH,KAAK8G,OAE1B9G,KAAKoF,MAAQpF,KAAK6V,OAAO5O,aAAcjH,KAAKgF,SAASI,OAErDpF,KAAKkH,KAAK,SAAS,CACjB9B,MAAOpF,KAAKoF,MACZ4hB,EAAG/gB,KAAKgE,IAAK9K,EAAKwJ,MAAM3I,KAAKoF,OAAM,EAAG,EAAE,EAAE,GAAI,GAC9C6hB,EAAGhhB,KAAKgE,IAAK9K,EAAKwJ,MAAM3I,KAAKoF,OAAM,EAAG,EAAE,EAAE,GAAI,QAMpD+B,QAAA,CAAO/B,MAAA,WACLpF,KAAKuF,WAWHH,MAAA,CAJKrD,IAAA,WACP,OAAO/B,KAAK6V,OAAOzQ,OAGZpD,IAAA,SAACoD,GACRpF,KAAK6V,OAAO7O,OAAO5B,GACnBpF,KAAKgF,SAASI,MAAQpF,KAAK6V,OAAOxQ,WAClCrF,KAAKkH,KAAK,SAAS,CACjB9B,MAAOpF,KAAKoF,MACZ4hB,EAAG/gB,KAAKgE,IAAK9K,EAAKwJ,MAAM3I,KAAKoF,OAAM,EAAG,EAAE,EAAE,GAAI,GAC9C6hB,EAAGhhB,KAAKgE,IAAK9K,EAAKwJ,MAAM3I,KAAKoF,OAAM,EAAG,EAAE,EAAE,GAAI,KAEhDpF,KAAKuF,WAGHF,WAAA,CAAUtD,IAAA,WACZ,OAAO/B,KAAK6V,OAAOxQ,eAtLFpC,EAAA,CAAYM,GAAZlF,EAAAD,QAAA0oB,mBC/BrB,yhBAEI3nB,EAAOjB,EAAQ,GACfoF,EAAMpF,EAAQ,GACdqF,EAAYrF,EAAQ,GAGpBgpB,EAAQ,SAASC,EAAMC,GAEzBpnB,KAAKmE,EAAIgjB,EAAMhjB,EACfnE,KAAKuE,EAAI4iB,EAAM5iB,EAEfvE,KAAKqnB,KAAOF,EAAME,MAAQ,EAC1BrnB,KAAKsnB,KAAOH,EAAMG,MAAQ,EAC1BtnB,KAAKunB,KAAOJ,EAAMI,MAAQ,EAC1BvnB,KAAKwnB,KAAOL,EAAMK,MAAQ,EAE1BxnB,KAAKonB,SAAWA,EAEhBpnB,KAAK4F,QAAUtC,EAAIqC,OAAO,UAC1B3F,KAAK4F,QAAQU,aAAa,OAAOtG,KAAKonB,SAASvoB,OAAO+B,QAEtDZ,KAAKonB,SAASxhB,QAAQC,YAAY7F,KAAK4F,SAEvC5F,KAAK+F,OAAS,WACZ,IAAImD,EAA8D,KAAvDjD,KAAKC,IAAIlG,KAAKonB,SAASliB,MAAMlF,KAAKonB,SAASjiB,QAAQ,IAC9DnF,KAAK4F,QAAQU,aAAa,IAAI4C,IAGhClJ,KAAK+G,KAAO,SAAS5C,EAAEI,GAKrB,GAHAvE,KAAKmE,EAAKA,GAAS,IAAJA,EAASA,EAAInE,KAAKmE,EACjCnE,KAAKuE,EAAKA,GAAS,IAAJA,EAASA,EAAIvE,KAAKuE,EAE7BvE,KAAKonB,SAASrC,MAAMtE,QAAQzgB,OAAO,EAAG,CAExC,IAAIynB,EAAYznB,KAAKonB,SAASrC,MAAMtE,QAAQzgB,MAAM,EAC9C0nB,EAAY1nB,KAAKonB,SAASrC,MAAMtE,QAAQzgB,MAAM,EAE9C2nB,EAAW3nB,KAAKonB,SAASrC,MAAM0C,GAC/BG,EAAW5nB,KAAKonB,SAASrC,MAAM2C,GAE/BG,EAAOJ,GAAa,EAAIE,EAASxjB,EAAI,EAC1C0jB,EAAOA,EAAK7nB,KAAKqnB,KAAKrnB,KAAKqnB,KAAKQ,EAE/B,IAAIC,EAAQJ,EAAY1nB,KAAKonB,SAASrC,MAAMza,OAASsd,EAASzjB,EAAI,EACnE2jB,EAAQA,EAAM9nB,KAAKsnB,KAAKtnB,KAAKsnB,KAAKQ,EAE9B9nB,KAAKmE,EAAI0jB,IAAQ7nB,KAAKmE,EAAI0jB,GACzB7nB,KAAKmE,EAAI2jB,IAAS9nB,KAAKmE,EAAI2jB,GAE3B9nB,KAAKuE,EAAIvE,KAAKunB,OAAQvnB,KAAKuE,EAAIvE,KAAKunB,MACpCvnB,KAAKuE,EAAIvE,KAAKwnB,OAAQxnB,KAAKuE,EAAIvE,KAAKwnB,MAI1CxnB,KAAK2iB,SAAW3iB,KAAK+nB,iBACrB/nB,KAAK4F,QAAQU,aAAa,KAAMtG,KAAK2iB,SAASxe,GAC9CnE,KAAK4F,QAAQU,aAAa,KAAMtG,KAAK2iB,SAASpe,IAGhDvE,KAAK+nB,eAAiB,WACpB,MAAO,CACL5jB,EAAGnE,KAAKmE,EAAInE,KAAKonB,SAASliB,MAC1BX,GAAI,EAAEvE,KAAKuE,GAAKvE,KAAKonB,SAASjiB,SAIlCnF,KAAK+G,KAAK/G,KAAKmE,EAAEnE,KAAKuE,GAAE,GACxBvE,KAAK+F,SAEL/F,KAAKgQ,QAAU,WACbhQ,KAAKonB,SAASxhB,QAAQmK,YAAY/P,KAAK4F,SACvC5F,KAAKonB,SAASrC,MAAMjY,OAAO9M,KAAKonB,SAASrC,MAAMtE,QAAQzgB,MAAM,KAqD5CgoB,EAAA,SAAArkB,YAAAT,IAAAnD,EAAAC,KAAAkD,GAIjB,IAAIU,EAAU,CAAC,SAEXC,EAAW,CACbC,KAAQ,CAAC,IAAI,KACbmkB,aAAc,EACdC,OAAU,CACX,CACC/jB,EAAG,GACHI,EAAG,IAEJ,CACCJ,EAAG,IACHI,EAAG,IAEJ,CACCJ,EAAG,IACHI,EAAG,IAEJ,CACCJ,EAAG,GACHI,EAAG,MAKLC,EAAAC,OAAAC,eA7BiBxB,EAAQyB,WAAA,cAAA3E,MAAAxB,KAAAwB,KA6BnB4E,UAAUhB,EAAQC,GAExB7D,KAAKkoB,OAASloB,KAAK8E,SAASojB,OAE5BloB,KAAK+kB,MAAQ,GAEb/kB,KAAKmoB,UAAW,EAEhBnoB,KAAKsF,OArCY,+QAAAE,CAAAtC,EAAAS,GAAA7B,EAAAoB,EAAA,CA0CnBuC,eAAA,CAAcL,MAAA,sBAGZpF,KAAKkoB,OAAOzW,SAAQ,SAAC0V,GACnB,IAAInC,EAAO,IAAIkC,EAAMC,EAAK7Y,GAC1BA,EAAKyW,MAAMvc,KAAKwc,MAGlBhlB,KAAKooB,aAELpoB,KAAK8kB,KAAOxhB,EAAIqC,OAAO,YACvB3F,KAAK8kB,KAAKxe,aAAa,eAAgB,GACvCtG,KAAK8kB,KAAKxe,aAAa,OAAQ,QAE/BtG,KAAK4F,QAAQC,YAAY7F,KAAK8kB,MAE9B9kB,KAAKa,KAAOyC,EAAIqC,OAAO,YACvB3F,KAAKa,KAAKyF,aAAa,eAAgB,OAEvCtG,KAAK4F,QAAQC,YAAY7F,KAAKa,QAIhCiF,cAAA,CAAaV,MAAA,WAEX,IAAK,IAAIkD,EAAE,EAAGA,EAAEtI,KAAK+kB,MAAMza,OAAQhC,IACjCtI,KAAK+kB,MAAMzc,GAAGvC,SACd/F,KAAK+kB,MAAMzc,GAAGvB,OAGhB/G,KAAKuF,WAIPgB,eAAA,CAAcnB,MAAA,sBAEZpF,KAAK4F,QAAQY,MAAMC,gBAAkBzG,KAAKnB,OAAOgC,KACjDb,KAAK8kB,KAAKxe,aAAa,SAAUtG,KAAKnB,OAAO+B,QAC7CZ,KAAKa,KAAKyF,aAAa,OAAQtG,KAAKnB,OAAO+B,QAC3CZ,KAAK+kB,MAAMtT,SAAQ,SAACuT,GAClBA,EAAKpf,QAAQU,aAAa,OAAOgI,EAAKzP,OAAO+B,aAKjD2E,OAAA,CAAMH,MAAA,WAEJpF,KAAKqoB,kBAGPC,gBAAA,CAAeljB,MAAA,sBACbpF,KAAKkoB,OAAS,GACdloB,KAAK+kB,MAAMtT,SAAQ,SAACuT,GAClB1W,EAAK4Z,OAAO1f,KAAK,CAAErE,EAAG6gB,EAAK7gB,EAAGI,EAAGygB,EAAKzgB,SAI1C8jB,cAAA,CAAajjB,MAAA,WAGX,IAAIuE,EAAO,KAAM3J,KAAK+kB,MAAM,GAAGpC,SAASpe,EAAE,KAK1CvE,KAAK+kB,MAAMtT,SAAQ,SAACuT,GAElBrb,GAAQqb,EAAKrC,SAASxe,EAAI,IAAM6gB,EAAKrC,SAASpe,EAAI,QAKpDoF,GAAQ3J,KAAKkF,MAAQ,IAAKlF,KAAK+kB,MAAM/kB,KAAK+kB,MAAMza,OAAO,GAAGqY,SAASpe,EAEnEvE,KAAK8kB,KAAKxe,aAAa,SAAUqD,GAKjCA,GAAQ,KAAK3J,KAAKkF,MAAO,IAAIlF,KAAKmF,OAAO,KACzCwE,GAAQ,KAAK3J,KAAKmF,OAElBnF,KAAKa,KAAKyF,aAAa,SAAUqD,KAMnC/C,MAAA,CAAKxB,MAAA,WAEHpF,KAAKgZ,UAAW,EACjBhZ,KAAKmoB,SAAWnoB,KAAKuoB,kBAEpBvoB,KAAK+kB,MAAM/kB,KAAKmoB,UAAUphB,KAAK/G,KAAK8G,MAAM3C,EAAEnE,KAAKkF,MAAM,EAAElF,KAAK8G,MAAMvC,EAAEvE,KAAKmF,QAC3EnF,KAAKwoB,UAAUxoB,KAAKmoB,UAGpBnoB,KAAKsoB,kBACLtoB,KAAKkH,KAAK,SAASlH,KAAKkoB,QACzBloB,KAAKuF,WAGNwB,KAAA,CAAI3B,MAAA,WACCpF,KAAK0G,UACN1G,KAAK8G,MAAM3C,EAAIhF,EAAKsJ,KAAKzI,KAAK8G,MAAM3C,EAAE,EAAEnE,KAAKkF,OAC7ClF,KAAKgZ,UAAW,EAEhBhZ,KAAK+kB,MAAM/kB,KAAKmoB,UAAUphB,KAAK/G,KAAK8G,MAAM3C,EAAEnE,KAAKkF,MAAM,EAAElF,KAAK8G,MAAMvC,EAAEvE,KAAKmF,QAC5EnF,KAAKwoB,UAAUxoB,KAAKmoB,UAEnBnoB,KAAKsoB,kBACPtoB,KAAKkH,KAAK,SAASlH,KAAKkoB,QACxBloB,KAAKuF,YAIP4B,QAAA,CAAO/B,MAAA,WAEDpF,KAAKgZ,UACPhZ,KAAK+kB,MAAM/kB,KAAKmoB,UAAUnY,UAG5BhQ,KAAKsoB,kBACLtoB,KAAKkH,KAAK,SAASlH,KAAKkoB,QACzBloB,KAAKuF,SAGLvF,KAAKmoB,SAAW,OAIjBI,gBAAA,CAAenjB,MAAA,WAQd,IAPA,IAAIqjB,EAAe,KAEfC,EAAc,IAEbvkB,EAAInE,KAAK8G,MAAM3C,EAAEnE,KAAKkF,MACtBX,EAAI,EAAEvE,KAAK8G,MAAMvC,EAAEvE,KAAKmF,OACxB4f,EAAQ/kB,KAAK+kB,MACTzc,EAAI,EAAGA,EAAEyc,EAAMza,OAAQhC,IAAK,CAGpC,IAAI6C,EAAWlF,KAAKkD,KAAOlD,KAAKgE,IAAM8a,EAAMzc,GAAGnE,EAAIA,EAAI,GAAK8B,KAAKgE,IAAK8a,EAAMzc,GAAG/D,EAAIA,EAAI,IAGnF4G,EAAWud,IACdA,EAAcvd,EACdsd,EAAengB,EACFyc,EAAMzc,GAAGnE,GAkBxB,OAZKnE,KAAK8E,SAASmjB,aAAeS,EAAY,MAE3CD,EAAezoB,KAAK0lB,cAAc1lB,KAAK8G,MAAM3C,EAAEnE,KAAKkF,OAEtDlF,KAAK+kB,MAAMjY,OAAO2b,EAAa,EAAG,IAAIvB,EAAM,CAC3C/iB,EAAGnE,KAAK8G,MAAM3C,EAAEnE,KAAKkF,MACrBX,EAAG,EAAEvE,KAAK8G,MAAMvC,EAAEvE,KAAKmF,QACrBnF,OACDA,KAAKgZ,UAAW,GAIZyP,IAGR/C,cAAA,CAAatgB,MAAA,SAACjB,cACRoU,EAAQ,EAMZ,OALAvY,KAAK+kB,MAAMtT,SAAQ,SAACuT,EAAK1c,GACnBgG,EAAKyW,MAAMzc,GAAGnE,GAAKA,IACrBoU,EAAQjQ,EAAE,MAGPiQ,IAGTiQ,UAAA,CAASpjB,MAAA,SAACkD,GAET,IAAIqgB,EAAWxpB,EAAKsJ,KAAKzI,KAAK+kB,MAAMzc,GAAGnE,EAAG,EAAG,GACzCykB,EAAWzpB,EAAKsJ,KAAKzI,KAAK+kB,MAAMzc,GAAG/D,EAAG,EAAG,GAE5CvE,KAAK+kB,MAAMzc,GAAGvB,KAAM4hB,EAAUC,KAOhCR,WAAA,CAAUhjB,MAAA,WACRpF,KAAK+kB,MAAM8D,MAAK,SAASrd,EAAGC,GAC1B,OAAOD,EAAErH,EAAIsH,EAAEtH,OAUnB2kB,SAAA,CAAQ1jB,MAAA,SAACjB,EAAEI,GACT,IAAIgU,EAAQvY,KAAK+kB,MAAMza,OAEvBtK,KAAKooB,aAEL,IAAK,IAAI9f,EAAI,EAAGA,EAAEtI,KAAK+kB,MAAMza,OAAQhC,IACnC,GAAInE,EAAInE,KAAK+kB,MAAMzc,GAAGnE,EAAG,CACvBoU,EAAQjQ,EACR,MAIJtI,KAAK+kB,MAAMjY,OAAOyL,EAAO,EAAG,IAAI2O,EAAM,CACpC/iB,EAAGA,EACHI,EAAGA,GACFvE,OAEHA,KAAKwoB,UAAUjQ,GAEfvY,KAAKsoB,kBACLtoB,KAAKkH,KAAK,SAASlH,KAAKkoB,QAExBloB,KAAKuF,WAQPkhB,KAAA,CAAIrhB,MAAA,SAACjB,GAEH,IAAIujB,EAAY1nB,KAAK0lB,cAAcvhB,GAC/B4kB,EAAarB,EAAU,EACvBqB,EAAa,IACfA,EAAa,GAEXrB,GAAa1nB,KAAK+kB,MAAMza,SAC1Bod,EAAY1nB,KAAK+kB,MAAMza,OAAO,GAEhC,IAAI0e,EAAahpB,KAAK+kB,MAAMgE,GACxBE,EAAYjpB,KAAK+kB,MAAM2C,GACvBvd,EAAMhL,EAAKwJ,MAAMxE,EAAE6kB,EAAW7kB,EAAG8kB,EAAU9kB,EAAG,EAAG,GACjDiB,EAAQjG,EAAK+K,OAAOC,EAAI6e,EAAWzkB,EAAE0kB,EAAU1kB,GAEnD,OADAvE,KAAKkH,KAAK,OAAO9B,GACVA,IAUT8jB,UAAA,CAAS9jB,MAAA,SAACmT,EAAMpU,EAAEI,GAChBvE,KAAK+kB,MAAMxM,GAAOxR,KAAK5C,EAAEI,GACzBvE,KAAKwoB,UAAUjQ,GACfvY,KAAKsoB,kBACLtoB,KAAKkH,KAAK,SAASlH,KAAKkoB,QACxBloB,KAAKuF,WAUP4jB,YAAA,CAAW/jB,MAAA,SAACmT,EAAM6Q,EAAQC,GACxBrpB,KAAK+kB,MAAMxM,GAAOxR,KAAK/G,KAAK+kB,MAAMxM,GAAOpU,EAAEilB,EAAQppB,KAAK+kB,MAAMxM,GAAOhU,EAAE8kB,GACvErpB,KAAKwoB,UAAUjQ,GACfvY,KAAKsoB,kBACLtoB,KAAKkH,KAAK,SAASlH,KAAKkoB,QACxBloB,KAAKuF,WAQP+jB,aAAA,CAAYlkB,MAAA,SAACmT,GACXvY,KAAK+kB,MAAMxM,GAAOvI,UAClBhQ,KAAKsoB,kBACLtoB,KAAKkH,KAAK,SAASlH,KAAKkoB,QACxBloB,KAAKuF,WAQPgkB,UAAA,CAASnkB,MAAA,SAACokB,kBACDxpB,KAAK+kB,MAAMza,QAChBtK,KAAK+kB,MAAM,GAAG/U,UAEhBwZ,EAAU/X,SAAQ,SAAC0V,GACjB7Y,EAAKwa,SAAS3B,EAAMhjB,EAAEgjB,EAAM5iB,MAE9BvE,KAAKsoB,kBACLtoB,KAAKkH,KAAK,SAASlH,KAAKkoB,QACxBloB,KAAKuF,aA7VYrC,EAAA,CAAiBK,GAAjBlF,EAAAD,QAAA4pB,mBC9HrB,yhBAEIhc,EAAM9N,EAAQ,GA0BGurB,EAAA,SAAA9lB,YAAAR,IAAApD,EAAAC,KAAAmD,GAEjB,IAAIS,EAAU,GAEVC,EAAW,CACbC,KAAM,CAAC,IAAK,MAGdU,EAAAC,OAAAC,eARiBvB,EAAWwB,WAAA,cAAA3E,MAAAxB,KAAAwB,KAQtB4E,UAAWhB,EAASC,GAE1B7D,KAAK0pB,SAAW,KAChB1pB,KAAK2pB,aAAe,EACpB3pB,KAAK4pB,UAAY,KACjB5pB,KAAKgY,QAAS,EACdhY,KAAK6pB,OAAS,KAEd7pB,KAAKsF,OAhBY,+QAAAE,CAAArC,EAAAQ,GAAA7B,EAAAqB,EAAA,CAmBnB4K,WAAA,CAAU3I,MAAA,WACRpF,KAAK8pB,OAAS,IAAI9d,EAAIkF,YAAYlR,KAAKsN,QACvCtN,KAAK4F,QAAU5F,KAAK8pB,OAAOlkB,UAG7BE,cAAA,CAAaV,MAAA,WACXpF,KAAK8pB,OAAO/jB,OAAO/F,KAAKkF,MAAOlF,KAAKmF,UAGtCoB,eAAA,CAAcnB,MAAA,WACZpF,KAAK8pB,OAAOlkB,QAAQY,MAAMC,gBAAkBzG,KAAKnB,OAAOgC,OAG1D0E,OAAA,CAAMH,MAAA,WAiBJ,GAhBIpF,KAAKgY,QACP+R,sBAAsB/pB,KAAKuF,OAAO7E,KAAKV,OAGrCA,KAAK0pB,UACP1pB,KAAK0pB,SAASM,qBAAqBhqB,KAAK4pB,WAG1C5pB,KAAK8pB,OAAO/qB,QAAQkrB,UAAYjqB,KAAKnB,OAAOgC,KAC5Cb,KAAK8pB,OAAO/qB,QAAQmrB,SAClB,EACA,EACAlqB,KAAK8pB,OAAOlkB,QAAQV,MACpBlF,KAAK8pB,OAAOlkB,QAAQT,QAGlBnF,KAAK6pB,QAAU7pB,KAAK4pB,UAStB,IANA,IAAIO,EAAWnqB,KAAK8pB,OAAOlkB,QAAQV,MAAQlF,KAAK2pB,aAC5CS,OAASre,EACT5H,EAAI,EAEJkmB,EAAarqB,KAAK8pB,OAAOlkB,QAAQV,MAAQ,GAEpCoD,EAAI,EAAGA,EAAItI,KAAK2pB,aAAcrhB,GAAQ+hB,EAC7CD,EAAYnkB,KAAKoB,IAAI+L,MACnB,KACApT,KAAK4pB,UAAUU,SAAShiB,EAAGA,EAAI+hB,IAEjCD,GAAa,IACbA,GAAapqB,KAAK8pB,OAAOlkB,QAAQT,OAEjCnF,KAAK8pB,OAAO/qB,QAAQkrB,UAAYjqB,KAAKnB,OAAO+B,OAC5CZ,KAAK8pB,OAAO/qB,QAAQmrB,SAClB/lB,EACAnE,KAAK8pB,OAAOlkB,QAAQT,OAASilB,EAC7BD,EAAWE,EACXD,GAGFjmB,GAAKgmB,EAAWE,IAUtBE,QAAA,CAAOnlB,MAAA,SAAC4f,GACFhlB,KAAK6pB,QACP7pB,KAAKwqB,aAGPxqB,KAAK0pB,SAAW1E,EAAKjmB,QAAQ0rB,iBAC7BzqB,KAAK0pB,SAASgB,QAAU,KACxB1qB,KAAK2pB,aAAe3pB,KAAK0pB,SAASiB,kBAClC3qB,KAAK4pB,UAAY,IAAIgB,WAAW5qB,KAAK2pB,cAErC3pB,KAAKgY,QAAS,EAEdhY,KAAK6pB,OAAS7E,EACdhlB,KAAK6pB,OAAOU,QAAQvqB,KAAK0pB,UAEzB1pB,KAAKuF,WAMPilB,WAAA,CAAUplB,MAAA,WACJpF,KAAK6pB,QACP7pB,KAAK6pB,OAAOW,WAAWxqB,KAAK0pB,UAG9B1pB,KAAK0pB,SAAW,KAChB1pB,KAAK2pB,aAAe,EACpB3pB,KAAK4pB,UAAY,KACjB5pB,KAAKgY,QAAS,EACdhY,KAAK6pB,OAAS,OAGhBjjB,MAAA,CAAKxB,MAAA,WACHpF,KAAKgY,QAAUhY,KAAKgY,QAAUhY,KAAK6pB,OACnC7pB,KAAKuF,WAGP4K,cAAA,CAAa/K,MAAA,WACXpF,KAAKgY,QAAS,MA3HG7U,EAAA,CAzBLjF,EAAQ,IAyBHG,EAAAD,QAAAqrB,mBC5BrB,yhBAEIzd,EAAM9N,EAAQ,GACdiB,EAAOjB,EAAQ,GA0BE2sB,EAAA,SAAAlnB,YAAAP,IAAArD,EAAAC,KAAAoD,GAEjB,IAAIQ,EAAU,GAEVC,EAAW,CACbC,KAAM,CAAC,GAAI,MAGbU,EAAAC,OAAAC,eARiBtB,EAAKuB,WAAA,cAAA3E,MAAAxB,KAAAwB,KAQhB4E,UAAWhB,EAASC,GAE1B7D,KAAK8qB,SAAW,EAChB9qB,KAAK+qB,SAAW,KAChB/qB,KAAKgrB,UAAY,GACjBhrB,KAAK2pB,aAAe,EACpB3pB,KAAK4pB,UAAY,KACjB5pB,KAAKgY,QAAS,EACdhY,KAAK6pB,OAAS,KACd7pB,KAAKirB,IAAE,EAAA,EAEPjrB,KAAKsF,OAELtF,KAAKkrB,WAAalrB,KAAK8pB,OAAOlkB,QAAQV,MAAQlF,KAAK8qB,SAEnD9qB,KAAKuF,SAvBY,+QAAAC,CAAApC,EAAAO,GAAA7B,EAAAsB,EAAA,CA0BnB2K,WAAA,CAAU3I,MAAA,WACRpF,KAAK8pB,OAAS,IAAI9d,EAAIkF,YAAYlR,KAAKsN,QACvCtN,KAAK4F,QAAU5F,KAAK8pB,OAAOlkB,UAG7BE,cAAA,CAAaV,MAAA,WACXpF,KAAK8pB,OAAO/jB,OAAO/F,KAAKkF,MAAOlF,KAAKmF,UAGtCoB,eAAA,CAAcnB,MAAA,WACZpF,KAAK8pB,OAAOlkB,QAAQY,MAAMC,gBAAkBzG,KAAKnB,OAAOgC,OAG1D0E,OAAA,CAAMH,MAAA,WACApF,KAAKgY,QACP+R,sBAAsB/pB,KAAKuF,OAAO7E,KAAKV,OAGzCA,KAAK8pB,OAAO/qB,QAAQkrB,UAAYjqB,KAAKnB,OAAOgC,KAC5Cb,KAAK8pB,OAAO/qB,QAAQmrB,SAClB,EACA,EACAlqB,KAAK8pB,OAAOlkB,QAAQV,MACpBlF,KAAK8pB,OAAOlkB,QAAQT,QAGtB,IAAK,IAAImD,EAAI,EAAGA,EAAItI,KAAKgrB,UAAU1gB,OAAQhC,IAAK,CAC9C,GAAItI,KAAK6pB,OAAQ,CACf7pB,KAAKgrB,UAAU1iB,GAAG6iB,uBAAuBnrB,KAAK4pB,WAI9C,IAFA,IAAIwB,EAAM,EAEDlF,EAAI,EAAGA,EAAIlmB,KAAK4pB,UAAUtf,OAAQ4b,IACzCkF,GAAOprB,KAAK4pB,UAAU1D,GAAKlmB,KAAK4pB,UAAU1D,GAG5CkF,EAAMnlB,KAAKkD,KAAKiiB,EAAMprB,KAAK4pB,UAAUtf,QAErCtK,KAAKirB,GAAK,GAAKhlB,KAAK2F,MAAMwf,QACjBprB,KAAKirB,IAAK,KAAQjrB,KAAKirB,MAAE,EAAA,EAClCjrB,KAAKirB,IAAM,EAEXjrB,KAAKirB,IAAE,EAAA,EAKT,GAAIjrB,KAAKirB,IAAK,GAAK,CACjB,IAAII,EAASlsB,EAAKuJ,UAAU1I,KAAKirB,IAAI,GAAK,GACtCK,EAAMD,EAASA,EACf9mB,EAAIpF,EAAKwJ,MAAM2iB,EAAK,EAAG,EAAGtrB,KAAK4F,QAAQT,OAAQ,GAEnDnF,KAAK8pB,OAAO/qB,QAAQkrB,UAAYjqB,KAAKnB,OAAO+B,OAC5CZ,KAAK8pB,OAAO/qB,QAAQmrB,SAClBlqB,KAAKkrB,WAAa5iB,EAClB/D,EACAvE,KAAKkrB,WACLlrB,KAAK8pB,OAAOlkB,QAAQT,OAASZ,OAcrCgmB,QAAA,CAAOnlB,MAAA,SAAC4f,EAAM8F,GACR9qB,KAAK6pB,QACP7pB,KAAKwqB,aAGPxqB,KAAK8qB,SAAWA,GAAY9F,EAAKuG,cAAgB,EAEjDvrB,KAAK+qB,SAAW/F,EAAKjmB,QAAQysB,sBAAsBxrB,KAAK8qB,UAExD9qB,KAAKgrB,UAAY,GACjB,IAAK,IAAI1iB,EAAI,EAAGA,EAAItI,KAAK8qB,SAAUxiB,IAAK,CACtC,IAAMohB,EAAW1E,EAAKjmB,QAAQ0rB,iBAC9Bf,EAASgB,QAAU,KACnBhB,EAAS+B,sBAAwB,EACjCzrB,KAAK+qB,SAASR,QAAQb,EAAUphB,GAChCtI,KAAKgrB,UAAUxiB,KAAKkhB,GAEtB1pB,KAAK2pB,aAAe3pB,KAAKgrB,UAAU,GAAGL,kBACtC3qB,KAAK4pB,UAAY,IAAI8B,aAAa1rB,KAAK2pB,cAEvC3pB,KAAKgY,QAAS,EAEdhY,KAAKkrB,WAAalrB,KAAK8pB,OAAOlkB,QAAQV,MAAQlF,KAAK8qB,SAEnD9qB,KAAK6pB,OAAS7E,EACdhlB,KAAK6pB,OAAOU,QAAQvqB,KAAK+qB,UAEzB/qB,KAAKuF,WAMPilB,WAAA,CAAUplB,MAAA,WACJpF,KAAK6pB,QACP7pB,KAAK6pB,OAAOW,WAAWxqB,KAAK+qB,UAG9B/qB,KAAK+qB,SAAW,KAChB/qB,KAAKgrB,UAAY,GACjBhrB,KAAK2pB,aAAe,EACpB3pB,KAAK4pB,UAAY,KACjB5pB,KAAKgY,QAAS,EACdhY,KAAK6pB,OAAS,OAGhBjjB,MAAA,CAAKxB,MAAA,WACHpF,KAAKgY,QAAUhY,KAAKgY,QAAUhY,KAAK6pB,OACnC7pB,KAAKuF,WAGP4K,cAAA,CAAa/K,MAAA,WACXpF,KAAKgY,QAAS,MArJG5U,EAAA,CAzBLlF,EAAQ,IAyBHG,EAAAD,QAAAysB,mBC7BrB,yhBAEI7e,EAAM9N,EAAQ,GA0BGytB,EAAA,SAAAhoB,YAAAN,IAAAtD,EAAAC,KAAAqD,GAEjB,IAAIO,EAAU,GAEVC,EAAW,CACbC,KAAM,CAAC,IAAK,MAGdU,EAAAC,OAAAC,eARiBrB,EAAYsB,WAAA,cAAA3E,MAAAxB,KAAAwB,KAQvB4E,UAAWhB,EAASC,GAE1B7D,KAAK0pB,SAAW,KAChB1pB,KAAK2pB,aAAe,EACpB3pB,KAAK4pB,UAAY,KAEjB5pB,KAAKgY,QAAS,EAEdhY,KAAK6pB,OAAS,KAEd7pB,KAAKsF,OAELtF,KAAKuF,SApBY,+QAAAC,CAAAnC,EAAAM,GAAA7B,EAAAuB,EAAA,CAuBnB0K,WAAA,CAAU3I,MAAA,WACRpF,KAAK8pB,OAAS,IAAI9d,EAAIkF,YAAYlR,KAAKsN,QACvCtN,KAAK4F,QAAU5F,KAAK8pB,OAAOlkB,UAG7BE,cAAA,CAAaV,MAAA,WACXpF,KAAK8pB,OAAO/jB,OAAO/F,KAAKkF,MAAOlF,KAAKmF,UAGtCoB,eAAA,CAAcnB,MAAA,WACZpF,KAAK8pB,OAAOlkB,QAAQY,MAAMC,gBAAkBzG,KAAKnB,OAAOgC,OAG1D0E,OAAA,CAAMH,MAAA,WAsBJ,GArBIpF,KAAKgY,QACP+R,sBAAsB/pB,KAAKuF,OAAO7E,KAAKV,OAGrCA,KAAK0pB,UACP1pB,KAAK0pB,SAASkC,sBAAsB5rB,KAAK4pB,WAG3C5pB,KAAK8pB,OAAO/qB,QAAQkrB,UAAYjqB,KAAKnB,OAAOgC,KAC5Cb,KAAK8pB,OAAO/qB,QAAQmrB,SAClB,EACA,EACAlqB,KAAK8pB,OAAOlkB,QAAQV,MACpBlF,KAAK8pB,OAAOlkB,QAAQT,QAGtBnF,KAAK8pB,OAAO/qB,QAAQ8sB,aAAe7rB,KAAKmF,OAAS,IAAM,GACvDnF,KAAK8pB,OAAO/qB,QAAQ+sB,YAAc9rB,KAAKnB,OAAO+B,OAE9CZ,KAAK8pB,OAAO/qB,QAAQgtB,YAEhB/rB,KAAK6pB,OAIP,IAHA,IAAImC,EAA0C,EAA5BhsB,KAAK8pB,OAAOlkB,QAAQV,MAAelF,KAAK2pB,aACtDxlB,EAAI,EAECmE,EAAI,EAAGA,EAAItI,KAAK2pB,aAAcrhB,IAAK,CAC1C,IACI/D,EADIvE,KAAK4pB,UAAUthB,GAAK,IACftI,KAAK8pB,OAAOlkB,QAAQT,OAAU,EAEjC,IAANmD,EACFtI,KAAK8pB,OAAO/qB,QAAQktB,OAAO9nB,EAAGI,GAE9BvE,KAAK8pB,OAAO/qB,QAAQmtB,OAAO/nB,EAAGI,GAGhCJ,GAAK6nB,OAGPhsB,KAAK8pB,OAAO/qB,QAAQktB,OAAO,EAAGjsB,KAAK8pB,OAAOlkB,QAAQT,OAAS,GAC3DnF,KAAK8pB,OAAO/qB,QAAQmtB,OAClBlsB,KAAK8pB,OAAOlkB,QAAQV,MACpBlF,KAAK8pB,OAAOlkB,QAAQT,OAAS,GAIjCnF,KAAK8pB,OAAO/qB,QAAQotB,WAStB5B,QAAA,CAAOnlB,MAAA,SAAC4f,GACFhlB,KAAK6pB,QACP7pB,KAAKwqB,aAGPxqB,KAAK0pB,SAAW1E,EAAKjmB,QAAQ0rB,iBAC7BzqB,KAAK0pB,SAASgB,QAAU,KACxB1qB,KAAK2pB,aAAe3pB,KAAK0pB,SAASiB,kBAClC3qB,KAAK4pB,UAAY,IAAIgB,WAAW5qB,KAAK2pB,cACrC3pB,KAAK0pB,SAASkC,sBAAsB5rB,KAAK4pB,WAEzC5pB,KAAKgY,QAAS,EAEdhY,KAAK6pB,OAAS7E,EACdhlB,KAAK6pB,OAAOU,QAAQvqB,KAAK0pB,UAEzB1pB,KAAKuF,WAMPilB,WAAA,CAAUplB,MAAA,WACJpF,KAAK6pB,QACP7pB,KAAK6pB,OAAOW,WAAWxqB,KAAK0pB,UAG9B1pB,KAAK0pB,SAAW,KAChB1pB,KAAK2pB,aAAe,EACpB3pB,KAAK4pB,UAAY,KACjB5pB,KAAKgY,QAAS,EACdhY,KAAK6pB,OAAS,OAGhBjjB,MAAA,CAAKxB,MAAA,WACHpF,KAAKgY,QAAUhY,KAAKgY,QAAUhY,KAAK6pB,OACnC7pB,KAAKuF,WAGP4K,cAAA,CAAa/K,MAAA,WACXpF,KAAKgY,QAAS,MAnIG3U,EAAA,CAzBLnF,EAAQ,IAyBHG,EAAAD,QAAAutB,wOCUTzqB,KAAShD,EAAM,iCACpB8N,iDAAG9M,CAAAhB,EAAM,IAEPW,EAAMX,EAAQ,GAAdW,OAEYutB,EAAA,oBAAAhtB,EAEP2N,EAAQjI,gGAFD/E,CAAAC,KAAAZ,GAIjBY,KAAKqsB,KAAO,GACZrsB,KAAKqsB,KAAKtf,OAASA,EACnB/M,KAAKqsB,KAAK/e,OAAStB,EAAIuB,aAAaR,GACpC/M,KAAKqsB,KAAKxtB,OAAS,GAEfiG,GACF9E,KAAKqsB,KAAKC,UAAYxnB,EAASwnB,WAAa,WAC5CtsB,KAAKqsB,KAAKnJ,MAAQpe,EAAS0H,OAAQ,EACnCxM,KAAKqsB,KAAKE,KAAOznB,EAASynB,OAAQ,IAElCvsB,KAAKqsB,KAAKC,UAAY,WACtBtsB,KAAKqsB,KAAKnJ,OAAQ,EAClBljB,KAAKqsB,KAAKE,MAAO,GAGnB,IAAI5f,EAAgB9N,IACpBmB,KAAKqsB,KAAKxtB,OAAO+B,OAAS+L,EAAc/L,OACxCZ,KAAKqsB,KAAKxtB,OAAOgC,KAAO8L,EAAc9L,KACtCb,KAAKqsB,KAAKxtB,OAAOiC,MAAQ6L,EAAc7L,MACvCd,KAAKqsB,KAAKxtB,OAAOkC,KAAO4L,EAAc5L,KACtCf,KAAKqsB,KAAKxtB,OAAOmC,YAAc2L,EAAc3L,YAC7ChB,KAAKqsB,KAAKxtB,OAAOoC,WAAa0L,EAAc1L,WAC5CjB,KAAKyF,iBACLzF,KAAKuG,iBA3BY,OAAAzE,EAAA1C,EAAA,CA8BnBqG,eAAA,CAAcL,MAAA,0BACZpF,KAAKqsB,KAAK/e,OAAO9G,MAAMgmB,UAAY,aACnCxsB,KAAKqsB,KAAK/e,OAAO9G,MAAMimB,WAAa,OACpCzsB,KAAKqsB,KAAK/e,OAAO9G,MAAMkmB,cAAgB,OACvC1sB,KAAKqsB,KAAK/e,OAAO9G,MAAMmmB,iBAAmB,OAE1C3sB,KAAKqsB,KAAKO,SAAWtrB,SAASC,cAAc,OAErCvB,KAAKqsB,KAAK/e,OAAOuf,WAAWviB,OAAS,GACxCtK,KAAKqsB,KAAKO,SAAS/mB,YAAY7F,KAAKqsB,KAAK/e,OAAOuf,WAAW,IAG/D7sB,KAAKqsB,KAAKO,SAASpmB,MAAMqW,QAAU,MACnC7c,KAAKqsB,KAAKO,SAASpmB,MAAMgmB,UAAY,aAEjCxsB,KAAKqsB,KAAKnJ,QACZljB,KAAKqsB,KAAKS,SAAWxrB,SAASC,cAAc,OAC5CvB,KAAKqsB,KAAKS,SAASrrB,UAAYzB,KAAKqsB,KAAKnJ,MACzCljB,KAAKqsB,KAAKS,SAAStmB,MAAMumB,WAAa,QACtC/sB,KAAKqsB,KAAKS,SAAStmB,MAAMxB,SAAW,WACpChF,KAAKqsB,KAAKS,SAAStmB,MAAM6J,MAAQ,OACjCrQ,KAAKqsB,KAAKS,SAAStmB,MAAMqW,QAAU,MACnC7c,KAAKqsB,KAAKS,SAAStmB,MAAMoT,SAAW,OAEpC5Z,KAAKqsB,KAAKjU,OAAS9W,SAASC,cAAc,OAC1CvB,KAAKqsB,KAAKjU,OAAO5R,MAAMxB,SAAW,WAClChF,KAAKqsB,KAAKjU,OAAO5R,MAAMiK,IAAM,MAC7BzQ,KAAKqsB,KAAKjU,OAAO5R,MAAMwmB,MAAQ,MAC/BhtB,KAAKqsB,KAAKjU,OAAO3W,UAAY,IAC7BzB,KAAKqsB,KAAKjU,OAAO5R,MAAMqW,QAAU,cACjC7c,KAAKqsB,KAAKjU,OAAO5R,MAAMymB,WAAa,OACpCjtB,KAAKqsB,KAAKjU,OAAO5R,MAAMoT,SAAW,OAElC5Z,KAAKqsB,KAAKjU,OAAO5R,MAAMuI,OAAS,UAEhC/O,KAAKqsB,KAAKjU,OAAOhK,iBAAiB,aAAa,WAC7CE,EAAK+d,KAAKjU,OAAO5R,MAAMC,gBAAkB6H,EAAK+d,KAAKxtB,OAAOoC,cAE5DjB,KAAKqsB,KAAKjU,OAAOhK,iBAAiB,cAAc,WAC9CE,EAAK+d,KAAKjU,OAAO5R,MAAMC,gBAAkB6H,EAAK+d,KAAKxtB,OAAOmC,eAE5DhB,KAAKqsB,KAAKjU,OAAOhK,iBAAiB,SAAS,WACrCE,EAAK+d,KAAKE,KACZje,EAAK4e,OAEL5e,EAAK6e,UAKTntB,KAAKqsB,KAAKS,SAASjnB,YAAY7F,KAAKqsB,KAAKjU,QAEzCpY,KAAKqsB,KAAK/e,OAAOzH,YAAY7F,KAAKqsB,KAAKS,WAEzC9sB,KAAKqsB,KAAK/e,OAAOzH,YAAY7F,KAAKqsB,KAAKO,UAKvC,IAAInO,EAAKvd,EAAUksB,QAAQptB,KAAKqsB,KAAKtf,OAAQ/M,KAAKqsB,KAAKC,WACvD,IAAK,IAAIxsB,KAAO2e,EACdze,KAAKF,GAAO2e,EAAG3e,KAInByG,eAAA,CAAcnB,MAAA,WACRpF,KAAKqsB,KAAKnJ,QACZljB,KAAKqsB,KAAKjU,OAAO5R,MAAMC,gBAAkBzG,KAAKqsB,KAAKxtB,OAAOmC,YAC1DhB,KAAKqsB,KAAKjU,OAAO5R,MAAMyT,OAAS,aAAaja,KAAKqsB,KAAKxtB,OAAOgC,KAC9Db,KAAKqsB,KAAK/e,OAAO9G,MAAMyT,OAAS,aAAaja,KAAKqsB,KAAKxtB,OAAOmC,YAC9DhB,KAAKqsB,KAAK/e,OAAO9G,MAAMC,gBAAkBzG,KAAKqsB,KAAKxtB,OAAOiC,MAC1Dd,KAAKqsB,KAAKS,SAAStmB,MAAMC,gBAAkBzG,KAAKqsB,KAAKxtB,OAAOgC,QAIhEssB,KAAA,CAAI/nB,MAAA,WACFpF,KAAKqsB,KAAKO,SAASpmB,MAAM6V,QAAU,QACnCrc,KAAKqsB,KAAKE,MAAO,IAGnBW,KAAA,CAAI9nB,MAAA,WACFpF,KAAKqsB,KAAKO,SAASpmB,MAAM6V,QAAU,OACnCrc,KAAKqsB,KAAKE,MAAO,IAGnBnc,SAAA,CAAQhL,MAAA,SAAC5D,EAAK6O,GACZ,IAAK,IAAIvQ,KAAOE,KACVA,KAAKF,GAAKsQ,UACZpQ,KAAKF,GAAKsQ,SAAS5O,EAAK6O,GAG5BrQ,KAAKqsB,KAAKxtB,OAAO2C,GAAQ6O,EACzBrQ,KAAKuG,mBAGPsJ,MAAA,CAAKzK,MAAA,WACH,IAAK,IAAItF,KAAOE,KACVA,KAAKF,GAAKkQ,SACZhQ,KAAKF,GAAKkQ,cAhIG5Q,EAAA,GAAAf,EAAAD,QAAAguB,uICzCd,IAAApgB,EAAG9M,EAAAhB,EAAM,IACTe,EAAUC,EAAAhB,EAAM,IAEnBmvB,EAAoB,SAACC,EAAOC,GAC9B,IAAI/rB,EAAO8rB,EAAO9rB,KAMlB,OALI+rB,EAAa/rB,GACf+rB,EAAa/rB,KAEb+rB,EAAa/rB,GAAQ,EAEdA,EAAO+rB,EAAa/rB,IAG3BgsB,EAAU,SAAC5nB,EAAQpE,EAAKoC,GAC1BA,EAAUA,GAAW,GACrB,IAAK,IAAI0E,EAAI,EAAGA,EAAI1C,EAAQ6nB,WAAWnjB,OAAQhC,IAAI,CACjD,IAAIolB,EAAM9nB,EAAQ6nB,WAAWnlB,GAI3B1E,EAAQ8pB,EAAIC,UAAYD,EAAIE,UAGhCpsB,EAAOA,EAAK,GAAGqsB,cAAgBrsB,EAAK2R,MAAM,GAC1C,IAAIma,EAAS,IAAIruB,EAAWuC,GAAMoE,EAAQhC,GAE1C,OADA0pB,EAAOhvB,GAAKsH,EAAQtH,GACbgvB,GA4DAlvB,EAAAwH,QAAA4nB,EACApvB,EAAAgvB,QAzDK,SAAC9f,EAAOwgB,GAEpBA,EAAUA,GAAW,WAUrB,IARA,IAAIP,EAAe,GAIf9O,EAAK,GAELsP,EAJY/hB,EAAIuB,aAAaD,GAIJ0gB,qBAAqB,KAC9CC,EAAW,GACN3lB,EAAE,EAAGA,EAAEylB,EAAazjB,OAAQhC,IACnC2lB,EAASzlB,KAAKulB,EAAazlB,IAE7B,IAASA,EAAE,EAAEA,EAAE2lB,EAAS3jB,OAAOhC,IAAK,CAClC,IAAI9G,EAAOysB,EAAS3lB,GAAG4lB,aAAaJ,GACpC,GAAItsB,EAAM,CACR,IAAI2sB,GAAgB,EACpB,IAAK,IAAIruB,KAAOb,EACVuC,EAAK4sB,gBAAgBtuB,EAAIsuB,gBAC3BD,EAAgBruB,GAGpB2T,QAAQ+M,IAAI2N,GACZ,IAAIb,EAASE,EAAQS,EAAS3lB,GAAG6lB,GAC7Bb,EAAOhvB,GACTmgB,EAAG6O,EAAOhvB,IAAMgvB,EAGhB7O,EADS4O,EAAkBC,EAAOC,IACzBD,GAKf,OAAO7O,GAuBArgB,EAAA+C,IAnBC,SAACK,EAAK8L,EAAO1J,GACrB,IAAImJ,EAASzL,SAASC,cAAc,OAapC,OAZAqC,EAAUA,GAAW,IAEnB0J,EADEA,EACOtB,EAAIuB,aAAaD,GAEjBhM,SAAS0L,MAEbnH,YAAYkH,GACnBnJ,EAAQmJ,OAASA,EACbnJ,EAAQE,OACViJ,EAAOvG,MAAMtB,MAAQtB,EAAQE,KAAK,GAAK,KACvCiJ,EAAOvG,MAAMrB,OAASvB,EAAQE,KAAK,GAAK,MAEnC0pB,EAAQzgB,EAAOvL,EAAKoC,qBCrF7B,qNAEOzE,KAAIjB,EAAM,8BAEImwB,EAAA,oBAAAhvB,iGAAAU,CAAAC,KAAAX,GAGjBW,KAAK2I,MAAQ,GAGb3I,KAAK+D,KAAO,CACVuqB,OAAQ,YACRtjB,MAAO,QAIThL,KAAKuuB,QAAU,CACb,UACA,WACA,WACA,WACA,WACA,IACA,WACA,WAIFvuB,KAAKnC,KAAOsB,EAAK4K,KAAK,IAGtB/J,KAAKwuB,YAAY,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IA3BlB,OAAA1sB,EAAAzC,EAAA,CA+BnBoB,KAAA,CAAI2E,MAAA,SAAC4F,EAAOT,GAaV,MAVyB,cAArBvK,KAAK+D,KAAKuqB,OACDtuB,KAAKyuB,UAAUzjB,EAAOT,GACH,UAArBvK,KAAK+D,KAAKuqB,OACRtuB,KAAKgiB,MAAMhX,EAAOT,GACC,SAArBvK,KAAK+D,KAAKuqB,OACRtuB,KAAK0uB,KAAK1jB,EAAOT,GAEjBvK,KAAKyuB,UAAUzjB,EAAOT,KAOrCkkB,UAAA,CAASrpB,MAAA,SAACupB,EAAQC,GACQ,SAApB5uB,KAAK+D,KAAKiH,OAAwC,SAApBhL,KAAK+D,KAAKiH,QAC1ChL,KAAK2uB,QAAU,IAIjB,IAAIpkB,EAAStE,KAAK4E,MAAM8jB,EAAS3uB,KAAK2I,MAAM2B,QAExCskB,IACFrkB,GAAUqkB,OAIZ,IAAIC,EAAcF,EAAS3uB,KAAK2I,MAAM2B,OAE/BukB,EAAc,GACnBA,GAAe7uB,KAAK2I,MAAM2B,OAG5B,IAAI0X,EAAQhiB,KAAK2I,MAAMkmB,GAEnBC,EAAO9uB,KAAKnC,KAAOmkB,EAOvB,OALA8M,GAAc7oB,KAAKgE,IAAI,EAAGM,GAG1BukB,EAAO7oB,KAAK4E,MAAa,KAAPikB,GAAuB,OAO3C9M,MAAA,CAAK5c,MAAA,SAACupB,EAAQC,GACY,SAApB5uB,KAAK+D,KAAKiH,OAAwC,SAApBhL,KAAK+D,KAAKiH,QAC1ChL,KAAK2uB,QAAU,IAIjB,IAAIpkB,EAAStE,KAAK4E,MAAM8jB,EAAS3uB,KAAK2I,MAAM2B,QAExCskB,IACFrkB,GAAUqkB,GAIZ,IAAIC,EAAcF,EAAS3uB,KAAK2I,MAAM2B,OAGlC0X,EAAQ/b,KAAKgE,IAAI,EAAGM,GAAUvK,KAAK2I,MAAMkmB,GAI7C,OAFA7M,EAAQ/b,KAAK4E,MAAc,KAARmX,GAAwB,KAEpCA,IAKT0M,KAAA,CAAItpB,MAAA,SAACupB,EAAQC,GACX,IAAIxV,EAAWpZ,KAAKyuB,UAAUE,EAAQC,GAElCnc,EAAI,GAAM,GAAKxM,KAAKua,IAAIpH,EAAW,KAAQnT,KAAKua,IAAI,GAIxD,OAFA/N,EAAIxM,KAAK4E,MAAU,IAAJ4H,GAAkB,MAKnC+b,YAAA,CAAWppB,MAAA,WAET,IADA,IAAI2pB,EAAW,GACNzmB,EAAI,EAAGA,EAAI1D,UAAU0F,OAAQhC,IACpCymB,EAASvmB,KAAKrJ,EAAK4K,KAAK,GAAKnF,UAAU0D,KAEzCtI,KAAKgvB,yBAAyBD,KAGhCE,cAAA,CAAa7pB,MAAA,WACXpF,KAAK2I,MAAQ,GACb,IAAK,IAAIL,EAAI,EAAGA,EAAI1D,UAAU0F,OAAQhC,IACpCtI,KAAK2I,MAAMH,KAAK5D,UAAU0D,MAI9B0mB,yBAAA,CAAwB5pB,MAAA,SAAC8pB,GACvBlvB,KAAK2I,MAAQ,GACb,IAAK,IAAIL,EAAI,EAAGA,EAAI4mB,EAAM5kB,OAAQhC,IAChCtI,KAAK2I,MAAMH,KAAK0mB,EAAM5mB,GAAK4mB,EAAM,MAMrCC,UAAA,CAAS/pB,MAAA,SAACoH,GAER,IAAI0iB,EAAQlvB,KAAKovB,OAAO5iB,GAAM6iB,YAC9BrvB,KAAKgvB,yBAAyBE,KAMhCI,OAAA,CAAMlqB,MAAA,SAACmqB,GACL,IAAIC,EAAW,GACf,IAAK,IAAI1vB,KAAOE,KAAKovB,QACsC,IAArDtvB,EAAIsuB,cAAc3N,QAAQ8O,EAAQnB,gBACpCoB,EAAShnB,KAAK1I,GAGlB,OAAO0vB,IAKTC,MAAA,CAAKrqB,MAAA,SAACsqB,GAEJ,IADA,IAAIpB,EAAS,GACJhmB,EAAI,EAAGA,EAAIonB,EAAMplB,OAAQhC,IAChCgmB,EAAO9lB,KAAKxI,KAAKS,KAAKivB,EAAMpnB,KAE9B,OAAOgmB,MAtKUjvB,EAAA,GAAAhB,EAAAD,QAAAiwB,iBCJrB,kTAKqBsB,EAAA,oBAAAnwB,IAGU,IAAA,IAAAowB,EAAAhrB,UAAA0F,OAAAulB,EAAAniB,MAAAkiB,EAAA,EAAAA,EAAA,EAAA,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAD,EAAAC,EAAA,GAAAlrB,UAAAkrB,GAAf,IAAAxlB,OAAMyB,IAAAnH,UAAA,GAAG,EAATA,UAAA,GAHK7E,EAAAC,KAAAR,GAUT8K,EAAS,IAAKA,EAAS,GAE3BtK,KAAKsK,OAASA,EACdtK,KAAK6vB,OAASA,EACd7vB,KAAK+vB,MAAQ,IAAIriB,MAAMpD,GAAQzJ,KAAK,GAEhCgvB,EAAOvlB,OAAS,GAChBtK,KAAKqG,GAAE+M,MAAPpT,KAAW6vB,GAjBF,OAAA/tB,EAAAtC,EAAA,CAqBjBgZ,OAAA,CAAMpT,MAAA,SAACA,GAGH,OAFApF,KAAK+vB,MAAMlvB,KAAK,GAChBb,KAAK+vB,MAAM3qB,GAAS,EACbpF,KAAK+vB,QAGhBva,KAAA,CAAIpQ,MAAA,WAAI,IAAA,IAAAwqB,EAAAhrB,UAAA0F,OAAAoV,EAAAhS,MAAAkiB,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAApQ,EAAAoQ,GAAAlrB,UAAAkrB,GAEJ,IAAItkB,EAAIxL,KAAK+vB,MAcb,OAbIrQ,EAAOpV,OAAS,EAChBoV,EAAOjO,SAAQ,SAASrK,GAChBA,EAAIoE,EAAElB,OAAS,EACfmJ,QAAQ6D,KAAK,sBAAwBlQ,EAAI,oBAEzCoE,EAAEpE,GAAMoE,EAAEpE,GAAK,EAAI,KAI3BoE,EAAEiG,SAAQ,SAASrK,EAAGkB,EAAG6X,GACrBA,EAAI7X,GAAMlB,EAAI,EAAI,KAGnBoE,IAGXnF,GAAA,CAAEjB,MAAA,WAAI,IAAA,IAAAwqB,EAAAhrB,UAAA0F,OAAAoV,EAAAhS,MAAAkiB,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAApQ,EAAAoQ,GAAAlrB,UAAAkrB,GAEF,IAAItkB,EAAIxL,KAAK+vB,MAab,OAZIrQ,EAAOpV,OAAS,EAChBoV,EAAOjO,SAAQ,SAASrK,GAChBA,EAAIoE,EAAElB,OAAS,EACfmJ,QAAQ6D,KAAK,sBAAwBlQ,EAAI,6BAE5B,IAAToE,EAAEpE,IAAYqM,QAAQ6D,KAAK,sBAAwBlQ,EAAI,qBAC3DoE,EAAEpE,GAAK,MAIfoE,EAAE3K,KAAK,GAEJ2K,IAGXpF,IAAA,CAAGhB,MAAA,WAAI,IAAA,IAAAwqB,EAAAhrB,UAAA0F,OAAAoV,EAAAhS,MAAAkiB,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAApQ,EAAAoQ,GAAAlrB,UAAAkrB,GAEH,IAAItkB,EAAIxL,KAAK+vB,MAQb,OAPIrQ,EAAOpV,OAAS,EAChBoV,EAAOjO,SAAQ,SAASrK,GACpBoE,EAAEpE,GAAK,KAGXoE,EAAE3K,KAAK,GAEJ2K,MA1EMhM,EAAA,GAAAnB,EAAAD,QAAAuxB,mBCLrB,IAAA/vB,EAAA1B,EAAA,IAEAG,EAAAD,QAAAwB,EACA,oBAAAQ,SAAAA,OAAAR,SAAAA,8BCHAowB,GAAA,IAEAC,EACA,GADAA,EAEA,KAIAC,EAAA,SAAAlxB,EAAAmxB,EAAA7O,GACAthB,KAAAhB,MAAAA,EACAgB,KAAAshB,KAAAA,EACAthB,KAAAowB,UAAA,EAEApwB,KAAAqwB,cAAArxB,EAAAqxB,cACArwB,KAAAswB,eAAAtxB,EAAAsxB,eACAtwB,KAAAuwB,YAAA,KACAvwB,KAAAwwB,cAAA,KACAxwB,KAAAmwB,SAAA,KACAnwB,KAAAywB,WAAA,KAEAzwB,KAAA0wB,SAAAP,IAIAD,EAAAvrB,UAAA6c,MAAA,WAGA,OAFAxhB,KAAAhB,MAAA2xB,aAAA3wB,MACAA,KAAAowB,UAAA,EACApwB,MAIAkwB,EAAAvrB,UAAAgd,OAAA,SAAAiP,GACA,GAAA,IAAAA,EACA,MAAA,IAAA3d,MAAA,qBAIA,OAHAjT,KAAAywB,WAAAG,EACA5wB,KAAAhB,MAAA6xB,UAAA7wB,OACAA,KAAA0wB,SAAA1wB,KAAAmwB,SAAAnwB,KAAAywB,YACAzwB,MAMAkwB,EAAAvrB,UAAAid,UAAA,SAAAlC,GAUA,MATA,iBAAAA,EAAAoC,OACA9hB,KAAAqwB,cAAA3Q,EAAAoC,MACA,iBAAApC,EAAAmC,QACA7hB,KAAAswB,eAAA5Q,EAAAmC,OACA7hB,KAAA8wB,yBACA9wB,KAAAhB,MAAA6xB,UAAA7wB,QACAA,KAAAhB,MAAA2xB,aAAA3wB,MACAA,KAAAhB,MAAA+xB,aAAA/wB,OAEAA,MAIAkwB,EAAAvrB,UAAAqsB,WAAA,WAAA,OAAA,OAAAhxB,KAAAywB,YAKAP,EAAAvrB,UAAA+rB,SAAA,SAAAP,GACAnwB,KAAAowB,UAAA,EACApwB,KAAAmwB,SAAAA,EACAnwB,KAAA8wB,yBAEA9wB,KAAAhB,MAAAD,QAAA2iB,aAAA1hB,KAAAwwB,cACAxwB,KAAAixB,WAEAjxB,KAAAhB,MAAA6xB,UAAA7wB,OACAA,KAAAhB,MAAA2xB,aAAA3wB,MACAA,KAAAhB,MAAA+xB,aAAA/wB,OAEAA,KAAAhB,MAAA+xB,aAAA/wB,OAGAkwB,EAAAvrB,UAAAsd,YAAA,SAAAiP,EAAAlP,GACAhiB,KAAAgxB,eACAhxB,KAAAywB,WAAAzwB,KAAAywB,WAAAzO,GAEA,IAAAmO,EAAAe,EAAAlP,GAAAhiB,KAAAmwB,SAAAe,GAGA,GAAAlxB,KAAAgxB,aAAA,KACAhxB,KAAAhB,MAAAD,QAAA2iB,aAAAyO,EAAAnwB,KAAAswB,gBACAH,GAAAnwB,KAAAywB,WAEAzwB,KAAA0wB,SAAAP,IAIAD,EAAAvrB,UAAAssB,SAAA,YACA,IAAAjxB,KAAAhB,MAAAmyB,WACAnxB,KAAAhB,MAAA2xB,aAAA3wB,MAEAA,KAAAhB,MAAAD,QAAA2iB,YAAA1hB,KAAAuwB,YACAvwB,KAAAshB,KAAAthB,OAEAA,KAAAoxB,WAAApxB,KAAAoxB,UAAApxB,MACAyT,QAAA6D,KAAA,kBAIAtX,KAAAhB,MAAA6xB,UAAA7wB,QAAAA,KAAAgxB,cAAAhxB,KAAAowB,UACApwB,KAAA0wB,SAAA1wB,KAAAmwB,SAAAnwB,KAAAywB,cAIAP,EAAAvrB,UAAAmsB,uBAAA,WACA9wB,KAAAuwB,YAAAvwB,KAAAmwB,SAAAnwB,KAAAqwB,cACArwB,KAAAwwB,cAAAxwB,KAAAmwB,SAAAnwB,KAAAswB,gBAIA,IAAA1wB,EAAAvB,EAAAD,QAAA,SAAAW,EAAAsyB,GAEAA,EAAAA,GAAA,GACArxB,KAAAsxB,WAAAD,EAAAC,YAAA,sBACAtxB,KAAAswB,eAAAe,EAAAf,gBAAAL,EACAjwB,KAAAqwB,cAAAgB,EAAAhB,eAAAJ,EACAjwB,KAAAjB,QAAAA,EACAiB,KAAAkS,QAAA,GACAlS,KAAAmxB,UAAA,GAKAvxB,EAAA+E,UAAA6K,WAAA,SAAA8R,EAAAiQ,GACA,OAAAvxB,KAAAwxB,aAAAlQ,EAAAthB,KAAAyxB,SAAAF,KAIA3xB,EAAA+E,UAAA8c,eAAA,SAAAH,EAAA6O,GACA,OAAAnwB,KAAAwxB,aAAAlQ,EAAA6O,IAKAvwB,EAAA+E,UAAAsd,YAAA,SAAAiP,EAAAQ,EAAA1P,GAEA,OADA0P,EAAAjgB,SAAA,SAAAvE,GAAkCA,EAAA+U,YAAAiP,EAAAlP,MAClC0P,GAIA9xB,EAAA+E,UAAAhE,MAAA,WACA,IAAA,IAAAX,KAAAmxB,SAAA,CACA,IAAAQ,EAAA3xB,KAIA,GAHAA,KAAAmxB,UAAA,EACAnxB,KAAAkS,QAAA,GAEA,wBAAAlS,KAAAsxB,WAGAtxB,KAAA4xB,WAAA5xB,KAAAjB,QAAA8yB,sBAFA,IAEA,EAAA,GACA7xB,KAAA4xB,WAAArH,QAAAvqB,KAAAjB,QAAAwa,aACAvZ,KAAA4xB,WAAAE,eAAA,WACA9B,EAAA+B,UAAA,WAAqCJ,EAAAK,iBAErC,GAAA,WAAAhyB,KAAAsxB,WAEA,MAAA,IAAAre,MAAA,sBAAAjT,KAAAsxB,cAKA1xB,EAAA+E,UAAAzC,KAAA,YACA,IAAAlC,KAAAmxB,WACAnxB,KAAAmxB,UAAA,EACAnxB,KAAA4xB,WAAApH,eAQA5qB,EAAA+E,UAAAqtB,MAAA,eACA,IAAA9kB,EAAAlN,KAAAkS,QAAA+f,QAEA/kB,GAAAA,EAAAsjB,eAAAxwB,KAAAjB,QAAA2iB,aACAxU,EAAA+jB,WACA/jB,EAAAlN,KAAAkS,QAAA+f,QAIA/kB,GAAAlN,KAAAkS,QAAAtF,QAAAM,IAIAtN,EAAA+E,UAAA6sB,aAAA,SAAAlQ,EAAA6O,GACA,OAAA,IAAAD,EAAAlwB,KAAAmwB,EAAA7O,IAIA1hB,EAAA+E,UAAAosB,aAAA,SAAA7jB,GACAlN,KAAAkS,QAAApF,OAAA9M,KAAAkyB,aAAAhlB,EAAAsjB,eAAA,EAAAtjB,IAIAtN,EAAA+E,UAAAgsB,aAAA,SAAAzjB,GACA,IAAAilB,EAAAnyB,KAAAkS,QAAAuO,QAAAvT,IACA,IAAAilB,GAAAnyB,KAAAkS,QAAApF,OAAAqlB,EAAA,IAIAvyB,EAAA+E,UAAAksB,UAAA,SAAA3jB,GACA,OAAA,IAAAlN,KAAAkS,QAAAuO,QAAAvT,IAIAtN,EAAA+E,UAAAutB,aAAA,SAAA/B,OAEA,IAEAiC,EAFAznB,EAAA,EACAC,EAAA5K,KAAAkS,QAAA5H,OAEAK,EAAAC,GACAwnB,EAAAnsB,KAAA4E,OAAAF,EAAAC,GAAA,GACA5K,KAAAkS,QAAAkgB,GAAA5B,cAAAL,EACAxlB,EAAAynB,EAAA,EACAxnB,EAAAwnB,EAEA,OAAAznB,GAIA/K,EAAA+E,UAAA8sB,SAAA,SAAAY,GACA,OAAAA,EAAAryB,KAAAjB,QAAA2iB,aAIA9hB,EAAA+E,UAAA2tB,SAAA,SAAAC,GACA,OAAAA,EAAAvyB,KAAAjB,QAAA2iB,4CCvOA,IAOA8Q,EACAC,EARAzC,EAAA3xB,EAAAD,QAAA,YAUAs0B,IACA,MAAA,IAAAzf,MAAA,4CAEA0f,IACA,MAAA,IAAA1f,MAAA,8CAsBA2f,EAAAC,GACA,GAAAL,IAAAhjB,WAEA,OAAAA,WAAAqjB,EAAA,GAGA,IAAAL,IAAAE,IAAAF,IAAAhjB,WAEA,OADAgjB,EAAAhjB,WACAA,WAAAqjB,EAAA,GAEA,IAEA,OAAAL,EAAAK,EAAA,GACA,MAAA7jB,GACA,IAEA,OAAAwjB,EAAAh0B,KAAA,KAAAq0B,EAAA,GACA,MAAA7jB,GAEA,OAAAwjB,EAAAh0B,KAAAwB,KAAA6yB,EAAA,iBAtCA,IAEAL,EADA,mBAAAhjB,WACAA,WAEAkjB,EAEA,MAAA1jB,GACAwjB,EAAAE,EAEA,IAEAD,EADA,mBAAAnd,aACAA,aAEAqd,EAEA,MAAAG,GACAL,EAAAE,MAuDA,IAEAI,EAFAC,EAAA,GACAC,GAAA,EAEAC,GAAA,WAEAC,IACAF,GAAAF,IAGAE,GAAA,EACAF,EAAAzoB,OACA0oB,EAAAD,EAAAjT,OAAAkT,GAEAE,GAAA,EAEAF,EAAA1oB,QACA8oB,cAIAA,IACA,IAAAH,EAAA,CAGA,IAAA5d,EAAAud,EAAAO,GACAF,GAAA,MAEA,IAAAngB,EAAAkgB,EAAA1oB,OACAwI,GAAA,KACAigB,EAAAC,EACAA,EAAA,KACAE,EAAApgB,GACAigB,GACAA,EAAAG,GAAAG,MAGAH,GAAA,EACApgB,EAAAkgB,EAAA1oB,OAEAyoB,EAAA,KACAE,GAAA,WAnEAK,GACA,GAAAb,IAAAnd,aAEA,OAAAA,aAAAge,GAGA,IAAAb,IAAAE,IAAAF,IAAAnd,aAEA,OADAmd,EAAAnd,aACAA,aAAAge,GAEA,IAEAb,EAAAa,GACA,MAAAtkB,GACA,IAEA,OAAAyjB,EAAAj0B,KAAA,KAAA80B,GACA,MAAAtkB,GAGA,OAAAyjB,EAAAj0B,KAAAwB,KAAAszB,KAgDAC,CAAAle,aAiBAme,EAAAX,EAAA9C,GACA/vB,KAAA6yB,IAAAA,EACA7yB,KAAA+vB,MAAAA,WAYA0D,KA5BAzD,EAAA+B,SAAA,SAAAc,GACA,IAAAvmB,EAAA,IAAAoB,MAAA9I,UAAA0F,OAAA,GACA,GAAA1F,UAAA0F,OAAA,EACA,IAAA,IAAAhC,EAAA,EAAuBA,EAAA1D,UAAA0F,OAAvBhC,IACAgE,EAAAhE,EAAA,GAAA1D,UAAA0D,GAGA0qB,EAAAxqB,KAAA,IAAAgrB,EAAAX,EAAAvmB,IACA,IAAA0mB,EAAA1oB,QAAA2oB,GACAL,EAAAQ,IASAI,EAAA7uB,UAAA0uB,IAAA,WACArzB,KAAA6yB,IAAAzf,MAAA,KAAApT,KAAA+vB,QAEAC,EAAA9M,MAAA,UACA8M,EAAA0D,SAAA,EACA1D,EAAA2D,IAAA,GACA3D,EAAA4D,KAAA,GACA5D,EAAA6D,QAAA,GACA7D,EAAA8D,SAAA,GAIA9D,EAAA3pB,GAAAotB,EACAzD,EAAA3c,YAAAogB,EACAzD,EAAArc,KAAA8f,EACAzD,EAAA5pB,IAAAqtB,EACAzD,EAAAlc,eAAA2f,EACAzD,EAAA/f,mBAAAwjB,EACAzD,EAAA9oB,KAAAusB,EACAzD,EAAA+D,gBAAAN,EACAzD,EAAAgE,oBAAAP,EAEAzD,EAAAjd,UAAA,SAAAvG,GAAA,MAAA,IAEAwjB,EAAAiE,QAAA,SAAAznB,GACA,MAAA,IAAAyG,MAAA,qCAGA+c,EAAAkE,IAAA,WAAA,MAAA,KACAlE,EAAAmE,MAAA,SAAAC,GACA,MAAA,IAAAnhB,MAAA,mCAEA+c,EAAAqE,MAAA,WAA4B,OAAA,O9CtL5B,iBAAAt2B,EACAA,EAAAD,IACA,mBAAAw2B,QAAAA,OAAAC,IACAD,OAAA,GAAAx2B,GACA,iBAAAC,EACAA,EAAA,MAAAD,IAEAD,EAAA,MAAAC","sources":["node_modules/nexusui/dist/webpack:/webpack/universalModuleDefinition","node_modules/nexusui/dist/webpack:/webpack/bootstrap 48c56fc356cc98a1a7c1","node_modules/nexusui/dist/webpack:/index.js","node_modules/nexusui/dist/webpack:/lib/main.js","node_modules/nexusui/dist/webpack:/lib/interfaces/index.js","node_modules/nexusui/dist/webpack:/lib/interfaces/position.js","node_modules/nexusui/dist/webpack:/lib/util/svg.js","node_modules/nexusui/dist/webpack:/lib/util/math.js","node_modules/nexusui/dist/webpack:/lib/core/interface.js","node_modules/nexusui/dist/webpack:/lib/util/dom.js","node_modules/nexusui/dist/webpack:/lib/util/util.js","node_modules/nexusui/dist/webpack:/lib/util/touch.js","node_modules/nexusui/dist/webpack:/~/events/events.js","node_modules/nexusui/dist/webpack:/lib/models/step.js","node_modules/nexusui/dist/webpack:/lib/util/interaction.js","node_modules/nexusui/dist/webpack:/lib/models/toggle.js","node_modules/nexusui/dist/webpack:/lib/interfaces/slider.js","node_modules/nexusui/dist/webpack:/lib/interfaces/toggle.js","node_modules/nexusui/dist/webpack:/lib/interfaces/button.js","node_modules/nexusui/dist/webpack:/lib/components/buttontemplate.js","node_modules/nexusui/dist/webpack:/lib/interfaces/textbutton.js","node_modules/nexusui/dist/webpack:/lib/interfaces/radiobutton.js","node_modules/nexusui/dist/webpack:/lib/interfaces/number.js","node_modules/nexusui/dist/webpack:/lib/interfaces/select.js","node_modules/nexusui/dist/webpack:/lib/interfaces/dial.js","node_modules/nexusui/dist/webpack:/lib/interfaces/piano.js","node_modules/nexusui/dist/webpack:/lib/interfaces/sequencer.js","node_modules/nexusui/dist/webpack:/lib/models/matrix.js","node_modules/nexusui/dist/webpack:/lib/models/sequence.js","node_modules/nexusui/dist/webpack:/lib/models/drunk.js","node_modules/nexusui/dist/webpack:/lib/models/counter.js","node_modules/nexusui/dist/webpack:/lib/time/interval.js","node_modules/nexusui/dist/webpack:/lib/interfaces/pan2d.js","node_modules/nexusui/dist/webpack:/lib/interfaces/tilt.js","node_modules/nexusui/dist/webpack:/lib/interfaces/multislider.js","node_modules/nexusui/dist/webpack:/lib/interfaces/pan.js","node_modules/nexusui/dist/webpack:/lib/interfaces/envelope.js","node_modules/nexusui/dist/webpack:/lib/interfaces/spectrogram.js","node_modules/nexusui/dist/webpack:/lib/interfaces/meter.js","node_modules/nexusui/dist/webpack:/lib/interfaces/oscilloscope.js","node_modules/nexusui/dist/webpack:/lib/core/rack.js","node_modules/nexusui/dist/webpack:/lib/util/transform.js","node_modules/nexusui/dist/webpack:/lib/tuning/tuning.js","node_modules/nexusui/dist/webpack:/lib/models/radio.js","node_modules/nexusui/dist/webpack:/~/waaclock/index.js","node_modules/nexusui/dist/webpack:/~/waaclock/lib/WAAClock.js","node_modules/nexusui/dist/webpack:/~/process/browser.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Nexus\"] = factory();\n\telse\n\t\troot[\"Nexus\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 48c56fc356cc98a1a7c1","'use strict';\n\nimport NexusUI from './lib/main';\n\nexport default NexusUI;\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./index.js","'use strict';\n\nimport Interfaces from './interfaces/';\nimport math from './util/math';\nimport Rack from './core/rack';\nimport Tune from './tuning/tuning';\nimport * as Transform from './util/transform';\n\nlet Counter = require('./models/counter');\nlet Radio = require('./models/radio');\nlet Drunk = require('./models/drunk');\nlet Sequence = require('./models/sequence');\nlet Matrix = require('./models/matrix');\n\nimport WAAClock from 'waaclock';\nimport Interval from './time/interval';\n\n\n/**\nNexusUI => created as Nexus\n*/\n\nclass NexusUI {\n\n    constructor(context) {\n\n        for (let key in Interfaces) {\n            this[key] = Interfaces[key];\n        }\n\n        for (let key in math) {\n            this[key] = math[key];\n        }\n\n        let Core = {\n          'Rack': Rack\n        };\n\n        let Models = {\n          'Counter': Counter,\n          'Radio': Radio,\n          'Drunk': Drunk,\n          'Sequence': Sequence,\n          'Matrix': Matrix\n        };\n\n        for (let key in Models) {\n          this[key] = Models[key];\n        }\n\n        for (let key in Core) {\n          this[key] = Core[key];\n        }\n\n        let DefaultContext = window.AudioContext || window.webkitAudioContext;\n        this._context = context || new DefaultContext();\n\n        this.tune = new Tune();\n        this.note = this.tune.note.bind(this.tune);\n\n        this.clock = new WAAClock(this._context);\n        this.clock.start();\n        this.Interval = Interval;\n\n        this.colors = {\n          accent: '#2bb',\n          fill: '#eee',\n          light: '#fff',\n          dark: '#333',\n          mediumLight: '#ccc',\n          mediumDark: '#666'\n        };\n\n        this.transform = Transform;\n        this.add = Transform.add;\n\n\n        this.Add = {};\n        for (let key in Interfaces) {\n          this.Add[key] = Transform.add.bind(this,key);\n        }\n\n        /* create default component size as 1st style element in document */\n        var defaultStyleNode = document.createElement('style');\n        defaultStyleNode.type = 'text/css';\n        defaultStyleNode.innerHTML = '[nexus-ui]{height:5000px;width:5000px}';\n        var h = document.head;\n        h.insertBefore(defaultStyleNode, h.firstElementChild);\n    }\n\n    get context() {\n      return this._context;\n    }\n\n    set context(ctx) {\n      this.clock.stop();\n      this._context = ctx;\n      this.clock = new WAAClock(this.context);\n      this.clock.start();\n    }\n\n\n\n}\n\nlet Nexus = new NexusUI();\n\nexport function colors() {\n    return Nexus.colors;\n}\nexport function context() {\n    return Nexus.context;\n}\nexport function clock() {\n    return Nexus.clock;\n}\n\nexport default Nexus;\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/main.js","export default {\n  Position: require('./position'),\n  Slider: require('./slider'),\n  Toggle: require('./toggle'),\n/*  Range: require('./rangeslider'),\n  Waveform: require('./waveform'), */\n  Button: require('./button'),\n  TextButton: require('./textbutton'),\n  RadioButton: require('./radiobutton'),\n  Number: require('./number'),\n  Select: require('./select'),\n  Dial: require('./dial'),\n  Piano: require('./piano'),\n  Sequencer: require('./sequencer'),\n  Pan2D: require('./pan2d'),\n  Tilt: require('./tilt'),\n  Multislider: require('./multislider'),\n  Pan: require('./pan'),\n  Envelope: require('./envelope'),\n  Spectrogram: require('./spectrogram'),\n  Meter: require('./meter'),\n  Oscilloscope: require('./oscilloscope')\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/interfaces/index.js","\n'use strict';\n\nlet svg = require('../util/svg');\nlet Interface = require('../core/interface');\nlet Step = require('../models/step');\nimport * as Interaction from '../util/interaction';\n\n/**\n* Position\n*\n* @description Two-dimensional touch slider.\n*\n* @demo <span nexus-ui=\"position\"></span>\n*\n* @example\n* var position = new Nexus.Position('#target')\n*\n* @example\n* var position = new Nexus.Position('#target',{\n*   'size': [200,200],\n*   'mode': 'absolute',  // \"absolute\" or \"relative\"\n*   'x': 0.5,  // initial x value\n*   'minX': 0,\n*   'maxX': 1,\n*   'stepX': 0,\n*   'y': 0.5,  // initial y value\n*   'minY': 0,\n*   'maxY': 1,\n*   'stepY': 0\n* })\n*\n* @output\n* change\n* Fires any time the interface's value changes. <br>\n* The event data is an object with x and y properties containing the x and y values of the interface.\n*\n* @outputexample\n* position.on('change',function(v) {\n*   console.log(v);\n* })\n*\n*\n*/\n\nexport default class Position extends Interface {\n\n  constructor() {\n\n    let options = ['value'];\n\n    let defaults = {\n      'size': [200,200],\n      'mode': 'absolute',\n      'minX': 0,\n      'maxX': 1,\n      'stepX': 0,\n      'x': 0.5,\n      'minY': 0,\n      'maxY': 1,\n      'stepY': 0,\n      'y': 0.5\n    };\n\n    super(arguments,options,defaults);\n\n\n    this._x = new Step( this.settings.minX, this.settings.maxX, this.settings.stepX, this.settings.x );\n    this._y = new Step( this.settings.minY, this.settings.maxY, this.settings.stepY, this.settings.y );\n\n    this.position = {\n      x: new Interaction.Handle(this.settings.mode,'horizontal',[0,this.width],[this.height,0]),\n      y: new Interaction.Handle(this.settings.mode,'vertical',[0,this.width],[this.height,0])\n    };\n    this.position.x.value = this._x.normalized;\n    this.position.y.value = this._y.normalized;\n\n    this.init();\n    this.render();\n\n  }\n\n  buildInterface() {\n\n    this.knob = svg.create('circle');\n    this.element.appendChild(this.knob);\n    \n  }\n\n  sizeInterface() {\n\n      this.position.x.resize([0,this.width],[this.height,0]);\n      this.position.y.resize([0,this.width],[this.height,0]);\n\n      this._minDimension = Math.min(this.width,this.height);\n\n      this.knobRadius = {\n        off: ~~(this._minDimension/100) * 5 + 5,\n      };\n      this.knobRadius.on = this.knobRadius.off * 2;\n\n      this.knob.setAttribute('cx',this.width/2);\n      this.knob.setAttribute('cy',this.height/2);\n      this.knob.setAttribute('r',this.knobRadius.off);\n  }\n\n  colorInterface() {\n      this.element.style.backgroundColor = this.colors.fill;\n      this.knob.setAttribute('fill', this.colors.accent);\n  }\n\n  render() {\n    if (this.clicked) {\n    //  this.knobRadius = 30;\n      this.knob.setAttribute('r',this.knobRadius.on);\n    } else {\n    //  this.knobRadius = 15;\n      this.knob.setAttribute('r',this.knobRadius.off);\n    }\n\n    this.knobCoordinates = {\n      x: this._x.normalized * this.width,\n      y: this.height - this._y.normalized * this.height\n    };\n\n    this.knob.setAttribute('cx',this.knobCoordinates.x);\n    this.knob.setAttribute('cy',this.knobCoordinates.y);\n  }\n\n\n  click() {\n    this.position.x.anchor = this.mouse;\n    this.position.y.anchor = this.mouse;\n    this.move();\n  }\n\n  move() {\n    if (this.clicked) {\n      this.position.x.update(this.mouse);\n      this.position.y.update(this.mouse);\n      this._x.updateNormal( this.position.x.value );\n      this._y.updateNormal( this.position.y.value );\n      this.emit('change',{\n        x: this._x.value,\n        y: this._y.value\n      });\n      this.render();\n    }\n  }\n\n  release() {\n    this.render();\n  }\n\n  /**\n  * The interface's x value. When set, it will automatically adjust to fit min/max/step settings of the interface.\n  * @type {object}\n  * @example position.x = 0.5;\n  */\n\n  get x() {\n    return this._x.value;\n  }\n\n  set x(value) {\n    this._x.update(value);\n    this.emit('change',{\n      x: this._x.value,\n      y: this._y.value\n    });\n    this.render();\n  }\n\n  /**\n  * The interface's y values. When set, it will automatically adjust to fit min/max/step settings of the interface.\n  * @type {object}\n  * @example position.x = 0.5;\n  */\n\n  get y() {\n    return this._y.value;\n  }\n\n  set y(value) {\n    this._y.update(value);\n    this.emit('change',{\n      x: this._x.value,\n      y: this._y.value\n    });\n    this.render();\n  }\n\n\n\n  get normalized() {\n    return {\n      x: this._x.normalized,\n      y: this._y.normalized\n    };\n  }\n\n  /**\n  * The lower limit of value on the x axis\n  * @type {object}\n  */\n  get minX() {\n    return this._x.min;\n  }\n\n  set minX(v) {\n    this._x.min = v;\n    this.render();\n  }\n\n  /**\n  * The lower limit of value on the y axis\n  * @type {object}\n  */\n  get minY() {\n    return this._y.min;\n  }\n\n  set minY(v) {\n    this._y.min = v;\n    this.render();\n  }\n\n\n  /**\n  * The upper limit of value on the x axis\n  * @type {object}\n  */\n  get maxX() {\n    return this._x.max;\n  }\n\n  set maxX(v) {\n    this._x.max = v;\n    this.render();\n  }\n\n\n  /**\n  * The upper limit of value on the y axis\n  * @type {object}\n  */\n  get maxY() {\n    return this._y.max;\n  }\n\n  set maxY(v) {\n    this._y.max = v;\n    this.render();\n  }\n\n\n  /**\n  * The incremental step of values on the x axis\n  * @type {object}\n  */\n  get stepX() {\n    return this._x.step;\n  }\n\n  set stepX(v) {\n    this._x.step = v;\n    this.render();\n  }\n\n\n  /**\n  * The incremental step of values on the y axis\n  * @type {object}\n  */\n  get stepY() {\n    return this._y.step;\n  }\n\n  set stepY(v) {\n    this._y.step = v;\n    this.render();\n  }\n\n\n  /**\n  Absolute mode (position's value jumps to mouse click position) or relative mode (mouse drag changes value relative to its current position). Default: \"absolute\".\n  @type {string}\n  @example position.mode = \"relative\";\n  */\n  get mode() {\n    return this.position.x.mode;\n  }\n  set mode(v) {\n    this.position.x.mode = v;\n    this.position.y.mode = v;\n  }\n\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/interfaces/position.js","'use strict';\n\nlet math = require('../util/math');\n\nexport default {\n\n  create: (type) => {\n    return document.createElementNS('http://www.w3.org/2000/svg', type);\n  },\n\n  arc: (x, y, radius, startAngle, endAngle) => {\n\n    var start = math.toCartesian(radius, endAngle);\n    var end = math.toCartesian(radius, startAngle);\n\n    var largeArcFlag = endAngle - startAngle <= 180 ? '0' : '1';\n\n    var d = [\n        'M', start.x+x, start.y+y,\n        'A', radius, radius, 0, largeArcFlag, 0, end.x+x, end.y+y\n    ].join(' ');\n\n    return d;\n  },\n\n  radialGradient: (defs,numberOfStops) => {\n\n    let id = 'gradient' + math.ri(100000000000);\n    let stops = [];\n\n    let gradient = document.createElementNS('http://www.w3.org/2000/svg', 'radialGradient');\n    gradient.setAttribute('id', id);\n    gradient.setAttribute('cx', '50%');\n    gradient.setAttribute('cy', '50%');\n    gradient.setAttribute('r', '50%');\n\n    defs.appendChild(gradient);\n\n    for (let i=0;i<numberOfStops;i++) {\n      let stop = document.createElementNS('http://www.w3.org/2000/svg', 'stop');\n      stop.setAttribute('id', 'stop'+i);\n      //stop.setAttribute('offset', '70%');\n      //stop.setAttribute('stop-color', 'White');\n      gradient.appendChild(stop);\n      stops.push(stop);\n    }\n\n    return {\n      id: id,\n      stops: stops,\n      element: gradient\n    };\n\n  }\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/util/svg.js","'use strict';\n\n/**\n * Limit a number to within a minimum and maximum\n * @param  {number} value Input value\n * @param  {number} min   Lower limit\n * @param  {number} max   Upper limit\n * @return {number}       The input value constrained within the lower and upper limits\n * @example\n * Nexus.clip(11,0,10)   // returns 10\n * Nexus.clip(-1,0,10)   // returns 0\n * Nexus.clip(5,0,10)    // returns 5\n */\n\nexports.clip = (value,min,max) => {\n  return Math.min(Math.max(value,min),max);\n};\n\nexports.normalize = (value,min,max) => {\n  return ( (value-min) / (max-min) );\n};\n\n/**\n * Scale a value from one range to another range.\n * @param  {number} inNum  Input value\n * @param  {number} inMin  Input range minimum\n * @param  {number} inMax  Input range maximum\n * @param  {number} outMin Output range minimum\n * @param  {number} outMax Output range maximum\n * @return {number}        The input value scaled to its new range\n * @example\n * Nexus.scale(0.5,0,1,0,10)   // returns 5\n * Nexus.scale(0.9,0,1,1,0)    // returns 0.1\n */\nexports.scale = (inNum, inMin, inMax, outMin, outMax) => {\n  if (inMin === inMax) {\n    return outMin;\n  }\n  return (((inNum - inMin) * (outMax - outMin)) / (inMax - inMin)) + outMin;\n};\n\nexports.toPolar = (x,y) => {\n  var r = Math.sqrt(x*x + y*y);\n\n  var theta = Math.atan2(y,x);\n  if (theta < 0) {\n    theta = theta + (2 * Math.PI);\n  }\n  return {radius: r, angle: theta};\n};\n\nexports.toCartesian = function(radius, angle){\n  var cos = Math.cos(angle);\n  var sin = Math.sin(angle);\n  return {x: radius*cos, y: radius*sin*-1};\n};\n/*\nexports.polarToCartesian(centerX, centerY, radius, angleInDegrees) {\n  var angleInRadians = (angleInDegrees-90) * Math.PI / 180.0;\n\n  return {\n    x: centerX + (radius * Math.cos(angleInRadians)),\n    y: centerY + (radius * Math.sin(angleInRadians))\n  };\n}  */\n\n\n\nexports.prune = function(data, scale) {\n  return parseFloat(data.toFixed(scale));\n};\n\nexports.invert = function (inNum) {\n  return exports.scale(inNum, 1, 0, 0, 1);\n};\n\n/**\n * Convert a MIDi note number to a frequency value in equal temperament.\n * @param  {number} midi MIDI note value\n * @return {number}      Frequence value\n * @example\n * Nexus.mtof(60)  // returns the frequency number of Middle C\n */\nexports.mtof = function(midi) {\n  return Math.pow(2, ((midi-69)/12)) * 440;\n};\n\n/**\n * Interpolate between two numbers\n * @param  {number} loc Interpolation index (0-1)\n * @param  {number} min Lower value\n * @param  {number} max Upper value\n * @return {number}     Interpolated value\n * @example\n * Nexus.interp(0.5,2,4)   // returns 3\n * Nexus.interp(0.1,0,10)     // returns 1\n */\nexports.interp = function(loc,min,max) {\n  return loc * (max - min) + min;\n};\n\n/**\n * Return a random choice from a list of arguments\n * @return {various} One random argument\n * @example\n * Nexus.pick(1,2,3,4)   // returns 1, 2, 3, or 4\n * Nexus.pick(function1,function2)   // returns either function1 or function2\n */\nexports.pick = function() {\n  return arguments[~~(Math.random()*arguments.length)];\n};\n\n/**\n * Returns an octave multiplier for frequency values\n * @param  {number} num Relative octave number (e.g. -1 for one octave down, 1 for one octave up)\n * @return {number}     Octave multiplier\n * @example\n * Nexus.octave(-1)  // returns 0.5\n * Nexus.octave(0)   // returns 1\n * Nexus.octave(1)   // returns 2\n * Nexus.octave(2)   // returns 4\n */\nexports.octave = function(num) {\n  return Math.pow(2,num);\n};\n\n/**\n * Random integer generator. If no second argument is given, will return random integer from 0 to bound1.\n * @param  {number} bound1 Minimum random value\n * @param  {number} bound2 Maximum random value\n * @return {number}        Random integer between lower and upper boundary\n * @example\n * Nexus.ri(10)    // returns random int from 0 to 10\n * Nexus.ri(20,2000) // returns random int from 20 to 2000\n */\nexports.ri = function(bound1,bound2) {\n  if (!bound2) {\n    bound2 = bound1;\n    bound1 = 0;\n  }\n  var low = Math.min(bound1,bound2);\n  var high = Math.max(bound1,bound2);\n  return Math.floor(Math.random()*(high-low)+low);\n};\n\n/**\n * Random float number generator. If no second argument is given, will return random float from 0 to bound1.\n * @param  {number} bound1 Minimum random value\n * @param  {number} bound2 Maximum random value\n * @return {number}        Random float between lower and upper boundary\n * @example\n * Nexus.rf(1)    // returns random float from 0 to 1\n * Nexus.rf(1,2) // returns random float from 1 to 2\n */\nexports.rf = function(bound1,bound2) {\n  if (!bound2) {\n    bound2 = bound1;\n    bound1 = 0;\n  }\n  var low = Math.min(bound1,bound2);\n  var high = Math.max(bound1,bound2);\n  return Math.random()*(high-low)+low;\n};\n\n\nexports.cycle = function(input,min,max) {\n  input++;\n  if (input >= max) {\n    input = min;\n  }\n  return input;\n};\n\n/**\n * Average an array of numbers\n * @param  {Array} data Array of numbers to average\n * @return {number}      Average of the input data\n * @example\n * Nexus.average([0,2,4,6,8,10])   // returns 5\n */\nexports.average = function(data) {\n  let total = 0;\n  for (var i=0;i<data.length;i++) {\n    total += data[i];\n  }\n  return total / data.length;\n};\n\n/**\n * Get the distance from one (x,y) point to another (x,y) point\n * @param  {number} x1 x of first point\n * @param  {number} y1 y of first point\n * @param  {number} x2 x of second point\n * @param  {number} y2 y of second poiny\n * @return {number}    Distance\n * @example\n * Nexus.distance(0,0,3,4)   // returns 5\n */\nexports.distance = function(x1,y1,x2,y2) {\n  let a = x1 - x2;\n  let b = y1 - y2;\n  return Math.sqrt( a*a + b*b );\n};\n\nexports.gainToDB = function(gain) {\n  return 20 * Math.log10(gain);\n};\n\n/**\n * Flip a coin, returning either 0 or 1 according to a probability\n * @param  {number} [odds=0.5] Likelihood of returning 1\n * @return {number}            1 or 0\n * @example\n * Nexus.coin(0.1)   // returns 1 (10% of the time) or 0 (90% of the time)\n */\nexports.coin = function(odds=0.5) {\n  if (exports.rf(0,1) < odds) {\n    return 1;\n  } else {\n    return 0;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/util/math.js","'use strict';\n\nlet svg = require('../util/svg');\nlet dom = require('../util/dom');\nlet util = require('../util/util');\nlet touch = require('../util/touch');\nconst EventEmitter = require('events');\n\nimport { colors } from '../main';\n\n/**\nInterface\n*/\nexport default class Interface extends EventEmitter {\n\n  constructor(args,options,defaults) {\n    super();\n    this.type = this.constructor.name;\n    this.settings = this.parseSettings(args,options,defaults);\n    this.mouse = {};\n    this.wait = false;\n    this.colors = {};\n    let defaultColors = colors(); // jshint ignore:line\n    this.colors.accent = defaultColors.accent;\n    this.colors.fill = defaultColors.fill;\n    this.colors.light = defaultColors.light;\n    this.colors.dark = defaultColors.dark;\n    this.colors.mediumLight = defaultColors.mediumLight;\n    this.colors.mediumDark = defaultColors.mediumDark;\n  }\n\n  parseSettings(args,options,defaults) {\n\n    options.unshift('target');\n    defaults.defaultSize = defaults.size.splice(0,2);\n    defaults.size = false;\n\n    let settings = {\n      'target': document.body,\n      'colors': {}, // should inherit from a colors module,\n      'snapWithParent': true,\n      'event': function() {},\n      'component': false\n    };\n\n    for (let key in defaults) {\n      settings[key] = defaults[key];\n    }\n\n    for (let i=0; i<args.length; i++) {\n      // grabs the next argument\n      let setting = args[i];\n      // if it's an object, it must be the settings object\n      if ( util.isObject(setting) ) {\n        for ( let key in setting ) {\n          settings[key] = setting[key];\n        }\n      // if it's a function, it must be the event setting\n      } else if (typeof setting === 'function') {\n        settings.event = setting;\n      // otherwise, consider it one of the widget's custom options\n      } else if (options.length>=1) {\n        // grab the first option -- i.e. 'target'\n        let key = options.splice(0,1)[0];\n        settings[key] = setting;\n      }\n    }\n\n    /*  handle common settings  */\n\n    // target\n    this.parent = dom.parseElement(settings.target);\n\n    // nexus-ui attribute\n    if (this.parent && this.parent instanceof HTMLElement && !settings.component) {\n      if (!this.parent.hasAttribute('nexus-ui')) {\n        this.parent.setAttribute('nexus-ui','');\n      }\n    }\n\n    // size\n\n    if (settings.size && Array.isArray(settings.size) && settings.snapWithParent) {\n      this.width = settings.size[0];\n      this.height = settings.size[1];\n      this.parent.style.width = this.width + 'px';\n      this.parent.style.height = this.height + 'px';\n    } else if (settings.snapWithParent && !settings.component) {\n\n      this.width = parseFloat(window.getComputedStyle(this.parent, null).getPropertyValue('width').replace('px',''));\n      this.height = parseFloat(window.getComputedStyle(this.parent, null).getPropertyValue('height').replace('px',''));\n\n      if (this.width==5000) {\n        this.width = settings.defaultSize[0];\n        this.parent.style.width = this.parent.width = this.width + 'px';\n      }\n      if (this.height==5000) {\n        this.height = settings.defaultSize[1];\n        this.parent.style.height = this.parent.height = this.height + 'px';\n      }\n\n    } else {\n      settings.size = settings.defaultSize;\n      this.width = settings.size[0];\n      this.height = settings.size[1];\n    }\n\n    // event\n    if (settings.event) {\n      this.event = this.on('change', settings.event);\n    } else {\n      this.event = false;\n    }\n\n    return settings;\n\n  }\n\n  init() {\n    this.buildFrame();\n    this.buildInterface();\n    this.sizeInterface();\n    this.attachListeners();\n    this.colorInterface();\n    this.finalTouches();\n  }\n\n  buildFrame() {\n    this.element = svg.create('svg');\n    this.element.setAttribute('width',this.width);\n    this.element.setAttribute('height',this.height);\n    this.parent.appendChild(this.element);\n  }\n\n  buildInterface() {}\n  sizeInterface() {}\n  colorInterface() {}\n\n  attachListeners() {\n\n    this.interactionTarget = this.interactionTarget || this.element;\n\n    // Setup interaction\n    if (touch.exists) {\n      this.interactionTarget.addEventListener('touchstart', evt => this.preTouch(evt));\n      this.interactionTarget.addEventListener('touchmove', evt => this.preTouchMove(evt));\n      this.interactionTarget.addEventListener('touchend', evt => this.preTouchRelease(evt));\n    }\n    this.boundPreMove = evt => this.preMove(evt);\n    this.boundPreRelease = evt => this.preRelease(evt);\n    this.interactionTarget.addEventListener('mousedown', evt => this.preClick(evt));\n  }\n\n  finalTouches() {\n    this.element.style.cursor = 'pointer';\n  }\n\n  preClick(e) {\n    // 10000 getComputedStyle calls takes 100 ms.\n    // .:. one takes about .01ms\n    if (this.element instanceof HTMLElement) {\n      this.width = window.getComputedStyle(this.element, null).getPropertyValue('width').replace('px','');\n    }\n    // 10000 getComputedStyle calls takes 40 ms.\n    // .:. one takes about .004ms\n    this.offset = dom.findPosition(this.element);\n    this.mouse = dom.locateMouse(e,this.offset);\n    this.clicked = true;\n    this.click();\n    this.moveEvent = document.addEventListener('mousemove', this.boundPreMove);\n    this.releaseEvent = document.addEventListener('mouseup', this.boundPreRelease);\n    this.emit('click');\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  preMove(e) {\n    if (!this.wait) {\n      this.mouse = dom.locateMouse(e,this.offset);\n      this.move();\n      this.wait = true;\n      setTimeout(() => { this.wait = false; },25);\n    }\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  preRelease(e) {\n    this.mouse = dom.locateMouse(e,this.offset);\n    this.clicked = false;\n    this.release();\n    this.emit('release');\n    document.removeEventListener('mousemove',this.boundPreMove);\n    document.removeEventListener('mouseup',this.boundPreRelease);\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  click() {\n\n  }\n\n  move() {\n\n  }\n\n  release() {\n\n  }\n\n\n  /* touch */\n\n  preTouch(e) {\n    if (this.element instanceof HTMLElement) {\n      this.width = window.getComputedStyle(this.element, null).getPropertyValue('width').replace('px','');\n    }\n    this.offset = dom.findPosition(this.element);\n    this.mouse = dom.locateTouch(e,this.offset);\n    this.clicked = true;\n    this.touch(e);\n    this.emit('click');\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  preTouchMove(e) {\n    if (this.clicked) {\n      this.mouse = dom.locateTouch(e,this.offset);\n      this.touchMove();\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  }\n\n  preTouchRelease(e) {\n    this.mouse = dom.locateTouch(e, this.offset);\n    this.clicked = false;\n    this.touchRelease();\n    this.emit('release');\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  touch() {\n    this.click();\n  }\n\n  touchMove() {\n    this.move();\n  }\n\n  touchRelease() {\n    this.release();\n  }\n\n  /**\n  * Resize the interface\n  * @param width {number} New width in pixels\n  * @param height {number} New height in pixels\n  *\n  * @example\n  * button.resize(100,100);\n  */\n  resize(width,height) {\n    this.width = width;\n    this.height = height;\n    this.parent.style.width = this.width+'px';\n    this.parent.style.height = this.height+'px';\n    this.element.setAttribute('width',this.width);\n    this.element.setAttribute('height',this.height);\n    this.sizeInterface();\n  }\n\n  empty() {\n    while (this.element.lastChild) {\n      this.element.removeChild(this.element.lastChild);\n    }\n  }\n\n  /**\n  * Remove the interface from the page and cancel its event listener(s).\n  *\n  * @example\n  * button.destroy();\n  */\n  destroy() {\n    this.empty();\n    this.parent.removeChild(this.element);\n    this.removeAllListeners();\n    if (this.instrument) {\n      delete this.instrument[this.id];\n    }\n    this.customDestroy();\n  }\n\n  customDestroy() {\n\n  }\n\n  colorize(type,color) {\n    this.colors[type] = color;\n    this.colorInterface();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/core/interface.js","'use strict';\n\nexports.findPosition = (el) => {\n  let viewportOffset = el.getBoundingClientRect();\n  let top = viewportOffset.top + window.scrollY;\n  let left = viewportOffset.left + window.scrollX;\n  return {top,left};\n};\n\nexports.parseElement = (parent) => {\n  if (typeof parent === 'string') {\n    parent = document.getElementById(parent.replace('#',''));\n  }\n\n  if (parent instanceof HTMLElement || parent instanceof SVGElement){\n    return parent;\n  } else {\n    return 'No valid parent argument';\n  }\n};\n\nexports.locateMouse = (e,offset) => {\n  return {\n    x: e.pageX - offset.left,\n    y: e.pageY - offset.top\n  };\n};\n\nexports.locateTouch = (e,offset) => {\n  return {\n    x: e.targetTouches.length ? e.targetTouches[0].pageX - offset.left : false,\n    y: e.targetTouches.length ? e.targetTouches[0].pageY - offset.top : false\n  };\n};\n\nexports.SmartCanvas = function(parent) {\n\n  this.element = document.createElement('canvas');\n  this.context = this.element.getContext('2d');\n  parent.appendChild(this.element);\n\n  this.resize = (w,h) => {\n    this.element.width = w*2;\n    this.element.height = h*2;\n    this.element.style.width = w+'px';\n    this.element.style.height = h+'px';\n  };\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/util/dom.js","'use strict';\n\nexports.isObject = (obj) => {\n  if (typeof obj === 'object' && !Array.isArray(obj) && obj !== null && obj instanceof SVGElement === false && obj instanceof HTMLElement === false ) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\n// Restricts input for the given textbox to the given inputFilter function\n// cf https://stackoverflow.com/a/469362\nexports.setInputFilter = (textbox, inputFilter) => {\n  [\"input\", \"keydown\", \"keyup\", \"mousedown\", \"mouseup\", \"select\", \"contextmenu\", \"drop\"].forEach(function(event) {\n    textbox.addEventListener(event, function() {\n      if (inputFilter(this.value)) {\n        this.oldValue = this.value;\n        this.oldSelectionStart = this.selectionStart;\n        this.oldSelectionEnd = this.selectionEnd;\n      } else if (this.hasOwnProperty(\"oldValue\")) {\n        this.value = this.oldValue;\n        this.setSelectionRange(this.oldSelectionStart, this.oldSelectionEnd);\n      } else {\n        this.value = \"\";\n      }\n    });\n  });\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/util/util.js","'use strict';\n\nexports.exists = ('ontouchstart' in document.documentElement);\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/util/touch.js","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/events/events.js\n// module id = 10\n// module chunks = 0","'use strict';\n\nlet math = require('../util/math');\n\n/**\n  Creates a steppable value with minimum, maximum, and step size. This is used in many interfaces to constrict their values to certain ranges.\n  @param {number} [min=0] minimum\n  @param {number} [max=1] maximum\n  @param {number} [step=0]\n  @param {number} [value=0] initial value\n  @returns {Object} Step\n*/\n\nexport default class Step {\n\n  constructor(min = 0,max = 1,step = 0,value = 0) {\n    //Object.assign(this,{min,max,step});\n    //Cannot use Object.assign because not supported in Safari.\n    //I would expect for Babel to take care of this but it is not.\n    this.min = min;\n    this.max = max;\n    this.step = step;\n    this.value = value;\n    this.changed = false;\n    this.oldValue = false;\n    this.update(this.value);\n  }\n\n  /**\n    Update with a new value. The value will be auto-adjusted to fit the min/max/step.\n    @param {number} value\n  */\n\n  update(value) {\n    if (this.step) {\n      // this.value = math.clip(Math.round(value / (this.step)) * this.step, this.min,this.max);\n      this.value = math.clip(Math.round((value-this.min) / (this.step)) * this.step + this.min, this.min,this.max);\n    } else {\n      this.value = math.clip(value,this.min,this.max);\n    }\n    if (this.oldValue !== this.value) {\n      this.oldValue = this.value;\n      this.changed = true;\n    } else {\n      this.changed = false;\n    }\n    return this.value;\n  }\n\n  /**\n    Update with a normalized value 0-1.\n    @param {number} value\n  */\n  updateNormal(value) {\n    this.value = math.scale(value,0,1,this.min,this.max);\n    return this.update(this.value);\n  }\n\n  /**\n    Get a normalized version of this.value . Not settable.\n  */\n  get normalized() {\n    return math.normalize(this.value,this.min,this.max);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/models/step.js","'use strict';\n\nimport math from '../util/math';\nimport ToggleModel from '../models/toggle';\n\n\n/*\nhow to use :\n\ndial.interaction = new Handle('radial','relative',this.width,this.height);\n// dial.interaction.mode = 'relative'\n// dial.interaction.direction = 'radial'\n\non click:\ndial.interaction.anchor = this.mouse;\n\non move:\ndial.interaction.update(this.mouse);\n\nconsole.log( dial.interaction.value ); should be a normalized value.\n\n*/\n\n/*\n  absolute/relative are property: mode\n  radial/vertical/horizontal/2d are property: direction\n\n  plan :\n\n  if relative --\n  NO on click, get value offset between current value and click value.\n  NO on move, use click value - offset\n  INSTEAD\n  use delta -- bc vertical motion on dial is impossible otherwise\n  also allow to set sensitivity\n\n*/\n\nexport class Handle {\n\n  constructor(mode='absolute',direction='vertical',xbound=[0,100],ybound=[0,100]) {\n    this.mode = mode;\n    this.direction = direction;\n    this.previous = 0;\n    this.value = 0;\n    this.sensitivity = 1;\n    this.resize(xbound,ybound);\n  }\n\n  resize(xbound,ybound) {\n    this.boundary = {\n      min: {\n        x: xbound[0],\n        y: ybound[0]\n      },\n      max: {\n        x: xbound[1],\n        y: ybound[1]\n      },\n      center: {\n        x: (xbound[1] - xbound[0])/2 + xbound[0],\n        y: (ybound[1] - ybound[0])/2 + ybound[0]\n      }\n    };\n  }\n\n  set anchor(mouse) {\n    this._anchor = this.convertPositionToValue(mouse);\n  }\n\n  get anchor() {\n    return this._anchor;\n  }\n\n\n  update(mouse) {\n    if (this.mode==='relative') {\n      let increment = this.convertPositionToValue(mouse) - this.anchor;\n      if (Math.abs(increment) > 0.5) { increment = 0; }\n      this.anchor = mouse;\n      this.value = this.value + increment * this.sensitivity;\n    } else {\n      this.value = this.convertPositionToValue(mouse);\n    }\n    this.value = math.clip(this.value,0,1);\n  }\n\n  convertPositionToValue(current) {\n    switch(this.direction) {\n      case 'radial':\n        let position = math.toPolar(current.x - this.boundary.center.x, current.y - this.boundary.center.y);\n        position = position.angle / (Math.PI*2);\n        position = ((position - 0.25) + 1) % 1;\n        return position;\n      case 'vertical':\n        return math.scale(current.y,this.boundary.min.y,this.boundary.max.y,0,1);\n      case 'horizontal':\n        return math.scale(current.x,this.boundary.min.x,this.boundary.max.x,0,1);\n    }\n  }\n\n}\n\n\nexport class Button {\n\n  constructor(mode='button') {\n    this.mode = mode;\n    this.state = new ToggleModel();\n    this.paintbrush = false;\n  }\n\n  click() {\n    switch (this.mode) {\n      case 'impulse':\n        this.state.on();\n        if (this.timeout) {\n          clearTimeout(this.timeout);\n        }\n        this.timeout = setTimeout(this.state.off.bind(this),30);\n        this.emit('change',this.state);\n        break;\n      case 'button':\n        this.turnOn();\n        this.emit('change',this.state);\n        break;\n      case 'aftertouch':\n        this.position = {\n          x: math.clip(this.mouse.x / this.width,0,1),\n          y: math.clip(1 - this.mouse.y / this.height,0,1)\n        };\n        this.turnOn();\n        this.emit('change',{\n          state: this.state,\n          x: this.position.x,\n          y: this.position.y,\n        });\n        break;\n      case 'toggle':\n        this.flip();\n        this.emit('change',this.state);\n        break;\n    }\n\n  }\n\n  move() {\n    if (this.mode==='aftertouch') {\n      this.position = {\n        x: math.clip(this.mouse.x / this.width,0,1),\n        y: math.clip(1 - this.mouse.y / this.height,0,1)\n      };\n      this.emit('change',{\n        state: this.state,\n        x: this.position.x,\n        y: this.position.y,\n      });\n      this.render();\n    }\n  }\n\n  release() {\n    switch (this.mode) {\n      case 'button':\n        this.turnOff();\n        this.emit('change',this.state);\n        break;\n      case 'aftertouch':\n        this.turnOff();\n        this.position = {\n          x: this.mouse.x / this.width,\n          y: 1 - this.mouse.y / this.height\n        };\n        this.emit('change',{\n          state: this.state,\n          x: this.position.x,\n          y: this.position.y,\n        });\n        break;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/util/interaction.js","'use strict';\n\nexport default class Toggle {\n\n  constructor(state) {\n    this.state = state || false;\n  }\n\n  flip(state) {\n    if (state || state === false) {\n      this.state = state;\n    } else {\n      this.state = !this.state;\n    }\n  }\n\n  on() {\n    this.state = true;\n  }\n\n  off() {\n    this.state = false;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/models/toggle.js","'use strict';\n\nlet svg = require('../util/svg');\nlet Interface = require('../core/interface');\nlet Step = require('../models/step');\nimport * as Interaction from '../util/interaction';\n\n/**\n* Slider\n*\n* @description Horizontal or vertical slider with settable interaction modes.\n*\n* @demo <span nexus-ui=\"slider\" step=0.2></span>\n*\n* @example\n* var slider = new Nexus.Slider('#target')\n*\n* @example\n* var slider = new Nexus.Slider('#target',{\n*     'size': [120,20],\n*     'mode': 'relative',  // 'relative' or 'absolute'\n*     'min': 0,\n*     'max': 1,\n*     'step': 0,\n*     'value': 0\n* })\n*\n* @output\n* change\n* Fires when the interface's value changes. <br>\n* Event data: <i>number</i> The number value of the interface.\n*\n* @outputexample\n* slider.on('change',function(v) {\n*   console.log(v);\n* })\n*\n*\n*/\n\nexport default class Slider extends Interface {\n\n  constructor() {\n\n    let options = ['min','max','value'];\n\n    let defaults = {\n      'size': [120,20],\n      'mode': 'relative',  // 'relative' or 'absolute'\n      'min': 0,\n      'max': 1,\n      'step': 0,\n      'value': 0\n    };\n\n    super(arguments,options,defaults);\n\n    this.orientation = 'vertical'; // This will change automatically to 'horizontal'if the interface is wider than it is tall.\n\n    this._value = new Step(this.settings.min, this.settings.max, this.settings.step, this.settings.value);\n\n    this.position = new Interaction.Handle(this.settings.mode,this.orientation,[0,this.width],[this.height,0]);\n    this.position.value = this._value.normalized;\n\n    this.init();\n\n    this.position.direction = this.orientation;\n\n    this.emit('change',this.value);\n\n  }\n\n  buildInterface() {\n\n    this.bar = svg.create('rect');\n    this.fillbar = svg.create('rect');\n    this.knob = svg.create('circle');\n\n    this.element.appendChild(this.bar);\n    this.element.appendChild(this.fillbar);\n    this.element.appendChild(this.knob);\n\n  }\n\n  sizeInterface() {\n\n    if (this.width < this.height) {\n      this.orientation = 'vertical';\n      this.position.direction = 'vertical';\n    } else {\n      this.orientation = 'horizontal';\n      this.position.direction = 'horizontal';\n    }\n\n    if (this.position) {\n      this.position.resize([0,this.width],[this.height,0]);\n    }\n\n    let x, y, w, h, barOffset, cornerRadius;\n    this.knobData = {\n      level: 0,\n      r: 0\n    };\n\n    if (this.orientation === 'vertical') {\n      this.thickness = this.width / 2;\n    \tx = this.width/2;\n    \ty = 0;\n    \tw = this.thickness;\n    \th = this.height;\n      this.knobData.r = this.thickness * 0.8;\n    \tthis.knobData.level = h-this.knobData.r-this.normalized*(h-this.knobData.r*2);\n      barOffset = 'translate('+this.thickness*(-1)/2+',0)';\n      cornerRadius = w/2;\n    } else {\n      this.thickness = this.height / 2;\n    \tx = 0;\n    \ty = this.height/2;\n    \tw = this.width;\n    \th = this.thickness;\n      this.knobData.r = this.thickness * 0.8;\n    \tthis.knobData.level = this.normalized*(w-this.knobData.r*2)+this.knobData.r;\n      barOffset = 'translate(0,'+this.thickness*(-1)/2+')';\n      cornerRadius = h/2;\n    }\n\n    this.bar.setAttribute('x',x);\n    this.bar.setAttribute('y',y);\n    this.bar.setAttribute('transform',barOffset);\n    this.bar.setAttribute('rx',cornerRadius); // corner radius\n    this.bar.setAttribute('ry',cornerRadius);\n    this.bar.setAttribute('width',w);\n    this.bar.setAttribute('height',h);\n\n    if (this.orientation === 'vertical') {\n      this.fillbar.setAttribute('x',x);\n      this.fillbar.setAttribute('y',this.knobData.level);\n      this.fillbar.setAttribute('width',w);\n      this.fillbar.setAttribute('height',h-this.knobData.level);\n    } else {\n      this.fillbar.setAttribute('x',0);\n      this.fillbar.setAttribute('y',y);\n      this.fillbar.setAttribute('width',this.knobData.level);\n      this.fillbar.setAttribute('height',h);\n    }\n    this.fillbar.setAttribute('transform',barOffset);\n    this.fillbar.setAttribute('rx',cornerRadius);\n    this.fillbar.setAttribute('ry',cornerRadius);\n\n    if (this.orientation === 'vertical') {\n      this.knob.setAttribute('cx',x);\n      this.knob.setAttribute('cy',this.knobData.level);\n    } else {\n      this.knob.setAttribute('cx',this.knobData.level);\n      this.knob.setAttribute('cy',y);\n    }\n    this.knob.setAttribute('r',this.knobData.r);\n\n  }\n\n  colorInterface() {\n    this.bar.setAttribute('fill', this.colors.fill);\n    this.fillbar.setAttribute('fill', this.colors.accent);\n    this.knob.setAttribute('fill', this.colors.accent);\n  }\n\n\n  render() {\n    if (!this.clicked) {\n      this.knobData.r = this.thickness*0.75;\n    }\n    this.knob.setAttribute('r',this.knobData.r);\n\n    if (this.orientation === 'vertical') {\n  \t   this.knobData.level = this.knobData.r+this._value.normalized*(this.height-this.knobData.r*2);\n       this.knob.setAttribute('cy',this.height - this.knobData.level);\n       this.fillbar.setAttribute('y',this.height - this.knobData.level);\n       this.fillbar.setAttribute('height',this.knobData.level);\n    } else {\n  \t   this.knobData.level = this._value.normalized*(this.width-this.knobData.r*2)+this.knobData.r;\n       this.knob.setAttribute('cx',this.knobData.level);\n       this.fillbar.setAttribute('x',0);\n       this.fillbar.setAttribute('width',this.knobData.level);\n    }\n  }\n\n\n  click() {\n    this.knobData.r = this.thickness*0.9;\n    this.position.anchor = this.mouse;\n    this.move();\n  }\n\n  move() {\n    if (this.clicked) {\n      this.position.update(this.mouse);\n      this._value.updateNormal( this.position.value );\n      this.emit('change',this._value.value);\n      this.render();\n\n    }\n  }\n\n  release() {\n    this.render();\n  }\n\n  get normalized() {\n    return this._value.normalized;\n  }\n\n  /**\n  The slider's current value. If set manually, will update the interface and trigger the output event.\n  @type {number}\n  @example slider.value = 10;\n  */\n  get value() {\n    return this._value.value;\n  }\n  set value(v) {\n    this._value.update(v);\n    this.position.value = this._value.normalized;\n    this.emit('change',this._value.value);\n    this.render();\n  }\n\n  /**\n  Lower limit of the sliders's output range\n  @type {number}\n  @example slider.min = 1000;\n  */\n  get min() {\n    return this._value.min;\n  }\n  set min(v) {\n    this._value.min = v;\n  }\n\n  /**\n  Upper limit of the slider's output range\n  @type {number}\n  @example slider.max = 1000;\n  */\n  get max() {\n    return this._value.max;\n  }\n  set max(v) {\n    this._value.max = v;\n  }\n\n  /**\n  The increment that the slider's value changes by.\n  @type {number}\n  @example slider.step = 5;\n  */\n  get step() {\n    return this._value.step;\n  }\n  set step(v) {\n    this._value.step = v;\n  }\n\n  /**\n  Absolute mode (slider's value jumps to mouse click position) or relative mode (mouse drag changes value relative to its current position). Default: \"relative\".\n  @type {string}\n  @example slider.mode = \"relative\";\n  */\n  get mode() {\n    return this.position.mode;\n  }\n  set mode(v) {\n    this.position.mode = v;\n  }\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/interfaces/slider.js","'use strict';\n\nlet svg = require('../util/svg');\nlet ToggleModel = require('../models/toggle');\nlet Interface = require('../core/interface');\n\n/**\n* Toggle\n*\n* @description Binary switch\n*\n* @demo <span nexus-ui=\"toggle\"></span>\n*\n* @example\n* var toggle = new Nexus.Toggle('#target')\n*\n* @example\n* var toggle = new Nexus.Toggle('#target',{\n*     'size': [40,20],\n*     'state': false\n* })\n*\n* @output\n* change\n* Fires any time the interface's value changes. <br>\n* Parameter: The boolean state of the interface.\n*\n* @outputexample\n* toggle.on('change',function(v) {\n*   console.log(v);\n* })\n*\n*\n*/\nexport default class Toggle extends Interface {\n\n  constructor() {\n\n    let options = ['value'];\n\n    let defaults = {\n      'size': [40,20],\n      'target': false,\n      'state': false\n    };\n\n    super(arguments,options,defaults);\n\n    this._state = new ToggleModel(this.settings.state);\n\n    this.init();\n\n  }\n\n  buildInterface() {\n\n    this.bar = svg.create('rect');\n    this.knob = svg.create('circle');\n    this.element.appendChild(this.bar);\n    this.element.appendChild(this.knob);\n\n  }\n\n  sizeInterface() {\n\n    if (this.height < this.width/2) {\n      this.knobSize = this.height/2;\n    } else {\n      this.knobSize = this.width/4;\n    }\n\n    this.bar.setAttribute('x',this.width/2 - this.knobSize*1.5);\n    this.bar.setAttribute('y',this.height/2 - this.knobSize/2);\n    this.bar.setAttribute('rx',this.knobSize/2);\n    this.bar.setAttribute('ry',this.knobSize/2);\n    this.bar.setAttribute('width',this.knobSize*3);\n    this.bar.setAttribute('height',this.knobSize);\n\n    this.knob.setAttribute('cx',this.width/2 - this.knobSize);\n    this.knob.setAttribute('cy',this.height/2);\n    this.knob.setAttribute('r',this.knobSize);\n\n  }\n\n  colorInterface() {\n    this.knob.setAttribute('fill', this.colors.accent);\n    this.render();\n  }\n\n  render() {\n    if (!this.state) {\n      this.knob.setAttribute('cx',this.width/2 - this.knobSize);\n      this.bar.setAttribute('fill', this.colors.fill);\n    } else {\n      this.knob.setAttribute('cx',this.width/2 + this.knobSize);\n      this.bar.setAttribute('fill', this.colors.accent);\n    }\n  }\n\n  click() {\n    this.flip();\n    this.render();\n    this.emit('change',this.state);\n  }\n\n  /**\n  Whether the toggle is currently on or off. Setting this property will update the toggle interface and trigger the output event.\n  @type {boolean}\n  @example toggle.state = false;\n  */\n  get state() {\n    return this._state.state;\n  }\n  set state(value) {\n    this._state.flip(value);\n    this.emit('change',this.state);\n    this.render();\n  }\n\n\n  /**\n  * Switch the toggle state to its opposite state\n  * @example\n  * toggle.flip();\n  */\n  flip() {\n    this._state.flip();\n    this.render();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/interfaces/toggle.js","'use strict';\n\nlet svg = require('../util/svg');\nlet ButtonTemplate = require('../components/buttontemplate');\n\n/**\n* Button\n*\n* @description Circular button with optional aftertouch.\n*\n* @demo <span nexus-ui=\"button\"></span>\n*\n* @example\n* var button = new Nexus.Button('#target')\n*\n* @example\n* var button = new Nexus.Button('#target',{\n*   'size': [80,80],\n*   'mode': 'aftertouch',\n*   'state': false\n* })\n*\n* @output\n* change\n* Fires any time the interface's value changes. <br>\n* In <b>button mode</b>, <b>toggle mode</b>, and <b>impulse mode</b>, the output data is a boolean describing the state of the button.<br>\n* In <b>aftertouch mode</b>, the output data is an object containing x (0-1) and y (0-1) positions of aftertouch.\n*\n* @outputexample\n* button.on('change',function(v) {\n*   // v is the value of the button\n*   console.log(v);\n* })\n*\n*/\n\nexport default class Button extends ButtonTemplate {\n\n  constructor() {\n\n    let options = ['mode'];\n\n\n    let defaults = {\n      'size': [80,80],\n      'mode': 'aftertouch', // button, aftertouch, impulse, toggle\n      'state': false\n    };\n\n    super(arguments,options,defaults);\n\n\n    /**\n    * Interaction mode: supports \"button\", \"aftertouch\", \"impulse\", or \"toggle\"\n    * @type {string}\n    * @example button.mode = 'toggle';\n    */\n    this.mode = this.settings.mode;\n\n    this.init();\n    this.render();\n\n  }\n\n  buildInterface() {\n    this.pad = svg.create('circle');\n    this.element.appendChild(this.pad);\n\n    this.interactionTarget = this.pad;\n\n    // only used if in 'aftertouch' mode\n    this.defs = svg.create('defs');\n    this.element.appendChild(this.defs);\n\n    this.gradient = svg.radialGradient(this.defs,2);\n\n    this.gradient.stops[0].setAttribute('offset', '30%');\n\n    this.gradient.stops[1].setAttribute('offset', '100%');\n\n  }\n\n  sizeInterface() {\n\n    this.pad.setAttribute('cx',this.width/2);\n    this.pad.setAttribute('cy',this.height/2);\n    this.pad.setAttribute('r', Math.min(this.width,this.height) / 2 - this.width/40);\n    this.pad.setAttribute('stroke-width', this.width/20);\n  }\n\n  colorInterface() {\n\n    this.gradient.stops[0].setAttribute('stop-color', this.colors.accent);\n    this.gradient.stops[1].setAttribute('stop-color', this.colors.fill);\n    this.render();\n  }\n\n  /*\n  * Update the visual interface using its current state\n  *\n  * @example\n  * button.render();\n  */\n  render() {\n    if (!this.state) {\n      this.pad.setAttribute('fill', this.colors.fill);\n      this.pad.setAttribute('stroke', this.colors.mediumLight);\n    } else {\n      if (this.mode==='aftertouch') {\n        this.pad.setAttribute('stroke', 'url(#'+this.gradient.id+')');\n        this.gradient.element.setAttribute('cx', (this.position.x*100)+'%');\n        this.gradient.element.setAttribute('cy', ((1-this.position.y)*100)+'%');\n      } else {\n        this.pad.setAttribute('stroke', this.colors.accent);\n      }\n      this.pad.setAttribute('fill', this.colors.accent);\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/interfaces/button.js","'use strict';\n\nlet svg = require('../util/svg');\nlet math = require('../util/math');\nlet ToggleModel = require('../models/toggle');\nlet Interface = require('../core/interface');\n\n/**\nButton Template\n*/\n\nexport default class ButtonTemplate extends Interface {\n\n  constructor(args,options,defaults) {\n\n    super(args,options,defaults);\n\n    this.mode = this.settings.mode || 'button';\n\n    this.position = {\n      x: 0,\n      y: 0\n    };\n\n    this._state = new ToggleModel(this.settings.state);\n\n  }\n\n  buildInterface() {\n    this.pad = svg.create('circle');\n    this.pad.setAttribute('fill', '#d18');\n    this.pad.setAttribute('stroke', '#d18');\n    this.pad.setAttribute('stroke-width', 4);\n\n    this.element.appendChild(this.pad);\n\n    this.interactionTarget = this.pad;\n\n    this.sizeInterface();\n  }\n\n  sizeInterface() {\n    this.pad.setAttribute('cx',this.width/2);\n    this.pad.setAttribute('cy',this.height/2);\n    this.pad.setAttribute('r', Math.min(this.width,this.height) / 2 - 2);\n  }\n\n  render() {\n    if (!this.state) {\n      this.pad.setAttribute('fill', this.colors.fill);\n      this.pad.setAttribute('stroke', this.colors.mediumLight);\n    } else {\n      this.pad.setAttribute('fill', this.colors.accent);\n      this.pad.setAttribute('stroke', this.colors.accent);\n    }\n  }\n\n  down(paintbrush) {\n    switch (this.mode) {\n      case 'impulse':\n        this.turnOn();\n        if (this.timeout) {\n          clearTimeout(this.timeout);\n        }\n        this.timeout = setTimeout(this.turnOff.bind(this),30);\n    //    this.emit('change',this.state);\n        break;\n      case 'button':\n        this.turnOn();\n    //    this.emit('change',this.state);\n        break;\n      case 'aftertouch':\n        this.position = {\n          x: math.clip(this.mouse.x / this.width,0,1),\n          y: math.clip(1-this.mouse.y / this.height,0,1)\n        };\n        this.turnOn();\n    //    this.emit('change',{\n    //      state: this.state,\n    //      x: this.position.x,\n    //      y: this.position.y,\n    //    });\n        break;\n      case 'toggle':\n        this.flip(paintbrush);\n    //    this.emit('change',this.state);\n        break;\n    }\n\n  }\n\n  bend(mouse) {\n    if (this.mode==='aftertouch') {\n      this.mouse = mouse || this.mouse;\n      this.position = {\n        x: math.clip(this.mouse.x / this.width,0,1),\n        y: math.clip(1 - this.mouse.y / this.height,0,1)\n      };\n      this.emit('change',{\n        state: this.state,\n        x: this.position.x,\n        y: this.position.y,\n      });\n      this.render();\n    }\n  }\n\n  up() {\n    switch (this.mode) {\n      case 'button':\n        this.turnOff();\n      //  this.emit('change',this.state);\n        break;\n      case 'aftertouch':\n        this.turnOff();\n        this.position = {\n          x: math.clip(this.mouse.x / this.width,0,1),\n          y: math.clip(1 - this.mouse.y / this.height,0,1)\n        };\n      //  this.emit('change',{\n      //    state: this.state,\n      //    x: this.position.x,\n      //    y: this.position.y,\n      //  });\n        break;\n    }\n  }\n\n  /* overwritable interaction handlers */\n\n  click() {\n    this.down();\n  }\n  move() {\n    this.bend();\n  }\n  release() {\n    this.up();\n  }\n\n  /**\n  Whether the button is on (pressed) or off (not pressed)\n  @type {boolean}\n  @example button.state = true;\n  */\n  get state() {\n    return this._state.state;\n  }\n  set state(value) {\n    this._state.flip(value);\n    if (this.mode==='aftertouch') {\n      this.emit('change',{\n        state: this.state,\n        x: this.position.x,\n        y: this.position.y,\n      });\n    } else {\n      this.emit('change',this.state);\n    }\n    this.render();\n  }\n\n  /**\n  Change the button to its alternate state (off=>on, on=>off), or flip it to a specified state.\n  @param value {boolean} (Optional) State to flip to.\n  @example button.flip();\n  */\n  flip(value) {\n    this._state.flip(value);\n    if (this.mode==='aftertouch') {\n      this.emit('change',{\n        state: this.state,\n        x: this.position.x,\n        y: this.position.y,\n      });\n    } else {\n      this.emit('change',this.state);\n    }\n    this.render();\n  }\n\n  /**\n  Turn the button's state to true.\n  @example button.turnOn();\n  */\n  turnOn(emitting) {\n    this._state.on();\n    if (emitting!==false) {\n      if (this.mode==='aftertouch') {\n        this.emit('change',{\n          state: this.state,\n          x: this.position.x,\n          y: this.position.y,\n        });\n      } else {\n        this.emit('change',this.state);\n      }\n    }\n    this.render();\n  }\n\n  /**\n  Turn the button's state to false.\n  @example button.turnOff();\n  */\n  turnOff(emitting) {\n    this._state.off();\n    if (emitting!==false) {\n      if (this.mode==='aftertouch') {\n        this.emit('change',{\n          state: this.state,\n          x: this.position.x,\n          y: this.position.y,\n        });\n      } else {\n        this.emit('change',this.state);\n      }\n    }\n    this.render();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/components/buttontemplate.js","'use strict';\n\nlet ButtonTemplate = require('../components/buttontemplate');\n\n/**\n* TextButton\n*\n* @description Text button\n*\n* @demo <span nexus-ui=\"textButton\"></span>\n*\n* @example\n* var textbutton = new Nexus.TextButton('#target')\n*\n* @example\n* var textbutton = new Nexus.TextButton('#target',{\n*     'size': [150,50],\n*     'state': false,\n*     'text': 'Play',\n*     'alternateText': 'Stop'\n* })\n*\n* @output\n* change\n* Fires any time the interface's value changes. <br>\n* The event data is a <i>string</i> of the text on the button at the moment it was clicked.\n*\n* @outputexample\n* textbutton.on('change',function(v) {\n*   console.log(v);\n* })\n*\n*/\n\nexport default class TextButton extends ButtonTemplate {\n\n  constructor() {\n\n    let options = ['value'];\n\n    let defaults = {\n      'size': [150,50],\n      'state': false,\n      'text': 'Play'\n    };\n\n    super(arguments,options,defaults);\n\n    this._text = this.settings.text;\n\n    if(this.settings.alternate){ //TODO: Remove this conditional in a breaking-changes release\n      this.settings.alternateText = this.settings.alternate;\n      console.warn(\"'alternate' initiator is deprecated. Use 'alternateText' instead.\");\n    }\n    this._alternateText = this.settings.alternateText;\n    this.mode = (this.settings.alternateText) ? 'toggle' : 'button';\n    this.init();\n    this.render();\n\n    this.state = this.settings.state;\n\n  }\n\n  buildFrame() {\n\n    this.element = document.createElement('div');\n    this.parent.appendChild(this.element);\n\n    this.textElement = document.createElement('div');\n    this.textElement.innerHTML = this._text;\n    this.element.appendChild(this.textElement);\n  }\n\n  buildInterface() {\n\n  }\n\n  colorInterface() {\n    this.element.style.color = this.colors.dark;\n    this.render();\n  }\n\n  sizeInterface() {\n      let textsize = this.height/3;\n      let textsize2 = (this.width / (this._text.length + 2) );\n      textsize = Math.min(textsize,textsize2);\n      if (this.alternateText) {\n        let textsize3 = (this.width / (this.alternateText.length + 2) );\n        textsize = Math.min(textsize,textsize3);\n      }\n      let styles = 'width: ' + this.width + 'px;';\n      styles += 'height: ' + this.height + 'px;';\n      styles += 'padding: '+(this.height-textsize)/2+'px 0px;';\n      styles += 'box-sizing: border-box;';\n      styles += 'text-align: center;';\n      styles += 'font-family: inherit;';\n      styles += 'font-weight: 700;';\n      styles += 'opacity: 1;';\n      styles += 'font-size:' + textsize + 'px;';\n      this.textElement.style.cssText = styles;\n      this.render();\n  }\n\n  render() {\n    if (!this.state) {\n      this.element.style.backgroundColor = this.colors.fill;\n      this.textElement.style.color = this.colors.dark;\n      this.textElement.innerHTML = this._text;\n    } else {\n      this.element.style.backgroundColor = this.colors.accent;\n      this.textElement.style.color = this.colors.fill;\n      if (this.alternateText) {\n        this.textElement.innerHTML = this._alternateText;\n      } else {\n        this.textElement.innerHTML = this._text;\n      }\n    }\n  }\n\n  /**\n  The text to display when the button is in its \"on\" state. If set, this puts the button in \"toggle\" mode.\n  @type {String}\n  */\n  get alternateText() {\n    return this._alternateText;\n  }\n\n  set alternateText(text) {\n    if (text) {\n      this.mode = 'toggle';\n    } else {\n      this.mode = 'button';\n    }\n    this._alternateText = text;\n    this.render();\n  }\n\n\n  /**\n  The text to display. (If .alternateText exists, then this .text will only be displayed when the button is in its \"off\" state.)\n  @type {String}\n  */\n  get text() {\n    return this._text;\n  }\n\n  set text(text) {\n    this._text = text;\n    this.sizeInterface();\n    this.render();\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/interfaces/textbutton.js","'use strict';\n\n//let svg = require('../util/svg');\nlet Interface = require('../core/interface');\nlet Button = require('../interfaces/button');\n\n/**\n * RadioButton\n *\n * @description An array of buttons. By default, selecting one button will deselect all other buttons, but this can be customized using the API below.\n *\n * @demo <div nexus-ui=\"RadioButton\"></div>\n *\n * @example\n * var radiobutton = new Nexus.RadioButton('#target')\n *\n * @example\n * var radiobutton = new Nexus.RadioButton('#target',{\n *   'size': [120,25],\n *   'numberOfButtons': 4,\n *   'active': -1\n * })\n *\n * @output\n * change\n * Fires any time the interface's value changes. <br>\n * The event data an <i>integer</i>, the index of the button that is currently on. If no button is selected, the value will be -1.\n *\n * @outputexample\n * radiobutton.on('change',function(v) {\n *   console.log(v);\n * })\n *\n */\n\nexport default class RadioButton extends Interface {\n  constructor() {\n    let options = ['value'];\n\n    let defaults = {\n      size: [120, 25],\n      numberOfButtons: 4,\n      active: -1\n    };\n\n    super(arguments, options, defaults);\n\n    this.buttons = [];\n    this._numberOfButtons = this.settings.numberOfButtons;\n    this.active = this.settings.active;\n\n    this.init();\n    this.render();\n  }\n\n  buildFrame() {\n    this.element = document.createElement('div');\n    this.parent.appendChild(this.element);\n  }\n\n  buildInterface() {\n    for (let i = 0; i < this._numberOfButtons; i++) {\n      let container = document.createElement('span');\n\n      let button = new Button(\n        container,\n        {\n          mode: 'toggle',\n          component: true\n        },\n        this.update.bind(this, i)\n      );\n\n      this.buttons.push(button);\n      this.element.appendChild(container);\n    }\n  }\n\n  sizeInterface() {\n    let orientation;\n    if (this.width > this.height) {\n      orientation = 'horizontal';\n    } else {\n      orientation = 'vertical';\n    }\n\n    let buttonWidth =\n      this.width / (orientation === 'vertical' ? 1 : this._numberOfButtons);\n    let buttonHeight =\n      this.height / (orientation === 'vertical' ? this._numberOfButtons : 1);\n\n    for (let i = 0; i < this._numberOfButtons; i++) {\n      this.buttons[i].resize(buttonWidth, buttonHeight);\n    }\n  }\n\n  colorInterface() {\n    for (let i = 0; i < this._numberOfButtons; i++) {\n      this.buttons[i].colors = this.colors;\n      this.buttons[i].render();\n    }\n  }\n\n  update(index) {\n    if (this.buttons[index].state) {\n      this.select(index);\n    } else {\n      this.deselect();\n    }\n    //  this.render();\n  }\n\n  render() {\n    for (let i = 0; i < this.buttons.length; i++) {\n      if (i === this.active) {\n        this.buttons[i].turnOn(false);\n      } else {\n        this.buttons[i].turnOff(false);\n      }\n    }\n  }\n\n  /**\n  Select one button and deselect all other buttons.\n  @param index {number} The index of the button to select\n  */\n  select(index) {\n    if (index >= 0 && index < this.buttons.length) {\n      this.active = index;\n      this.emit('change', this.active);\n      this.render();\n    }\n  }\n\n  /**\n  Deselect all buttons.\n  */\n  deselect() {\n    this.active = -1;\n    this.emit('change', this.active);\n    this.render();\n  }\n\n  get numberOfButtons() {\n    return this._numberOfButtons;\n  }\n\n  /**\n   * Update how many buttons are in the interface\n   * @param  {number} buttons How many buttons are in the interface\n   */\n  set numberOfButtons(buttons) {\n    this._numberOfButtons = buttons;\n    for (let i = 0; i < this.buttons.length; i++) {\n      this.buttons[i].destroy();\n    }\n    this.buttons = [];\n    //  for (let i=0;i<this.buttons.length;i++) {\n    //    this.buttons[i].destroy();\n    //  }\n    this.empty();\n    this.buildInterface();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/interfaces/radiobutton.js","'use strict';\n\nlet Interface = require('../core/interface');\nlet Step = require('../models/step');\nlet math = require('../util/math');\nlet util = require('../util/util');\n\n/**\n* Number\n*\n* @description Number interface which is controllable by dragging or typing.\n*\n* @demo <span nexus-ui=\"number\"></span>\n*\n* @example\n* var number = new Nexus.Number('#target')\n*\n* @example\n* var number = new Nexus.Number('#target',{\n*   'size': [60,30],\n*   'value': 0,\n*   'min': 0,\n*   'max': 20000,\n*   'step': 1\n* })\n*\n* @output\n* change\n* Fires any time the interface's value changes. <br>\n* The event data is the number value of the interface.\n*\n* @outputexample\n* number.on('change',function(v) {\n*   console.log(v);\n* })\n*\n*\n*/\n\n\nexport default class Number extends Interface {\n\n  constructor() {\n\n    let options = ['value'];\n\n    let defaults = {\n      'size': [60,30],\n      'value': 0,\n      'min': 0,\n      'max': 20000,\n      'step': 1\n    };\n\n    super(arguments,options,defaults);\n\n    this._value = new Step(this.settings.min,this.settings.max,this.settings.step,this.settings.value);\n\n    /*\n    Default: 2. How many decimal places to clip the number's visual rendering to. This does not affect number's actual value output -- for that, set the step property to .01, .1, or 1.\n    @type {number}\n    @example number.decimalPlaces = 2;\n    */\n    this.decimalPlaces = 2;\n    this.actual = 0;\n\n    this.max = this._value.max;\n\n    this.min = this._value.min;\n\n    this.step = this._value.step;\n\n    this.init();\n    this.render();\n\n  }\n\n  buildFrame() {\n    this.element = document.createElement('input');\n    this.element.type = 'text';\n\n    this.element.addEventListener('blur', function () {\n      this.element.style.backgroundColor = this.colors.fill;\n      this.element.style.color = this.colors.dark;\n      if (this.element.value !== this.value) {\n        this.value = parseFloat(this.element.value);\n        this.render();\n      }\n    }.bind(this));\n\n    util.setInputFilter(this.element, function(value) {\n      return /^-?\\d*\\.?\\d*$/.test(value); });\n\n    this.element.addEventListener('keydown', function (e) {\n      if (e.which===13) {\n        this.element.blur();\n        this.value = this.element.value;\n        this.emit('change',this.value);\n        this.render();\n      }\n    }.bind(this), true);\n\n    this.parent.appendChild(this.element);\n\n  }\n\n  sizeInterface() {\n\n    this._minDimension = Math.min(this.width,this.height);\n\n    let styles = 'width: ' + this.width + 'px;';\n    styles += 'height: ' + this.height + 'px;';\n    styles += 'background-color: #e7e7e7;';\n    styles += 'color: #333;';\n    styles += 'font-family: arial;';\n    styles += 'font-weight: 500;';\n    styles += 'font-size:' + this._minDimension/2 + 'px;';\n  //  styles += 'highlight: #d18;';\n    styles += 'border: none;';\n    styles += 'outline: none;';\n    styles += 'padding: '+this._minDimension/4+'px '+this._minDimension/4+'px;';\n    styles += 'box-sizing: border-box;';\n    styles += 'userSelect: text;';\n    styles += 'mozUserSelect: text;';\n    styles += 'webkitUserSelect: text;';\n    this.element.style.cssText += styles;\n\n    // to add eventually\n    // var css = '#'+this.elementID+'::selection{ background-color: transparent }';\n\n    this.element.value = this.value;\n\n  }\n\n  colorInterface() {\n      this.element.style.backgroundColor = this.colors.fill;\n      this.element.style.color = this.colors.dark;\n  }\n\n  render() {\n\n    this.element.value = math.prune(this.value,this.decimalPlaces);\n\n  }\n\n  click() {\n    this.hasMoved = false;\n    this.element.readOnly = true;\n\t  this.actual = this.value;\n    this.initial = { y: this.mouse.y };\n    this.changeFactor = math.invert( this.mouse.x / this.width );\n  }\n\n  move() {\n    this.hasMoved = true;\n    if (this.clicked) {\n\n      let newvalue = this.actual - (this.mouse.y - this.initial.y) * ( math.clip( this.max-this.min, 0, 1000 ) / 200 ) * Math.pow(this.changeFactor,2);\n      this.value = newvalue;\n\n  \t\tthis.render();\n      if (this._value.changed) {\n        this.emit('change',this.value);\n      }\n\n  \t}\n  }\n\n  release() {\n    if (!this.hasMoved) {\n      this.element.readOnly = false;\n  \t\tthis.element.focus();\n  \t\tthis.element.setSelectionRange(0, this.element.value.length);\n  \t\tthis.element.style.backgroundColor = this.colors.accent;\n  \t\tthis.element.style.color = this.colors.light;\n    } else {\n      document.body.focus();\n    }\n  }\n\n  /**\n  Connect this number interface to a dial or slider\n  @param {Interface} element Element to connect to.\n  @example number.link(slider)\n  */\n  link(destination) {\n    this.min = destination.min;\n    this.max = destination.max;\n    this.step = destination.step;\n    destination.on('change',(v) => {\n      this.passiveUpdate(v);\n    });\n    this.on('change',(v) => {\n      destination.value = v;\n    });\n    this.value = destination.value;\n  /*  return {\n      listener1: listener1,\n      listener2: listener2,\n      destroy: () => {\n        listener1.remove() (or similar)\n        listener2.remove() (or similar)\n      }\n    } */\n  }\n\n  passiveUpdate(v) {\n    this._value.update(v);\n    this.render();\n  }\n\n  /**\n  The interface's current value. If set manually, will update the interface and trigger the output event.\n  @type {number}\n  @example number.value = 10;\n  */\n  get value() {\n    return this._value.value;\n  }\n  set value(v) {\n    this._value.update(v);\n    this.emit('change',this.value);\n    this.render();\n  }\n\n  /**\n  Lower limit of the number's output range\n  @type {number}\n  @example number.min = 1000;\n  */\n  get min() {\n    return this._value.min;\n  }\n  set min(v) {\n    this._value.min = v;\n  }\n\n  /**\n  Upper limit of the number's output range\n  @type {number}\n  @example number.max = 1000;\n  */\n  get max() {\n    return this._value.max;\n  }\n  set max(v) {\n    this._value.max = v;\n  }\n\n  /**\n  The increment that the number's value changes by.\n  @type {number}\n  @example number.step = 5;\n  */\n  get step() {\n    return this._value.step;\n  }\n  set step(v) {\n    this._value.step = v;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/interfaces/number.js","'use strict';\n\nlet Interface = require('../core/interface');\n\n/**\n* Select\n*\n* @description Dropdown menu\n*\n* @demo <span nexus-ui=\"select\"></span>\n*\n* @example\n* var select = new Nexus.Select('#target')\n*\n* @example\n* var select = new Nexus.Select('#target',{\n*   'size': [100,30],\n*   'options': ['default','options']\n* })\n*\n* @output\n* change\n* Fires any time the interface's value changes. <br>\n* The event data is an object containing the text value of the selected option, as well as the numeric index of the selection.\n*\n* @outputexample\n* select.on('change',function(v) {\n*   console.log(v);\n* })\n*\n*\n*/\n\n\nexport default class Select extends Interface {\n\n  constructor() {\n\n    let options = ['value'];\n\n    let defaults = {\n       'size': [100,30],\n       'options': ['default','options']\n    };\n\n    super(arguments,options,defaults);\n\n    this._selectedIndex = -1;\n    this._value = false;\n\n    this._options = this.settings.options;\n\n    this.init();\n    this.render();\n\n  }\n\n  buildFrame() {\n    this.element = document.createElement('select');\n    this.element.style.fontSize = this.height/2+'px';\n    this.element.style.outline = 'none';\n    this.element.style.highlight = 'none';\n    this.element.style.width = this.width+'px';\n    this.element.style.height = this.height+'px';\n\n    this.boundRender = this.render.bind(this);\n\n    this.element.addEventListener('change', this.boundRender);\n\n    this.parent.appendChild(this.element);\n\n  }\n\n  attachListeners() {\n\n  }\n\n  buildInterface() {\n\n    this.defineOptions();\n\n  }\n\n  colorInterface() {\n    this.element.style.backgroundColor = this.colors.fill;\n    this.element.style.color = this.colors.dark;\n    this.element.style.border = 'solid 0px '+this.colors.mediumLight;\n  }\n\n  render() {\n\n    this._value = this.element.options[this.element.selectedIndex].text;\n    this._selectedIndex = this.element.selectedIndex;\n    this.emit('change',{\n      value: this._value,\n      index: this._selectedIndex\n    });\n\n  }\n\n  click() {\n\n  }\n\n  move() {\n\n  }\n\n  release() {\n\n  }\n\n  /**\n   * Update the list of options. This removes all existing options and creates a new list of options.\n   * @param  {array} options New array of options\n   */\n\n  defineOptions(options) {\n\n  /*  function removeOptions(selectbox)\n    {\n        var i;\n        for(i = selectbox.options.length - 1 ; i >= 0 ; i--)\n        {\n            selectbox.remove(i);\n        }\n    }\n    //using the function:\n    removeOptions(document.getElementById(\"mySelectObject\")); */\n\n\n    if (options) {\n      this._options = options;\n    }\n\n    for(let i=this.element.options.length-1; i >= 0; i--) {\n      this.element.remove(i);\n    }\n\n    for(let i=0;i<this._options.length;i++) {\n      this.element.options.add(new Option(this._options[i], i));\n    }\n\n  }\n\n\n  /**\n  The text of the option that is currently selected. If set, will update the interface and trigger the output event.\n  @type {String}\n  @example select.value = \"sawtooth\";\n  */\n  get value() {\n    return this._value;\n  }\n  set value(v) {\n    this._value = v;\n    for(let i=0;i<this.element.options.length;i++) {\n      if (v === this.element.options[i].text) {\n        this.selectedIndex = i;\n        break;\n      }\n    }\n  }\n\n\n  /**\n  The numeric index of the option that is currently selected. If set, will update the interface and trigger the output event.\n  @type {number}\n  @example select.selectedIndex = 2;\n  */\n  get selectedIndex() {\n    return this._selectedIndex;\n  }\n  set selectedIndex(v) {\n    this._selectedIndex = v;\n    this.element.selectedIndex = v;\n    this.render();\n  }\n\n  customDestroy() {\n    this.element.removeEventListener('change', this.boundRender);\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/interfaces/select.js","'use strict';\n\nlet svg = require('../util/svg');\nlet math = require('../util/math');\nlet Interface = require('../core/interface');\nlet Step = require('../models/step');\nimport * as Interaction from '../util/interaction';\n\n/**\n* Dial\n*\n*\n* @description Dial with radial or linear interaction.\n*\n* @demo <span nexus-ui=\"dial\"></span>\n*\n* @example\n* var dial = new Nexus.Dial('#target')\n*\n* @example\n* var dial = new Nexus.Dial('#target',{\n*   'size': [75,75],\n*   'interaction': 'radial', // \"radial\", \"vertical\", or \"horizontal\"\n*   'mode': 'relative', // \"absolute\" or \"relative\"\n*   'min': 0,\n*   'max': 1,\n*   'step': 0,\n*   'value': 0\n* })\n*\n* @output\n* change\n* Fires any time the interface's value changes. <br>\n* The event data is the number value of the interface.\n*\n* @outputexample\n* dial.on('change',function(v) {\n*   console.log(v);\n* })\n*\n* @tutorial\n* Dial\n* ygGMxq\n*\n*/\n\nexport default class Dial extends Interface {\n\n  constructor() {\n\n    let options = ['min','max','value'];\n\n    let defaults = {\n      'size': [75,75],\n      'interaction': 'radial', // radial, vertical, horizontal\n      'mode': 'relative', // absolute, relative\n      'min': 0,\n      'max': 1,\n      'step': 0,\n      'value': 0\n    };\n\n    super(arguments,options,defaults);\n\n    this.interaction = this.settings.interaction;\n\n    this._value = new Step(this.settings.min, this.settings.max, this.settings.step, this.settings.value);\n\n    this.position = new Interaction.Handle(this.settings.mode,this.interaction,[0,this.width],[this.height,0]);\n\n    this.init();\n\n    this.value = this._value.value;\n\n    this.position.value = this._value.normalized;\n\n    this.previousAngle = false;\n\n    this.emit('change',this.value);\n\n  }\n\n  buildInterface() {\n\n    this.background = svg.create('circle');\n    this.screw = svg.create('circle');\n    this.handle = svg.create('path');\n    this.handle2 = svg.create('path');\n    this.handleFill = svg.create('path');\n    this.handle2Fill = svg.create('path');\n    this.handleLine = svg.create('path');\n\n    this.element.appendChild(this.background);\n    this.element.appendChild(this.handle);\n    this.element.appendChild(this.handle2);\n    this.element.appendChild(this.handleFill);\n    this.element.appendChild(this.handle2Fill);\n    this.element.appendChild(this.handleLine);\n    this.element.appendChild(this.screw);\n\n  }\n\n\n  sizeInterface() {\n\n    this.position.resize([0,this.width],[this.height,0]);\n\n    let center = {\n      x: this.width/2,\n      y: this.height/2\n    };\n\n    let diameter = Math.min(this.width,this.height);\n\n    this.background.setAttribute('cx', center.x);\n    this.background.setAttribute('cy', center.y);\n    this.background.setAttribute('r', diameter/2-diameter/40);\n\n    this.screw.setAttribute('cx', center.x);\n    this.screw.setAttribute('cy', center.y);\n    this.screw.setAttribute('r', diameter/12);\n\n    let value = this.value;\n\n    let handlePoints = {\n      start: Math.PI*1.5,\n      end: math.clip( math.scale(value,0,0.5,Math.PI*1.5,Math.PI*0.5) , Math.PI*0.5, Math.PI*1.5 )\n    };\n    let handle2Points = {\n      start: Math.PI*2.5,\n      end: math.clip( math.scale(value,0.5,1,Math.PI*2.5,Math.PI*1.5) , Math.PI*1.5, Math.PI*2.5 )\n    };\n\n    let handlePath = svg.arc(center.x, center.y, diameter/2-diameter/40, handlePoints.start, handlePoints.end);\n    let handle2Path = svg.arc(center.x, center.y, diameter/2-diameter/40, handle2Points.start, handle2Points.end);\n\n    this.handle.setAttribute('d',handlePath);\n    this.handle.setAttribute('stroke-width', diameter/20);\n    this.handle.setAttribute('fill', 'none');\n\n    this.handle2.setAttribute('d',handle2Path);\n    this.handle2.setAttribute('stroke-width', diameter/20);\n    this.handle2.setAttribute('fill', 'none');\n\n    handlePath += ' L '+center.x+' '+center.y;\n\n    this.handleFill.setAttribute('d',handlePath);\n    this.handleFill.setAttribute('fill-opacity', '0.3');\n\n    handle2Path += ' L '+center.x+' '+center.y;\n\n    this.handle2Fill.setAttribute('d',handle2Path);\n    this.handle2Fill.setAttribute('fill-opacity', '0.3');\n\n    let arcEndingA;\n    if (value < 0.5) {\n      arcEndingA = handlePoints.end;\n    } else {\n      arcEndingA = handle2Points.end;\n    }\n\n    let arcEndingX = center.x + Math.cos(arcEndingA) * (diameter/2);\n    let arcEndingY = center.y + Math.sin(arcEndingA) * (diameter/2) * -1;\n\n    this.handleLine.setAttribute('d','M '+center.x+' '+center.y+' L '+arcEndingX+' '+arcEndingY);\n    this.handleLine.setAttribute('stroke-width', diameter/20);\n\n  }\n\n  colorInterface() {\n    this.background.setAttribute('fill', this.colors.fill);\n    this.screw.setAttribute('fill', this.colors.accent);\n    this.handle.setAttribute('stroke', this.colors.accent);\n    this.handle2.setAttribute('stroke', this.colors.accent);\n    this.handleFill.setAttribute('fill', this.colors.accent);\n    this.handle2Fill.setAttribute('fill', this.colors.accent);\n    this.handleLine.setAttribute('stroke', this.colors.accent);\n\n  }\n\n  render() {\n    let value = this._value.normalized;\n\n    let center = {\n      x: this.width/2,\n      y: this.height/2\n    };\n\n    let diameter = Math.min(this.width,this.height);\n\n    let handlePoints = {\n      start: Math.PI*1.5,\n      end: math.clip( math.scale(value,0,0.5,Math.PI*1.5,Math.PI*0.5) , Math.PI*0.5, Math.PI*1.5 )\n    };\n    let handle2Points = {\n      start: Math.PI *2.5,\n      end: math.clip( math.scale(value,0.5,1,Math.PI*2.5,Math.PI*1.5) , Math.PI*1.5, Math.PI*2.5 )\n    };\n\n    let handlePath = svg.arc(center.x, center.y, diameter/2-diameter/40, handlePoints.start, handlePoints.end);\n    let handle2Path = svg.arc(center.x, center.y, diameter/2-diameter/40, handle2Points.start, handle2Points.end);\n\n    this.handle.setAttribute('d',handlePath);\n    this.handle2.setAttribute('d',handle2Path);\n\n\n    handlePath += ' L '+center.x+' '+center.y;\n\n    this.handleFill.setAttribute('d',handlePath);\n\n    handle2Path += ' L '+center.x+' '+center.y;\n\n    this.handle2Fill.setAttribute('d',handle2Path);\n\n    let arcEndingA;\n    if (value <= 0.5) {\n      arcEndingA = handlePoints.end;\n    } else {\n      arcEndingA = handle2Points.end;\n    }\n\n    let arcEndingX = center.x + Math.cos(arcEndingA) * (diameter/2);\n    let arcEndingY = center.y + Math.sin(arcEndingA) * (diameter/2) * -1;\n\n    this.handleLine.setAttribute('d','M '+center.x+' '+center.y+' L '+arcEndingX+' '+arcEndingY);\n\n  }\n\n\n  click() {\n    if (this.mode==='relative') {\n      this.previousAngle = false;\n    }\n    this.position.anchor = this.mouse;\n    this.position.value = this._value.normalized;\n    this.move();\n   }\n\n  move() {\n    if (this.clicked) {\n\n      this.position.update(this.mouse);\n\n      let angle = this.position.value*Math.PI*2;\n\n      if (angle < 0 ) { angle += (Math.PI*2); }\n\n      if (this.mode === 'relative') {\n        if (this.previousAngle !== false && Math.abs(this.previousAngle - angle) > 2) {\n          if (this.previousAngle > 3) {\n            angle = Math.PI*2;\n          } else {\n            angle = 0;\n          }\n        }\n      } /* else {\n        if (this.previousAngle !== false && Math.abs(this.previousAngle - angle) > 2) {\n          if (this.previousAngle > 3) {\n            angle = Math.PI*2;\n          } else {\n            angle = 0;\n          }\n        }\n      } */\n      this.previousAngle = angle;\n\n      let realValue = angle / (Math.PI*2);\n\n      this.value = this._value.updateNormal( realValue );\n\n      if (this.mode === 'relative') {\n        this.position.value = realValue;\n      }\n\n      this.emit('change',this._value.value);\n\n      this.render();\n\n    }\n  }\n\n  release() {\n  }\n\n  /*\n  Dial's value. When set, it will automatically be adjust to fit min/max/step settings of the interface.\n  @type {number}\n  @example dial.value = 10;\n\n  get value() {\n    return this._value.value;\n  }\n\n  set value(value) {\n    this._value.update(value);\n    this.emit('change',this.value);\n    this.render();\n  }\n*/\n\n    /**\n    Dial's value. When set, it will automatically be adjust to fit min/max/step settings of the interface.\n    @type {number}\n    @example dial.value = 10;\n    */\n    get value() {\n      return this._value.value;\n    }\n    set value(v) {\n      this._value.update(v);\n      this.position.value = this._value.normalized;\n      this.emit('change',this._value.value);\n      this.render();\n    }\n\n    /**\n    Lower limit of the dial's output range\n    @type {number}\n    @example dial.min = 1000;\n    */\n    get min() {\n      return this._value.min;\n    }\n    set min(v) {\n      this._value.min = v;\n    }\n\n    /**\n    Upper limit of the dial's output range\n    @type {number}\n    @example dial.max = 1000;\n    */\n    get max() {\n      return this._value.max;\n    }\n    set max(v) {\n      this._value.max = v;\n    }\n\n    /**\n    The increment that the dial's value changes by.\n    @type {number}\n    @example dial.step = 5;\n    */\n    get step() {\n      return this._value.step;\n    }\n    set step(v) {\n      this._value.step = v;\n    }\n\n    /**\n    Absolute mode (dial's value jumps to mouse click position) or relative mode (mouse drag changes value relative to its current position). Default: \"relative\".\n    @type {string}\n    @example dial.mode = \"relative\";\n    */\n    get mode() {\n      return this.position.mode;\n    }\n    set mode(v) {\n      this.position.mode = v;\n    }\n\n\n  /**\n  Normalized value of the dial.\n  @type {number}\n  @example dial.normalized = 0.5;\n  */\n  get normalized() {\n    return this._value.normalized;\n  }\n\n  set normalized(v) {\n    this._value.updateNormal(v);\n    this.emit('change',this.value);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/interfaces/dial.js","'use strict';\n\nlet svg = require('../util/svg');\nlet Interface = require('../core/interface');\nlet ButtonTemplate = require('../components/buttontemplate');\nlet touch = require('../util/touch');\n\nclass PianoKey extends ButtonTemplate {\n\n  constructor() {\n\n    let options = ['value','note','color'];\n\n    let defaults = {\n      'size': [80,80],\n      'target': false,\n      'mode': 'button',\n      'value': 0\n    };\n\n    super(arguments,options,defaults);\n\n    this.note = this.settings.note;\n    this.color = this.settings.color;\n\n    this.colors = {\n      'w': '#fff',\n      'b': '#666',\n    };\n\n    this.init();\n    this.render();\n\n  }\n\n  buildFrame() {\n    this.element = svg.create('svg');\n    this.element.setAttribute('width',this.width);\n    this.element.setAttribute('height',this.height);\n    this.parent.appendChild(this.element);\n  }\n\n  buildInterface() {\n\n    this.pad = svg.create('rect');\n\n    this.element.appendChild(this.pad);\n\n    this.interactionTarget = this.pad;\n\n    /* events */\n\n    if (!touch.exists) {\n\n      this.click = () => {\n      //  console.log('click');\n        this.piano.interacting = true;\n        this.piano.paintbrush = !this.state;\n        this.down(this.piano.paintbrush);\n      };\n\n      this.pad.addEventListener('mouseover', () => {\n        if (this.piano.interacting) {\n      //    console.log('mouseover');\n          this.down(this.piano.paintbrush);\n        }\n      });\n\n\n      this.move = () => {\n        if (this.piano.interacting) {\n        //  console.log('move');\n          this.bend();\n        }\n      };\n\n\n      this.release = () => {\n        this.piano.interacting = false;\n      //  console.log('release');\n      //  this.up();\n      };\n      this.pad.addEventListener('mouseup', () => {\n        if (this.piano.interacting) {\n        //  console.log('mouseup');\n          this.up();\n        }\n      });\n      this.pad.addEventListener('mouseout', () => {\n        if (this.piano.interacting) {\n        //  console.log('mouseout');\n          this.up();\n        }\n      });\n\n    }\n\n  }\n\n  sizeInterface() {\n\n        //let radius = Math.min(this.width,this.height) / 5;\n        let radius = 0;\n\n        this.pad.setAttribute('x',0.5);\n        this.pad.setAttribute('y',0.5);\n        if (this.width > 2) {\n          this.pad.setAttribute('width', this.width - 1);\n        } else {\n          this.pad.setAttribute('width', this.width);\n        }\n        if (this.height > 2) {\n          this.pad.setAttribute('height', this.height);\n        } else {\n          this.pad.setAttribute('height', this.height);\n        }\n        this.pad.setAttribute('rx', radius);\n        this.pad.setAttribute('ry', radius);\n\n  }\n\n  render() {\n    if (!this.state) {\n      this.pad.setAttribute('fill', this.colors[this.color]);\n    } else {\n      this.pad.setAttribute('fill', this.colors.accent);\n    }\n  }\n\n}\n\n/**\n* Piano\n*\n* @description Piano keyboard interface\n*\n* @demo <div nexus-ui=\"piano\"></div>\n*\n* @example\n* var piano = new Nexus.Piano('#target')\n*\n* @example\n* var piano = new Nexus.Piano('#target',{\n*     'size': [500,125],\n*     'mode': 'button',  // 'button', 'toggle', or 'impulse'\n*     'lowNote': 24,\n*     'highNote': 60\n* })\n*\n* @output\n* change\n* Fires any time a new key is pressed or released <br>\n* The event data is an object containing <i>note</i> and <i>state</i> properties.\n*\n* @outputexample\n* piano.on('change',function(v) {\n*   console.log(v);\n* })\n*\n*/\n\nexport default class Piano extends Interface {\n\n  constructor() {\n\n    let options = ['value'];\n\n    let defaults = {\n      'size': [500,125],\n      'lowNote': 24,\n      'highNote': 60,\n      'mode': 'button'\n    };\n\n    super(arguments,options,defaults);\n\n    this.keyPattern = ['w','b','w','b','w','w','b','w','b','w','b','w'];\n\n    this.paintbrush = false;\n\n    this.mode = this.settings.mode;\n\n    this.range = {\n      low: this.settings.lowNote,\n      high: this.settings.highNote\n    };\n\n    this.range.size = this.range.high - this.range.low + 1;\n\n    this.keys = [];\n\n    this.toggleTo = false;\n\n    this.init();\n    this.render();\n\n  }\n\n  buildFrame() {\n    this.element = document.createElement('div');\n    this.element.style.position = 'relative';\n    this.element.style.borderRadius = '0px';\n    this.element.style.display = 'block';\n    this.element.style.width = '100%';\n    this.element.style.height = '100%';\n    this.parent.appendChild(this.element);\n  }\n\n  buildInterface() {\n\n    this.keys = [];\n\n    for (let i=0;i<this.range.size;i++) {\n\n      let container = document.createElement('span');\n      let scaleIndex = (i+this.range.low) % this.keyPattern.length;\n\n      let key = new PianoKey(container, {\n          component: true,\n          note: i+this.range.low,\n          color: this.keyPattern[scaleIndex],\n          mode: this.mode\n        }, this.keyChange.bind(this,i+this.range.low));\n\n      key.piano = this;\n\n      if (touch.exists) {\n        key.pad.index = i;\n        key.preClick = key.preMove = key.preRelease = () => {};\n        key.click = key.move = key.release = () => {};\n        key.preTouch = key.preTouchMove = key.preTouchRelease = () => {};\n        key.touch = key.touchMove = key.touchRelease = () => {};\n      }\n\n      this.keys.push(key);\n      this.element.appendChild(container);\n\n    }\n    if (touch.exists) {\n      this.addTouchListeners();\n    }\n\n  }\n\n  sizeInterface() {\n\n    let keyX = 0;\n\n    let keyPositions = [];\n\n    for (let i=0;i<this.range.size;i++) {\n\n      keyPositions.push(keyX);\n\n      let scaleIndex = (i+this.range.low) % this.keyPattern.length;\n      let nextScaleIndex = (i+1+this.range.low) % this.keyPattern.length;\n      if (i+1+this.range.low >= this.range.high) {\n        keyX += 1;\n      } else if (this.keyPattern[scaleIndex] === 'w' && this.keyPattern[nextScaleIndex] === 'w') {\n        keyX += 1;\n      } else {\n        keyX += 0.5;\n      }\n    }\n    let keysWide = keyX;\n\n\n  //  let padding = this.width / 120;\n    let padding = 1;\n    let buttonWidth = (this.width-padding*2) / keysWide;\n    let buttonHeight = (this.height-padding*2) / 2;\n\n    for (let i=0;i<this.keys.length;i++) {\n\n      let container = this.keys[i].parent;\n      container.style.position = 'absolute';\n      container.style.left = (keyPositions[i]*buttonWidth+padding) + 'px';\n      if (this.keys[i].color === 'w') {\n        container.style.top = (padding) + 'px';\n        this.keys[i].resize(buttonWidth, buttonHeight*2);\n      } else {\n        container.style.zIndex = 1;\n        container.style.top = padding+'px';\n        this.keys[i].resize(buttonWidth, buttonHeight*1.1);\n      }\n\n    }\n\n  }\n\n  colorInterface() {\n\n    // Piano keys don't actually have a stroke border\n    // They have space between them, which shows the Piano bg color\n    this.element.style.backgroundColor = this.colors.mediumLight;\n\n    for (let i=0;i<this.keys.length;i++) {\n      this.keys[i].colors = {\n        'w': this.colors.light,\n        'b': this.colors.dark,\n        'accent': this.colors.accent,\n        'border': this.colors.mediumLight\n      };\n      this.keys[i].colorInterface();\n      this.keys[i].render();\n    }\n\n\n  }\n\n  keyChange(note,on) {\n    // emit data for any key turning on/off\n    // \"note\" is the note value\n    // \"on\" is a boolean whether it is on or off\n    // in aftertouch mode, \"on: is an object with state/x/y properties\n    var data = {\n      note: note\n    };\n    if (typeof on === 'object') {\n      data.state = on.state;\n    //  data.x = on.x\n    //  data.y = on.y\n    } else {\n      data.state = on;\n    }\n    this.emit('change',data);\n  }\n\n  /* drag(note,on) {\n    this.emit('change',{\n      note: note,\n      state: on\n    });\n  } */\n\n  render() {\n    // loop through and render the keys?\n  }\n\n  addTouchListeners() {\n    this.preClick = this.preMove = this.preRelease = () => {};\n    this.click = this.move = this.release = () => {};\n    this.preTouch = this.preTouchMove = this.preTouchRelease = () => {};\n    this.touch = this.touchMove = this.touchRelease = () => {};\n\n    const allActiveTouches = {};\n    const keys = this.keys;\n\n    function cloneTouch(touch) {\n      return { identifier: touch.identifier, clientX: touch.clientX, clientY: touch.clientY };\n    }\n\n    function updateKeyState() {\n      const allActiveKeys = {};\n\n      // Check/set \"key-down\" status for all keys that are currently touched.\n      Object.keys(allActiveTouches).forEach(id => {\n        const touch = allActiveTouches[id];\n        const el = document.elementFromPoint(touch.clientX, touch.clientY);\n        let key = el ? keys[el.index] : null;\n        if (key) {\n          allActiveKeys[el.index] = id;\n          if (!key.state) {\n            key.down();\n          }\n        } else {\n          delete allActiveTouches[id];\n        }\n      });\n\n      // Set \"key-up\" status for all keys that are untouched.\n      keys.forEach(key => {\n        if (key.state && !allActiveKeys[key.pad.index]) {\n          key.up();\n        }\n      });\n    }\n\n    function handleTouchStartAndMove(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      for (let i = 0; i < e.changedTouches.length; i++){\n        const touch = e.changedTouches[i];\n        allActiveTouches[touch.identifier] = cloneTouch(touch);\n      }\n      updateKeyState();\n    }\n\n    function handleTouchEnd(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      for (let i = 0; i < e.changedTouches.length; i++){\n        const touch = e.changedTouches[i];\n        delete allActiveTouches[touch.identifier];\n      }\n      updateKeyState();\n    }\n\n    this.element.addEventListener('touchstart', handleTouchStartAndMove);\n    this.element.addEventListener('touchmove', handleTouchStartAndMove);\n    this.element.addEventListener('touchend', handleTouchEnd);\n  }\n\n  /**\n  Define the pitch range (lowest and highest note) of the piano keyboard.\n  @param low {number} MIDI note value of the lowest note on the keyboard\n  @param high {number} MIDI note value of the highest note on the keyboard\n  */\n  setRange(low,high) {\n    this.range.low = low;\n    this.range.high = high;\n    this.empty();\n    this.buildInterface();\n  }\n\n  /**\n  Turn a key on or off using its MIDI note value;\n  @param note {number} MIDI note value of the key to change\n  @param on {boolean} Whether the note should turn on or off\n  */\n  toggleKey(note, on) {\n    this.keys[note-this.range.low].flip(on);\n  }\n\n  /**\n  Turn a key on or off using its key index on the piano interface.\n  @param index {number} Index of the key to change\n  @param on {boolean} Whether the note should turn on or off\n  */\n  toggleIndex(index, on) {\n    this.keys[index].flip(on);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/interfaces/piano.js","'use strict';\n\nlet svg = require('../util/svg');\nlet dom = require('../util/dom');\nlet Interface = require('../core/interface');\nlet ButtonTemplate = require('../components/buttontemplate');\nlet MatrixModel = require('../models/matrix');\nlet CounterModel = require('../models/counter');\nlet Interval = require('../time/interval');\nlet touch = require('../util/touch');\n\nclass MatrixCell extends ButtonTemplate {\n  constructor() {\n    let options = ['value'];\n\n    let defaults = {\n      size: [80, 80],\n      target: false,\n      mode: 'toggle',\n      value: 0,\n      paddingRow: 2,\n      paddingColumn: 2\n    };\n\n    super(arguments, options, defaults);\n\n    this.index = this.settings.index;\n    this.row = this.settings.row;\n    this.column = this.settings.column;\n\n    this.matrix = this.settings.matrix;\n\n    /**\n     *  Amount of row padding\n     *  @type {number}\n     */\n    this.paddingRow = this.settings.paddingRow || defaults.paddingRow;\n\n    /**\n     *  Amount of column padding\n     *  @type {number}\n     */\n    this.paddingColumn = this.settings.paddingColumn || defaults.paddingColumn;\n\n    this.interacting = false;\n    this.paintbrush = false;\n\n    this.init();\n    this.render();\n  }\n\n  buildFrame() {\n    this.element = svg.create('svg');\n    this.element.setAttribute('width', this.width);\n    this.element.setAttribute('height', this.height);\n    this.element.style.top = '0px';\n    this.element.style.left = '0px';\n    this.element.style.position = 'absolute';\n    this.parent.appendChild(this.element);\n  }\n\n  buildInterface() {\n    this.pad = svg.create('rect');\n    this.element.appendChild(this.pad);\n\n    this.interactionTarget = this.pad;\n\n    /* events */\n\n    if (!touch.exists) {\n      this.click = () => {\n        this.matrix.interacting = true;\n        this.matrix.paintbrush = !this.state;\n        this.down(this.matrix.paintbrush);\n      };\n      this.pad.addEventListener('mouseover', () => {\n        if (this.matrix.interacting) {\n          this.down(this.matrix.paintbrush);\n        }\n      });\n\n      this.move = () => {};\n      this.pad.addEventListener('mousemove', e => {\n        if (this.matrix.interacting) {\n          if (!this.offset) {\n            this.offset = dom.findPosition(this.element);\n          }\n          this.mouse = dom.locateMouse(e, this.offset);\n          this.bend();\n        }\n      });\n\n      this.release = () => {\n        this.matrix.interacting = false;\n      };\n      this.pad.addEventListener('mouseup', () => {\n        if (this.matrix.interacting) {\n          this.up();\n        }\n      });\n      this.pad.addEventListener('mouseout', () => {\n        if (this.matrix.interacting) {\n          this.up();\n        }\n      });\n    }\n  }\n\n  sizeInterface() {\n    this.pad.setAttribute('x', this.paddingColumn / 2);\n    this.pad.setAttribute('y', this.paddingRow / 2);\n    if (this.width > 2) {\n      this.pad.setAttribute('width', this.width - this.paddingColumn);\n    } else {\n      this.pad.setAttribute('width', this.width);\n    }\n    if (this.height > 2) {\n      this.pad.setAttribute('height', this.height - this.paddingRow);\n    } else {\n      this.pad.setAttribute('height', this.height);\n    }\n    this.pad.setAttribute('fill', this.matrix.colors.fill);\n  }\n\n  render() {\n    if (!this.state) {\n      this.pad.setAttribute('fill', this.matrix.colors.fill);\n    } else {\n      this.pad.setAttribute('fill', this.matrix.colors.accent);\n    }\n  }\n}\n\n/**\n * Sequencer\n *\n * @description Grid of buttons with built-in step sequencer.\n *\n * @demo <div nexus-ui=\"sequencer\" style=\"width:400px;height:200px;\"></div>\n *\n * @example\n * var sequencer = new Nexus.Sequencer('#target')\n *\n * @example\n * var sequencer = new Nexus.Sequencer('#target',{\n *  'size': [400,200],\n *  'mode': 'toggle',\n *  'rows': 5,\n *  'columns': 10,\n *  'paddingRow': 10,\n *  'paddingColumn': 20\n *})\n *\n * @output\n * change\n * Fires any time the interface's matrix changes. <br>\n * The event data is an object containing <i>row</i> (number), <i>column</i> (number), and <i>state</i> (boolean) properties.\n *\n * @outputexample\n * sequencer.on('change',function(v) {\n *   console.log(v);\n * })\n *\n * @output\n * step\n * Fires any time the sequencer steps to the next column, in sequece mode. <br>\n * The event data is an <i>array</i> containing all values in the column, <i>bottom row first</i>.\n *\n * @outputexample\n * sequencer.on('step',function(v) {\n *   console.log(v);\n * })\n */\n\nexport default class Sequencer extends Interface {\n  constructor() {\n    let options = ['value'];\n\n    let defaults = {\n      size: [400, 200],\n      mode: 'toggle',\n      rows: 5,\n      columns: 10\n    };\n\n    super(arguments, options, defaults);\n\n    this.active = -1;\n\n    /**\n     * Button interaction mode: see Button\n     * @type {string}\n     * @example button.mode = 'toggle';\n     */\n    this.mode = this.settings.mode;\n\n    /**\n     * The interval object which controls timing and sequence scheduling.\n     * @type {interval}\n     */\n    this.interval = new Interval(200, function() {}, false); // jshint ignore:line\n\n    /**\n     * A Matrix model containing methods for manipulating the sequencer's array of values. To learn how to manipulate the matrix, read about the matrix model.\n     * @type {matrix}\n     */\n    this.matrix = new MatrixModel(this.settings.rows, this.settings.columns);\n    this.matrix.ui = this;\n\n    /**\n     * A Counter model which the sequencer steps through. For example, you could use this model to step through the sequencer in reverse, randomly, or in a drunk walk.\n     * @type {counter}\n     */\n    this.stepper = new CounterModel(0, this.columns);\n\n    this.paddingRow = this.settings.paddingRow;\n    this.paddingColumn = this.settings.paddingColumn;\n\n    this.init();\n  }\n\n  buildFrame() {\n    this.element = document.createElement('div');\n    this.element.style.position = 'relative';\n    this.element.style.display = 'block';\n    this.element.style.width = '100%';\n    this.element.style.height = '100%';\n    this.parent.appendChild(this.element);\n    if (touch.exists) {\n      this.addTouchListeners();\n    }\n  }\n\n  buildInterface() {\n    this.cells = [];\n    for (let i = 0; i < this.matrix.length; i++) {\n      let location = this.matrix.locate(i);\n      // returns {row,col}\n\n      let container = document.createElement('span');\n      container.style.position = 'absolute';\n\n      let cell = new MatrixCell(\n        container,\n        {\n          component: true,\n          index: i,\n          row: location.row,\n          column: location.column,\n          mode: this.mode,\n          matrix: this,\n          paddingRow: this.paddingRow,\n          paddingColumn: this.paddingColumn\n        },\n        this.keyChange.bind(this, i)\n      );\n\n      //  cell.matrix = this;\n      if (touch.exists) {\n        cell.pad.index = i;\n        cell.preClick = cell.preMove = cell.preRelease = () => {};\n        cell.click = cell.move = cell.release = () => {};\n        cell.preTouch = cell.preTouchMove = cell.preTouchRelease = () => {};\n        cell.touch = cell.touchMove = cell.touchRelease = () => {};\n      }\n\n      this.cells.push(cell);\n      this.element.appendChild(container);\n    }\n    this.sizeInterface();\n  }\n\n  sizeInterface() {\n    let cellWidth = this.width / this.columns;\n    let cellHeight = this.height / this.rows;\n\n    for (let i = 0; i < this.cells.length; i++) {\n      let container = this.cells[i].parent;\n      container.style.left = this.cells[i].column * cellWidth + 'px';\n      container.style.top = this.cells[i].row * cellHeight + 'px';\n      this.cells[i].resize(cellWidth, cellHeight);\n    }\n  }\n\n  colorInterface() {\n    for (var i = 0; i < this.cells.length; i++) {\n      this.cells[i].render();\n    }\n  }\n\n  update() {\n    //  console.log(\"updating...\")\n    //on = on || false;\n    this.matrix.iterate((r, c, i) => {\n      //  console.log(this.matrix.pattern[r][c], this.cells[i].state);\n      if (this.matrix.pattern[r][c] !== this.cells[i].state) {\n        if (this.matrix.pattern[r][c] > 0) {\n          this.cells[i].turnOn();\n        } else {\n          this.cells[i].turnOff();\n        }\n      }\n    });\n  }\n\n  // update => cell.turnOn => cell.emit => keyChange (seq.emit) => matrix.set.cell => update\n  //\n  // interaction => keyChange => matrix.set.cell => update => cell.turnOn\n  //                                             => emit\n  //\n  // set.cell => update => needs to emit.\n\n  keyChange(note, on) {\n    // emit data for any key turning on/off\n    // i is the note index\n    // v is whether it is on or off\n    let cell = this.matrix.locate(note);\n    //  this.matrix.set.cell(cell.column,cell.row,on);\n    this.matrix.pattern[cell.row][cell.column] = on;\n    var data = {\n      row: cell.row,\n      column: cell.column,\n      state: on\n    };\n    this.emit('change', data);\n  }\n\n  render() {\n    if (this.stepper.value >= 0) {\n      this.matrix.iterate((r, c, i) => {\n        if (c === this.stepper.value) {\n          this.cells[i].pad.setAttribute('stroke', this.colors.mediumLight);\n          this.cells[i].pad.setAttribute('stroke-width', '1');\n          this.cells[i].pad.setAttribute('stroke-opacity', '1');\n        } else {\n          this.cells[i].pad.setAttribute('stroke', 'none');\n        }\n      });\n    }\n  }\n\n  /**\n   * Start sequencing\n   * @param  {number} ms Beat tempo in milliseconds\n   */\n  start(ms) {\n    this.interval.event = this.next.bind(this);\n    if (ms) {\n      this.interval.ms(ms);\n    }\n    this.interval.start();\n  }\n\n  /**\n  Stop sequencing\n  */\n  stop() {\n    this.interval.stop();\n  }\n\n  /**\n  Manually jump to the next column and trigger the 'change' event. The \"next\" column is determined by your mode of sequencing.\n  */\n  next() {\n    this.stepper.next();\n    this.emit('step', this.matrix.column(this.stepper.value).reverse());\n    this.render();\n  }\n\n  addTouchListeners() {\n    this.preClick = this.preMove = this.preRelease = () => {};\n    this.click = this.move = this.release = () => {};\n    this.preTouch = this.preTouchMove = this.preTouchRelease = () => {};\n    this.touch = this.touchMove = this.touchRelease = () => {};\n\n    this.currentElement = false;\n\n    this.element.addEventListener('touchstart', e => {\n      let element = document.elementFromPoint(\n        e.targetTouches[0].clientX,\n        e.targetTouches[0].clientY\n      );\n      let cell = this.cells[element.index];\n      this.paintbrush = !cell.state;\n      cell.down(this.paintbrush);\n      this.currentElement = element.index;\n      e.preventDefault();\n      e.stopPropagation();\n    });\n\n    this.element.addEventListener('touchmove', e => {\n      let element = document.elementFromPoint(\n        e.targetTouches[0].clientX,\n        e.targetTouches[0].clientY\n      );\n      let cell = this.cells[element.index];\n      if (element.index !== this.currentElement) {\n        if (this.currentElement >= 0) {\n          let pastCell = this.cells[this.currentElement];\n          pastCell.up();\n        }\n        cell.down(this.paintbrush);\n      } else {\n        cell.bend();\n      }\n      this.currentElement = element.index;\n      e.preventDefault();\n      e.stopPropagation();\n    });\n\n    this.element.addEventListener('touchend', e => {\n      // no touches to calculate because none remaining\n      let cell = this.cells[this.currentElement];\n      cell.up();\n      this.interacting = false;\n      this.currentElement = false;\n      e.preventDefault();\n      e.stopPropagation();\n    });\n  }\n\n  /**\n  Number of rows in the sequencer\n  @type {number}\n  */\n  get rows() {\n    return this.matrix.rows;\n  }\n\n  set rows(v) {\n    this.matrix.rows = v;\n    this.empty();\n    this.buildInterface();\n    this.update();\n  }\n\n  /**\n  Number of columns in the sequencer\n  @type {number}\n  */\n  get columns() {\n    return this.matrix.columns;\n  }\n\n  set columns(v) {\n    this.matrix.columns = v;\n    this.stepper.max = v;\n    this.empty();\n    this.buildInterface();\n    this.update();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/interfaces/sequencer.js","'use strict';\n\nimport math from '../util/math';\nimport Sequence from '../models/sequence';\n\n// For the tutorial, looking at\n\n//Pattern section:\n// .create(), .rows, .columns,\n// .pattern, .length, .formatAsText(), .log(),\n// .locate(i), .indexOf(c,r)\n// row(), column() (returns contents of row or colum)\n\n//Control section:\n// toggle x3\n// set x4\n// rotate x3\n// populate x3\n// erase x3\n\n\n// should some version of this have a float value for each cell?\n// could be like a mirror .pattern that has values. by default, everything is 1, but could be set...\n// not a good way to do that on interface, but as a model it would be nice...\n// for .formatAsText(), could multiply by 100 and floor, so each cell is an int from 0 to 9\n\nexport default class Matrix {\n\n  constructor(rows,columns) {\n    // should also have ability to create using an existing matrix (2d array)\n    this.pattern = [];\n    this.create(rows,columns);\n\n    this.toggle = {\n      cell: (column, row) => {\n        this.pattern[row][column] = !this.pattern[row][column]; // math.invert(this.pattern[row][column]);\n        if (this.ui) { this.ui.update(); }\n        return this.pattern[row][column];\n      },\n      all: () => {\n        this.iterate((r,c) => { this.toggle.cell(c,r); });\n        if (this.ui) { this.ui.update(); }\n      },\n      row: (row) => {\n        for (let i=0; i<this.columns; i++) {\n          this.toggle.cell(i,row);\n        }\n        if (this.ui) { this.ui.update(); }\n      },\n      column: (column) => {\n        for (let i=0; i<this.rows; i++) {\n          this.toggle.cell(column,i);\n        }\n        if (this.ui) { this.ui.update(); }\n      }\n    };\n\n    this.set = {\n      cell: (column, row, value) => {\n        this.pattern[row][column] = value;\n        if (this.ui) { this.ui.update(); }\n      },\n      all: (values) => {\n        // set the whole matrix using a 2d array as input\n        // this should also resize the array?\n        this.pattern = values;\n        if (this.ui) { this.ui.update(); }\n      },\n      row: (row,values) => {\n        // set a row using an array as input\n        this.pattern[row] = values;\n        if (this.ui) { this.ui.update(); }\n      },\n      column: (column,values) => {\n        // set a column using an array as input\n        this.pattern.forEach((row,i) => {\n          this.pattern[i][column] = values[i];\n        });\n        if (this.ui) { this.ui.update(); }\n      }\n    };\n\n    this.rotate = {\n      //should eventually do (amountX, amountY) here\n      // could just use a loop and this.rotate.row(i,amountX);\n      all: (amount) => {\n        if (!amount && amount!==0) {\n          amount = 1;\n        }\n        amount %= this.pattern[0].length;\n        if (amount < 0) {\n          amount = this.pattern[0].length + amount;\n        }\n        for (let i=0; i<this.rows; i++) {\n          let cut = this.pattern[i].splice( this.pattern[i].length - amount, amount );\n          this.pattern[i] = cut.concat( this.pattern[i] );\n        }\n        if (this.ui) { this.ui.update(); }\n      },\n      row: (row,amount) => {\n        if (!amount && amount!==0) {\n          amount = 1;\n        }\n        amount %= this.pattern[0].length;\n        if (amount < 0) {\n          amount = this.pattern[0].length + amount;\n        }\n        let cut = this.pattern[row].splice( this.pattern[row].length - amount, amount );\n        this.pattern[row] = cut.concat( this.pattern[row] );\n        if (this.ui) { this.ui.update(); }\n      },\n      column: (column, amount) => {\n        if (!amount && amount!==0) {\n          amount = 1;\n        }\n        amount %= this.pattern.length;\n        if (amount < 0) {\n          amount = this.pattern.length + amount;\n        }\n        let proxy = [];\n        this.pattern.forEach((row) => {\n          proxy.push( row[column] );\n        });\n        let cut = proxy.splice( proxy.length - amount, amount );\n        proxy = cut.concat( proxy );\n        this.pattern.forEach((row,i) => {\n          row[column] = proxy[i];\n        });\n        if (this.ui) { this.ui.update(); }\n      }\n    };\n\n    // the idea behind populate is to be able to set a whole row or column to 0 or 1\n    // IF the value is a float, such as 0.7, then it would become a probability\n    // so populate(0.7) would give each cell a 70% chance of being 1\n    this.populate = {\n      all: (odds) => {\n        let oddsSequence = new Sequence(odds);\n        this.iterate((r,c) => {\n          this.pattern[r][c] = math.coin(oddsSequence.next());\n        });\n        // This could be used so that each row has same odds pattern, even if row length is not divisibly by sequence length.\n        //,() => {\n        //  odds.pos = -1;\n        // }\n        if (this.ui) { this.ui.update(); }\n      },\n      row: (row=0,odds=1) => {\n        let oddsSequence = new Sequence(odds);\n        this.pattern[row].forEach((cell,i) => {\n          this.pattern[row][i] = math.coin(oddsSequence.next());\n        });\n        if (this.ui) { this.ui.update(); }\n      },\n      column: (column=0,odds=1) => {\n        let oddsSequence = new Sequence(odds);\n        this.pattern.forEach((row,i) => {\n          this.pattern[i][column] = math.coin(oddsSequence.next());\n        });\n        if (this.ui) { this.ui.update(); }\n      }\n    };\n\n    // essentiall populate(0) so i'm not sure if this is necessary but is nice\n    this.erase = {\n      all: () => {\n        this.set.all(0);\n      },\n      row: (row) => {\n        this.set.row(row,0);\n      },\n      column: (column) => {\n        this.set.column(column,0);\n      }\n    };\n\n  // end constructor\n  }\n\n\n  create(rows,columns) {\n    this.pattern = [];\n    for ( let row=0; row < rows; row++ ) {\n      let arr = new Array(columns);\n      this.pattern.push(arr);\n    }\n    this.iterate((r,c) => { this.pattern[r][c] = false; });\n  }\n\n  iterate(f, f2) {\n    let i = 0;\n    for ( let row=0; row < this.rows; row++ ) {\n      if (f2) { f2(row); }\n      for ( let column=0; column < this.columns; column++ ) {\n        f(row,column,i);\n        i++;\n      }\n    }\n  }\n\n  formatAsText() {\n    let patternString = '';\n    this.iterate(\n      (r,c) => { patternString += (this.pattern[r][c] ? 1 : 0) + ' '; },\n      () => { patternString += '\\n'; }\n    );\n    return patternString;\n  }\n\n  log() {\n    console.log(this.formatAsText());\n  }\n\n  update(pattern) {\n    this.pattern = pattern || this.pattern;\n  }\n\n  get length() {\n    return this.rows*this.columns;\n  }\n\n  locate(index) {\n    // returns row and column of cell by index\n    return {\n      row: ~~( index / this.columns ),\n      column: index % this.columns\n    };\n  }\n\n  indexOf(row,column) {\n    return column + row * this.columns;\n    // returns index of cell by row and column\n  }\n\n  row(row) {\n    let data = [];\n    for (let i=0; i<this.columns; i++) {\n      data.push(this.pattern[row] ? 1 : 0);\n    }\n    return data;\n  }\n\n  column(column) {\n    let data = [];\n    for (let i=0; i<this.rows; i++) {\n      data.push(this.pattern[i][column] ? 1 : 0);\n    }\n    return data;\n  }\n\n  get rows() {\n    return this.pattern.length;\n  }\n  set rows(v) {\n    let previous = this.pattern.slice(0);\n    this.create(v,this.columns);\n    this.iterate((r,c) => {\n      if (previous[r] && previous[r][c]) {\n        this.pattern[r][c] = previous[r][c];\n      }\n    });\n  }\n\n  get columns() {\n    return this.pattern[0].length;\n  }\n  set columns(v) {\n    let previous = this.pattern.slice(0);\n    this.create(this.rows,v);\n    this.iterate((r,c) => {\n      if (previous[r] && previous[r][c]) {\n        this.pattern[r][c] = previous[r][c];\n      }\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/models/matrix.js","'use strict';\r\n\r\nimport math from '../util/math';\r\nimport Drunk from './drunk';\r\n\r\nexport default class Sequence {\r\n\r\n    constructor(sequence = [0,10,20,30], mode='up', position=false) {\r\n        this.values = sequence;\r\n        if (!Array.isArray(this.values)) {\r\n          this.values = [this.values];\r\n        }\r\n        this._mode = mode;\r\n        this.position = position;\r\n\r\n        this.drunkWalk = new Drunk(0, this.values.length - 1);\r\n\r\n        this.startValues = {\r\n          'up': 0,\r\n          'down': this.values.length - 1,\r\n          'drunk': ~~(this.values.length/2),\r\n          'random': math.ri(this.values.length)\r\n        };\r\n\r\n        if (this.position!==false) {\r\n          this.next = this[this._mode];\r\n        } else {\r\n          this.next = this.first;\r\n        }\r\n\r\n\r\n    }\r\n\r\n    get mode() {\r\n      return this._mode;\r\n    }\r\n\r\n    set mode(mode) {\r\n        if (!(mode === 'up' || mode === 'down' || mode === 'random' || mode === 'drunk')) {\r\n            console.error('The only modes currently allowed are: up, down, random, drunk');\r\n            return;\r\n        }\r\n        this._mode = mode;\r\n        if (this.position) {\r\n          this.next = this[this._mode];\r\n        }\r\n    }\r\n\r\n    get value() {\r\n      return this.values[this.position];\r\n    }\r\n\r\n    set value(v) {\r\n      this.position = this.values.indexOf(v);\r\n    }\r\n\r\n    first() {\r\n      if (this.position!==false) {\r\n        this.next = this[this._mode];\r\n        return this.next();\r\n      }\r\n      this.position = this.startValues[this._mode];\r\n      this.next = this[this._mode];\r\n      return this.value;\r\n    }\r\n\r\n    up() {\r\n      this.position++;\r\n      this.position %= this.values.length;\r\n      return this.value;\r\n    }\r\n\r\n    down() {\r\n      this.position--;\r\n      if (this.position < 0) {\r\n        this.position = (this.position + this.values.length) % this.values.length;\r\n      }\r\n      return this.value;\r\n    }\r\n\r\n    random() {\r\n      this.position = math.ri(0, this.values.length);\r\n      return this.value;\r\n    }\r\n\r\n    drunk() {\r\n      this.drunkWalk.max = this.values.length;\r\n      this.drunkWalk.value = this.position;\r\n      this.position = this.drunkWalk.next();\r\n      return this.value;\r\n    }\r\n\r\n    /* future methods\r\n    .group(start,stop) -- outputs a group of n items from the list, with wrapping\r\n    .loop(start,stop) -- confines sequencing to a subset of the values\r\n        (could even have a distinction between .originalValues and the array of values being used)\r\n    */\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/models/sequence.js","'use strict';\n\nimport math from '../util/math';\n\nexport default class Drunk {\n\n    constructor(min=0, max=9, value=0, increment=1, loop=false) {\n        this.min = min;\n        this.max = max;\n        this.value = value;\n        this.increment = increment;\n        this.loop = loop;\n    }\n\n    next() {\n        this.value += math.pick(-1 * this.increment, this.increment);\n        if (this.value > this.max) {\n            if (this.loop) {\n                this.value = this.min;\n            } else {\n                this.value = this.max - this.increment;\n            }\n        }\n\n        if (this.value < this.min) {\n            if (this.loop) {\n                this.value = this.max;\n            } else {\n                this.value = this.min + this.increment;\n            }\n        }\n        return this.value;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/models/drunk.js","'use strict';\n\nimport math from '../util/math';\nimport Drunk from './drunk';\n\nexport default class Counter {\n\n    constructor(min=0, max=10, mode='up', value=false) {\n        this.min = min;\n        this.max = max;\n        this.value = value;\n        this.mode = mode;\n        this.drunkWalk = new Drunk(this.min, this.max);\n        if (this.value!==false) {\n          this.next = this[this._mode];\n        } else {\n          this.next = this.first;\n        }\n    }\n\n    set mode(mode) {\n        if (!(mode === 'up' || mode === 'down' || mode === 'random' || mode === 'drunk')) {\n            console.error('The only modes currently allowed are: up, down, random, drunk');\n            return;\n        }\n        this._mode = mode;\n        if (this.value) {\n          this.next = this[this._mode];\n        }\n    }\n\n    get mode() {\n        return this._mode;\n    }\n\n    first() {\n      if (this.value!==false) {\n        this.next = this[this._mode];\n        return this.next();\n      }\n      this.startValues = {\n        'up': this.min,\n        'down': this.max,\n        'drunk': ~~math.average(this.min,this.max),\n        'random': math.ri(this.min,this.max)\n      };\n      this.value = this.startValues[this._mode];\n      this.next = this[this._mode];\n      return this.value;\n    }\n\n    up() {\n        this.value++;\n        if (this.value >= this.max) {\n            this.value = this.min;\n        }\n        return this.value;\n    }\n\n    down() {\n        this.value--;\n        if (this.value < this.min) {\n            this.value = this.max;\n        }\n        return this.value;\n    }\n\n    random() {\n        this.value = math.ri(this.min, this.max);\n        return this.value;\n    }\n\n    drunk() {\n        this.drunkWalk.min = this.min;\n        this.drunkWalk.max = this.max;\n        this.drunkWalk.value = this.value;\n        this.value = this.drunkWalk.next();\n        return this.value;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/models/counter.js","'use strict';\n\nimport { clock } from '../main';\n\nexport default class Interval {\n\n  constructor(rate,func,on) {\n\n    this.rate = rate;\n    this.on = on;\n    this.clock = clock(); // jshint ignore:line\n\n    this.pattern = [1];\n    this.index = 0;\n\n    this.event = func ? func : function() { };\n\n    if (this.on) {\n      this.start();\n    }\n\n  }\n\n  _event(e) {\n  //  if (this.pattern[this.index%this.pattern.length]) {\n      this.event(e);\n  //  }\n    this.index++;\n  }\n\n  stop() {\n    this.on = false;\n    this.interval.clear();\n  }\n\n  start() {\n    this.on = true;\n    this.interval = this.clock.callbackAtTime(this._event.bind(this), this.clock.context.currentTime).repeat(this.rate/1000).tolerance({early: 0.1, late:1});\n  }\n\n  ms(newrate) {\n    if (this.on) {\n      var ratio = newrate/this.rate;\n      this.rate = newrate;\n      this.clock.timeStretch(this.clock.context.currentTime, [this.interval], ratio);\n    } else {\n      this.rate = newrate;\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/time/interval.js","'use strict';\n\nlet svg = require('../util/svg');\nlet math = require('../util/math');\nlet Interface = require('../core/interface');\nlet Step = require('../models/step');\nimport * as Interaction from '../util/interaction';\n\n/**\n* Pan2D\n*\n* @description Interface for moving a sound around an array of speakers. Speaker locations can be customized. The interface calculates the closeness of the sound source to each speaker and returns that distance as a numeric value.\n*\n* @demo <span nexus-ui=\"pan2D\"></span>\n*\n* @example\n* var pan2d = new Nexus.Pan2d('#target')\n*\n* @example\n* var pan2d = new Nexus.Pan2D('#target',{\n*   'size': [200,200],\n*   'range': 0.5,  // detection radius of each speaker\n*   'mode': 'absolute',   // 'absolute' or 'relative' sound movement\n*   'speakers': [  // the speaker [x,y] positions\n*       [0.5,0.2],\n*       [0.75,0.25],\n*       [0.8,0.5],\n*       [0.75,0.75],\n*       [0.5,0.8],\n*       [0.25,0.75]\n*       [0.2,0.5],\n*       [0.25,0.25]\n*   ]\n* })\n*\n* @output\n* change\n* Fires any time the \"source\" node's position changes. <br>\n* The event data is an array of the amplitudes (0-1), representing the level of each speaker (as calculated by its distance to the audio source).\n*\n* @outputexample\n* pan2d.on('change',function(v) {\n*   console.log(v);\n* })\n*\n*/\n\nexport default class Pan2D extends Interface {\n\n  constructor() {\n\n    let options = ['range'];\n\n    let defaults = {\n      'size': [200,200],\n      'range': 0.5,\n      'mode': 'absolute',\n      'speakers': [\n        [0.5,0.2],\n        [0.75,0.25],\n        [0.8,0.5],\n        [0.75,0.75],\n        [0.5,0.8],\n        [0.25,0.75],\n        [0.2,0.5],\n        [0.25,0.25]\n      ]\n    };\n\n    super(arguments,options,defaults);\n\n    this.value = {\n      x: new Step(0,1,0,0.5),\n      y: new Step(0,1,0,0.5)\n    };\n\n    /**\n    Absolute or relative mouse interaction. In \"absolute\" mode, the source node will jump to your mouse position on mouse click. In \"relative\" mode, it does not.\n    */\n    this.mode = this.settings.mode;\n\n    this.position = {\n      x: new Interaction.Handle(this.mode,'horizontal',[0,this.width],[this.height,0]),\n      y: new Interaction.Handle(this.mode,'vertical',[0,this.width],[this.height,0])\n    };\n    this.position.x.value = this.value.x.normalized;\n    this.position.y.value = this.value.y.normalized;\n\n    /**\n    An array of speaker locations. Update this with .moveSpeaker() or .moveAllSpeakers()\n    */\n    this.speakers = this.settings.speakers;\n\n    /**\n    Rewrite: The maximum distance from a speaker that the source node can be for it to be heard from that speaker. A low range (0.1) will result in speakers only playing when the sound is very close it. Default is 0.5 (half of the interface).\n    */\n    this.range = this.settings.range;\n\n    /**\n    The current levels for each speaker. This is calculated when a source node or speaker node is moved through interaction or programatically.\n    */\n    this.levels = [];\n\n    this.init();\n\n    this.calculateLevels();\n    this.render();\n\n  }\n\n  buildInterface() {\n\n    this.knob = svg.create('circle');\n\n\n    this.element.appendChild(this.knob);\n\n\n    // add speakers\n    this.speakerElements = [];\n\n    for (let i=0;i<this.speakers.length;i++) {\n      let speakerElement = svg.create('circle');\n\n      this.element.appendChild(speakerElement);\n\n      this.speakerElements.push(speakerElement);\n    }\n\n  }\n\n  sizeInterface() {\n\n        this._minDimension = Math.min(this.width,this.height);\n\n        this.knobRadius = {\n          off: ~~(this._minDimension/100) * 3 + 5,\n        };\n        this.knobRadius.on = this.knobRadius.off * 2;\n\n        this.knob.setAttribute('cx',this.width/2);\n        this.knob.setAttribute('cy',this.height/2);\n        this.knob.setAttribute('r',this.knobRadius.off);\n\n        for (let i=0;i<this.speakers.length;i++) {\n          let speakerElement = this.speakerElements[i];\n          let speaker = this.speakers[i];\n          speakerElement.setAttribute('cx',speaker[0]*this.width);\n          speakerElement.setAttribute('cy',speaker[1]*this.height);\n          speakerElement.setAttribute('r',this._minDimension/20 + 5);\n          speakerElement.setAttribute('fill-opacity', '0');\n        }\n\n      this.position.x.resize([0,this.width],[this.height,0]);\n      this.position.y.resize([0,this.width],[this.height,0]);\n\n        // next, need to\n        // resize positions\n        // calculate speaker distances\n      this.calculateLevels();\n      this.render();\n\n  }\n\n  colorInterface() {\n\n    this.element.style.backgroundColor = this.colors.fill;\n    this.knob.setAttribute('fill', this.colors.mediumLight);\n\n    for (let i=0;i<this.speakers.length;i++) {\n      let speakerElement = this.speakerElements[i];\n      speakerElement.setAttribute('fill', this.colors.accent);\n      speakerElement.setAttribute('stroke', this.colors.accent);\n    }\n\n  }\n\n  render() {\n    this.knobCoordinates = {\n      x: this.value.x.normalized * this.width,\n      y: this.height - this.value.y.normalized * this.height\n    };\n\n    this.knob.setAttribute('cx',this.knobCoordinates.x);\n    this.knob.setAttribute('cy',this.knobCoordinates.y);\n  }\n\n\n  click() {\n    this.position.x.anchor = this.mouse;\n    this.position.y.anchor = this.mouse;\n    this.move();\n  }\n\n  move() {\n    if (this.clicked) {\n      this.position.x.update(this.mouse);\n      this.position.y.update(this.mouse);\n      // position.x and position.y are normalized\n      // so are the levels\n      // likely don't need this.value at all -- only used for drawing\n      // not going to be a 'step' or 'min' and 'max' in this one.\n      this.calculateLevels();\n      this.emit('change',this.levels);\n      this.render();\n    }\n  }\n\n  release() {\n    this.render();\n  }\n\n  get normalized() {\n    return {\n      x: this.value.x.normalized,\n      y: this.value.y.normalized\n    };\n  }\n\n  calculateLevels() {\n    this.value.x.updateNormal( this.position.x.value );\n    this.value.y.updateNormal( this.position.y.value );\n    this.levels = [];\n    this.speakers.forEach((s,i) => {\n      let distance = math.distance(s[0]*this.width,s[1]*this.height,this.position.x.value*this.width,(1-this.position.y.value)*this.height);\n      let level = math.clip(1-distance/(this.range*this.width),0,1);\n      this.levels.push(level);\n      this.speakerElements[i].setAttribute('fill-opacity', level);\n    });\n  }\n\n  /**\n  Move the audio source node and trigger the output event.\n  @param x {number} New x location, normalized 0-1\n  @param y {number} New y location, normalized 0-1\n  */\n  moveSource(x,y) {\n    let location = {\n      x: x*this.width,\n      y: y*this.height\n    };\n    this.position.x.update(location);\n    this.position.y.update(location);\n    this.calculateLevels();\n    this.emit('change',this.levels);\n    this.render();\n  }\n\n  /**\n  Move a speaker node and trigger the output event.\n  @param index {number} Index of the speaker to move\n  @param x {number} New x location, normalized 0-1\n  @param y {number} New y location, normalized 0-1\n  */\n  moveSpeaker(index,x,y) {\n\n    this.speakers[index] = [x,y];\n    this.speakerElements[index].setAttribute('cx', x*this.width);\n    this.speakerElements[index].setAttribute('cy', y*this.height);\n    this.calculateLevels();\n    this.emit('change',this.levels);\n    this.render();\n\n  }\n\n  /**\n  Set all speaker locations\n  @param locations {Array} Array of speaker locations. Each item in the array should be an array of normalized x and y coordinates.\n\n  setSpeakers(locations) {\n\n  }\n  */\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/interfaces/pan2d.js","'use strict';\n\nlet math = require('../util/math');\nlet svg = require('../util/svg');\nlet Interface = require('../core/interface');\n\n/**\n* Tilt\n*\n* @description Device tilt sensor with 2 or 3 axes (depending on your device and browser).\n*\n* @demo <span nexus-ui='tilt'></span>\n*\n* @example\n* var tilt = new Nexus.Tilt('#target')\n*\n* @output\n* change\n* Fires at a regular interval, as long as this interface is active (see the interface's <i>.active</i> property)<br>\n* The event data is an <i>object</i> containing x (number) and y (number) properties which represent the current tilt state of the device.\n*\n* @outputexample\n* tilt.on('change',function(v) {\n*   console.log(v);\n* })\n*\n*\n*/\n\nexport default class Tilt extends Interface {\n\n  constructor() {\n\n    let options = ['value'];\n\n    let defaults = {\n      'size': [80,80]\n    };\n\n    super(arguments,options,defaults);\n\n    this._active = true;\n\n    this.init();\n\n    // add event listener for device orientation\n\n  \tthis.boundUpdate = this.update.bind(this);\n  //\tthis.boundMozTilt = this.mozTilt.bind(this)\n\n  \tif (window.DeviceOrientationEvent) {\n  \t\tthis.orientationListener = window.addEventListener('deviceorientation', this.boundUpdate, false);\n  \t} else {\n      this._active = false;\n      this.colorInterface();\n    }\n\n\n\n      /*else if (window.OrientationEvent) {\n  //\t  \twindow.addEventListener('MozOrientation', this.boundMozTilt, false);\n  \t} else {\n  \t  \tconsole.log('Not supported on your device or browser.');\n  \t} */\n\n\n  }\n\n\n  buildInterface() {\n\n    this.title = svg.create('text');\n    this.circleX = svg.create('circle');\n    this.circleY = svg.create('circle');\n    this.circleZ = svg.create('circle');\n\n    this.barX = svg.create('path');\n    this.barY = svg.create('path');\n    this.barZ = svg.create('path');\n\n    this.barX2 = svg.create('path');\n    this.barY2 = svg.create('path');\n    this.barZ2 = svg.create('path');\n\n    this.barX.setAttribute('opacity','0.8');\n    this.barY.setAttribute('opacity','0.8');\n    this.barZ.setAttribute('opacity','0.8');\n    this.barX2.setAttribute('opacity','0.8');\n    this.barY2.setAttribute('opacity','0.8');\n    this.barZ2.setAttribute('opacity','0.8');\n\n    this.circleX.setAttribute('cx',this.width*3/12);\n    this.circleX.setAttribute('cy',this.height*3/4);\n    this.circleX.setAttribute('r',this.height/10);\n    this.circleX.setAttribute('opacity','0.4');\n\n    this.circleY.setAttribute('cx',this.width*6/12);\n    this.circleY.setAttribute('cy',this.height*3/4);\n    this.circleY.setAttribute('r',this.height/10);\n    this.circleY.setAttribute('opacity','0.4');\n\n    this.circleZ.setAttribute('cx',this.width*9/12);\n    this.circleZ.setAttribute('cy',this.height*3/4);\n    this.circleZ.setAttribute('r',this.height/10);\n    this.circleZ.setAttribute('opacity','0.4');\n\n\n    this.barX.setAttribute('stroke-width',Math.round(this.height/30));\n    this.barY.setAttribute('stroke-width',Math.round(this.height/30));\n    this.barZ.setAttribute('stroke-width',Math.round(this.height/30));\n\n    this.barX.setAttribute('fill', 'none');\n    this.barY.setAttribute('fill', 'none');\n    this.barZ.setAttribute('fill', 'none');\n\n    this.barX2.setAttribute('stroke-width',Math.round(this.height/30));\n    this.barY2.setAttribute('stroke-width',Math.round(this.height/30));\n    this.barZ2.setAttribute('stroke-width',Math.round(this.height/30));\n\n    this.barX2.setAttribute('fill', 'none');\n    this.barY2.setAttribute('fill', 'none');\n    this.barZ2.setAttribute('fill', 'none');\n\n\n    this.title.setAttribute('x',this.width/2);\n    this.title.setAttribute('y',this.height/3+7);\n    this.title.setAttribute('font-size','15px');\n    this.title.setAttribute('font-weight','bold');\n    this.title.setAttribute('letter-spacing','2px');\n    this.title.setAttribute('opacity','0.7');\n    this.title.setAttribute('text-anchor','middle');\n    this.title.textContent = 'TILT';\n\n\n    this.element.appendChild(this.circleX);\n    this.element.appendChild(this.circleY);\n    this.element.appendChild(this.circleZ);\n\n    this.element.appendChild(this.barX);\n    this.element.appendChild(this.barY);\n    this.element.appendChild(this.barZ);\n\n    this.element.appendChild(this.barX2);\n    this.element.appendChild(this.barY2);\n    this.element.appendChild(this.barZ2);\n\n    this.element.appendChild(this.title);\n\n  }\n\n  colorInterface() {\n\n    if (this._active) {\n      this.element.style.backgroundColor = this.colors.accent;\n      this.circleX.setAttribute('fill',this.colors.light);\n      this.circleY.setAttribute('fill',this.colors.light);\n      this.circleZ.setAttribute('fill',this.colors.light);\n      this.circleX.setAttribute('stroke',this.colors.light);\n      this.circleY.setAttribute('stroke',this.colors.light);\n      this.circleZ.setAttribute('stroke',this.colors.light);\n      this.barX.setAttribute('stroke',this.colors.light);\n      this.barY.setAttribute('stroke',this.colors.light);\n      this.barZ.setAttribute('stroke',this.colors.light);\n      this.barX2.setAttribute('stroke',this.colors.light);\n      this.barY2.setAttribute('stroke',this.colors.light);\n      this.barZ2.setAttribute('stroke',this.colors.light);\n      this.title.setAttribute('fill',this.colors.light);\n    } else {\n      this.element.style.backgroundColor = this.colors.fill;\n      this.circleX.setAttribute('fill',this.colors.mediumLight);\n      this.circleY.setAttribute('fill',this.colors.mediumLight);\n      this.circleZ.setAttribute('fill',this.colors.mediumLight);\n      this.circleX.setAttribute('stroke',this.colors.mediumLight);\n      this.circleY.setAttribute('stroke',this.colors.mediumLight);\n      this.circleZ.setAttribute('stroke',this.colors.mediumLight);\n      this.barX.setAttribute('stroke',this.colors.mediumLight);\n      this.barY.setAttribute('stroke',this.colors.mediumLight);\n      this.barZ.setAttribute('stroke',this.colors.mediumLight);\n      this.barX2.setAttribute('stroke',this.colors.mediumLight);\n      this.barY2.setAttribute('stroke',this.colors.mediumLight);\n      this.barZ2.setAttribute('stroke',this.colors.mediumLight);\n      this.title.setAttribute('fill',this.colors.mediumLight);\n    }\n\n  }\n\n  update(v) {\n    if (this._active){\n\n      let y = v.beta;\n      let x = v.gamma;\n      let z = v.alpha;\n\n      // take the original -90 to 90 scale and normalize it 0-1\n      x = math.scale(x,-90,90,0,1);\n      y = math.scale(y,-90,90,0,1);\n      z = math.scale(z,0,360,0,1);\n\n\n      let handlePoints = {\n        start: Math.PI*1.5,\n        end: math.clip( math.scale(x,0,0.5,Math.PI*1.5,Math.PI*0.5) , Math.PI*0.5, Math.PI*1.5 )\n      };\n      let handle2Points = {\n        start: Math.PI*2.5,\n        end: math.clip( math.scale(x,0.5,1,Math.PI*2.5,Math.PI*1.5) , Math.PI*1.5, Math.PI*2.5 )\n      };\n\n      let handlePath = svg.arc(this.circleX.cx.baseVal.value, this.circleX.cy.baseVal.value, this.circleX.r.baseVal.value, handlePoints.start, handlePoints.end);\n      let handle2Path = svg.arc(this.circleX.cx.baseVal.value, this.circleX.cy.baseVal.value, this.circleX.r.baseVal.value, handle2Points.start, handle2Points.end);\n\n      this.barX.setAttribute('d', handlePath);\n      this.barX2.setAttribute('d', handle2Path);\n\n\n\n\n\n      handlePoints = {\n        start: Math.PI*1.5,\n        end: math.clip( math.scale(y,0,0.5,Math.PI*1.5,Math.PI*0.5) , Math.PI*0.5, Math.PI*1.5 )\n      };\n      handle2Points = {\n        start: Math.PI*2.5,\n        end: math.clip( math.scale(y,0.5,1,Math.PI*2.5,Math.PI*1.5) , Math.PI*1.5, Math.PI*2.5 )\n      };\n\n      handlePath = svg.arc(this.circleY.cx.baseVal.value, this.circleY.cy.baseVal.value, this.circleY.r.baseVal.value, handlePoints.start, handlePoints.end);\n      handle2Path = svg.arc(this.circleY.cx.baseVal.value, this.circleY.cy.baseVal.value, this.circleY.r.baseVal.value, handle2Points.start, handle2Points.end);\n\n      this.barY.setAttribute('d', handlePath);\n      this.barY2.setAttribute('d', handle2Path);\n\n\n\n\n\n\n      handlePoints = {\n        start: Math.PI*1.5,\n        end: math.clip( math.scale(z,0,0.5,Math.PI*1.5,Math.PI*0.5) , Math.PI*0.5, Math.PI*1.5 )\n      };\n      handle2Points = {\n        start: Math.PI*2.5,\n        end: math.clip( math.scale(z,0.5,1,Math.PI*2.5,Math.PI*1.5) , Math.PI*1.5, Math.PI*2.5 )\n      };\n\n      handlePath = svg.arc(this.circleZ.cx.baseVal.value, this.circleZ.cy.baseVal.value, this.circleZ.r.baseVal.value, handlePoints.start, handlePoints.end);\n      handle2Path = svg.arc(this.circleZ.cx.baseVal.value, this.circleZ.cy.baseVal.value, this.circleZ.r.baseVal.value, handle2Points.start, handle2Points.end);\n\n      this.barZ.setAttribute('d', handlePath);\n      this.barZ2.setAttribute('d', handle2Path);\n\n\n      /*\n\n      let pointsX = {\n        start: 0,\n        end: math.scale( x, 0, 1, 0, Math.PI*2 )\n      };\n\n    //  console.log(this.circleX.cx.baseVal.value);\n\n      let pathX = svg.arc(this.circleX.cx.baseVal.value, this.circleX.cy.baseVal.value, this.circleX.r.baseVal.value*2, pointsX.start, pointsX.end);\n\n      this.barX.setAttribute('d',pathX); */\n\n      //this.textH.textContent = math.prune(x,2);\n      //this.textV.textContent = math.prune(y,2);\n      //\n    //  this.circleX.setAttribute('opacity',x);\n    //  this.circleY.setAttribute('opacity',y);\n    //  this.circleZ.setAttribute('opacity',z);\n\n      this.emit('change', {\n        x: x,\n        y: y,\n        z: z\n      });\n\n    }\n\n  }\n\n  click() {\n    if (window.DeviceOrientationEvent) {\n      this.active = !this.active;\n    }\n  }\n\n  /**\n  Whether the interface is on (emitting values) or off (paused & not emitting values). Setting this property will update it.\n  @type {boolean}\n  */\n\n  get active() {\n    return this._active;\n  }\n\n  set active(on) {\n    this._active = on;\n    this.colorInterface();\n  }\n\n  customDestroy() {\n    window.removeEventListener('deviceorientation', this.boundUpdate, false);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/interfaces/tilt.js","'use strict';\n\nlet math = require('../util/math');\nlet svg = require('../util/svg');\nlet Interface = require('../core/interface');\n\n/**\n * Multislider\n *\n * @description Multislider\n *\n * @demo <span nexus-ui=\"multislider\"></span>\n *\n * @example\n * var multislider = new Nexus.Multislider('#target')\n *\n * @example\n * var multislider = new Nexus.Multislider('#target',{\n *  'size': [200,100],\n *  'numberOfSliders': 5,\n *  'min': 0,\n *  'max': 1,\n *  'step': 0,\n *  'candycane': 3,\n *  'values': [0.9,0.8,0.7,0.6,0.5,0.4,0.3,0.2,0.1],\n *  'smoothing': 0,\n *  'mode': 'bar'  // 'bar' or 'line'\n *})\n *\n * @output\n * change\n * Fires any time the interface's value changes. <br>\n * The event data is an object containing <i>index</i> and <i>value</i> properties\n *\n * @outputexample\n * multislider.on('change',function(v) {\n *   console.log(v);\n * })\n *\n */\n\nexport default class Multislider extends Interface {\n  constructor() {\n    let options = ['value'];\n\n    let defaults = {\n      size: [200, 100],\n      numberOfSliders: 5,\n      min: 0,\n      max: 1,\n      step: 0,\n      candycane: 3,\n      values: [0.9, 0.8, 0.7, 0.6, 0.5, 0.4, 0.3, 0.2, 0.1],\n      smoothing: 0,\n      mode: 'bar' // 'bar', 'line'\n    };\n\n    super(arguments, options, defaults);\n\n    this._numberOfSliders = this.settings.numberOfSliders;\n    this._min = this.settings.min;\n    this._max = this.settings.max;\n    this._step = this.settings.step;\n\n    this._mode = this.settings.mode;\n\n    /**\n    The current values of the slider. NOTE: Use this only to get the current values. Setting this array will not update the multislider. To set the multislider's values, use setSlider() or setAllSliders()\n    @type {Array}\n    */\n    const vs = this.settings.values;\n    this.values = vs.length > this._numberOfSliders ? vs.slice(0, this._numberOfSliders) : vs.concat(Array(this._numberOfSliders - vs.length).fill(0));\n\n    this.candycane = this.settings.candycane;\n\n    this.sliderWidth = this.width / this.values.length;\n\n    /**\n    Applies a simple low-pass filter to the multislider as it is interacted with. A smoothing of 0 will be no smoothing. A smoothing of 1 will smooth 1 slider on each side of the interaction. A smoothing of 2 will smooth 2 sliders on each side, and so on.\n    @type {Number}\n    */\n    this.smoothing = this.settings.smoothing;\n\n    this.init();\n    this.render();\n  }\n\n  buildInterface() {\n    if (this._mode == 'line') {\n      this.line = svg.create('polyline');\n      this.line.setAttribute('stroke-width', 2);\n      this.line.setAttribute('fill', 'none');\n\n      this.element.appendChild(this.line);\n\n      this.fill = svg.create('polyline');\n      this.fill.setAttribute('fill-opacity', '0.2');\n\n      this.element.appendChild(this.fill);\n\n      this.nodes = [];\n\n      this.values.forEach(\n        function(value, index) {\n          let node = svg.create('circle');\n\n          node.setAttribute('cx', this.getX(index));\n          node.setAttribute('cy', this.getY(value));\n\n          this.element.appendChild(node);\n          this.nodes.push(node);\n        }.bind(this)\n      );\n    } else {\n      this.bars = [];\n      this.caps = [];\n\n      this.values.forEach(\n        function(value, index) {\n          let bar = svg.create('rect');\n\n          let x = this.getBarX(index);\n          let y = this.getY(value);\n\n          bar.setAttribute('x', x - 0.1);\n          bar.setAttribute('y', y);\n          bar.setAttribute('width', this.sliderWidth + 0.2);\n          bar.setAttribute('height', this.height);\n          bar.setAttribute(\n            'opacity',\n            1 - ((index % this.candycane) + 1) / (this.candycane + 1)\n          );\n\n          this.element.appendChild(bar);\n          this.bars.push(bar);\n\n          let cap = svg.create('rect');\n\n          cap.setAttribute('x', x - 0.1);\n          cap.setAttribute('y', y);\n          cap.setAttribute('width', this.sliderWidth + 0.2);\n          cap.setAttribute('height', 5);\n\n          this.element.appendChild(cap);\n          this.caps.push(cap);\n        }.bind(this)\n      );\n    }\n  }\n\n  getBarX(index) {\n    return this.getX(index) - this.sliderWidth / 2;\n  }\n\n  getX(index) {\n    //return Math.floor( index * this.sliderWidth + this.sliderWidth/2 );\n    return index * this.sliderWidth + this.sliderWidth / 2;\n  }\n\n  getY(value) {\n    return math.scale(value, this._min, this._max, this.height, 0); //(1 - value) * this.height;\n  }\n\n  getValueFromY(y) {\n    let scaleAdjusted = math.scale(y, this.height, 0, this._min, this._max);\n    return this.adjustValueToStep(scaleAdjusted);\n  }\n\n  getIndexFromX(x) {\n    return math.clip(\n      Math.floor((x / this.width) * this.values.length),\n      0,\n      this.values.length - 1\n    );\n  }\n\n  adjustValueToStep(value) {\n    if (!this._step) {\n      return value;\n    }\n    let offset = value % this._step;\n    value = value - (value % this._step);\n    if (offset > this._step / 2) {\n      value += this._step;\n    }\n    return value;\n  }\n\n  adjustAllValues() {\n    this.values.forEach(\n      function(value, index) {\n        value = this.adjustValueToStep(value);\n        this.values[index] = math.clip(value, this._min, this._max);\n      }.bind(this)\n    );\n  }\n\n  getNormalizedValues() {\n    this.normalizedValues = [];\n    this.values.forEach(\n      function(value) {\n        this.normalizedValues.push(\n          math.scale(value, this._min, this._max, 0, 1)\n        );\n      }.bind(this)\n    );\n  }\n\n  colorInterface() {\n    this.element.style.backgroundColor = this.colors.fill;\n\n    if (this._mode == 'line') {\n      this.line.setAttribute('stroke', this.colors.accent);\n      this.fill.setAttribute('fill', this.colors.accent);\n      this.nodes.forEach(node => {\n        node.setAttribute('fill', this.colors.accent);\n      });\n    } else {\n      this.bars.forEach(bar => {\n        bar.setAttribute('fill', this.colors.accent);\n      });\n      this.caps.forEach(cap => {\n        cap.setAttribute('fill', this.colors.accent);\n      });\n    }\n  }\n\n  sizeInterface() {\n    this.sliderWidth = this.width / this.values.length;\n\n    if (this._mode == 'line') {\n      this.nodes.forEach(\n        function(node) {\n          let r = ~~(Math.min(this.width, this.height) / 50) + 2;\n          r = Math.min(this.sliderWidth, r);\n          node.setAttribute('r', r);\n        }.bind(this)\n      );\n    }\n\n    this.render();\n  }\n\n  render() {\n    if (this._mode == 'line') {\n      let data = '0 ' + this.getY(this.values[0]) + ', ';\n\n      this.values.forEach((value, index) => {\n        let x = this.getX(index);\n        let y = this.getY(value);\n        data += x + ' ' + y + ', ';\n        this.nodes[index].setAttribute('cx', this.getX(index));\n        this.nodes[index].setAttribute('cy', this.getY(value));\n      });\n\n      data += this.width + ' ' + this.getY(this.values[this.values.length - 1]);\n\n      this.line.setAttribute('points', data);\n\n      // fill data\n      // add bottom corners\n\n      data += ', ' + this.width + ' ' + this.height + ', ';\n      data += '0 ' + this.height;\n\n      this.fill.setAttribute('points', data);\n    } else {\n      this.values.forEach((value, index) => {\n        this.bars[index].setAttribute('y', this.getY(value));\n        this.caps[index].setAttribute('y', this.getY(value));\n      });\n    }\n  }\n\n  click() {\n    this.hasMoved = false;\n    this.previousSlider = false;\n    this.move();\n  }\n\n  move() {\n    if (this.clicked) {\n      this.mouse.x = math.clip(this.mouse.x, 0, this.width);\n      this.mouse.y = math.clip(this.mouse.y, 0, this.height);\n      this.hasMoved = true;\n\n      this.selectedSlider = this.getIndexFromX(this.mouse.x);\n\n      this.values[this.selectedSlider] = this.getValueFromY(this.mouse.y);\n\n      /* handle interpolation for in-between sliders */\n\n      if (this.previousSlider !== false) {\n        let distance = Math.abs(this.previousSlider - this.selectedSlider);\n        if (distance > 1) {\n          let low = Math.min(this.previousSlider, this.selectedSlider);\n          let high = Math.max(this.previousSlider, this.selectedSlider);\n          let lowValue = this.values[low];\n          let highValue = this.values[high];\n          for (let i = low; i < high; i++) {\n            this.values[i] = math.interp(\n              (i - low) / distance,\n              lowValue,\n              highValue\n            );\n            this.values[i] = this.adjustValueToStep(this.values[i]);\n          }\n        }\n      }\n\n      if (this.smoothing > 0) {\n        for (var i = 1; i <= this.smoothing; i++) {\n          let downCenter = this.selectedSlider - i;\n          let upCenter = this.selectedSlider + i;\n\n          if (downCenter >= 1) {\n            let downLowerNeighbor = downCenter - 1 >= 0 ? downCenter - 1 : 0;\n            let downUpperNeighbor = downCenter + 1;\n            this.values[downCenter] =\n              (this.values[downLowerNeighbor] +\n                this.values[downUpperNeighbor]) /\n              2;\n            this.values[downCenter] = this.adjustValueToStep(\n              this.values[downCenter]\n            );\n          }\n\n          if (upCenter < this.values.length - 1) {\n            let upLowerNeighbor = upCenter - 1;\n            let upUpperNeighbor = upCenter + 1 < this.values.length ? upCenter + 1 : this.values.length - 1;\n            this.values[upCenter] =\n              (this.values[upLowerNeighbor] + this.values[upUpperNeighbor]) / 2;\n            this.values[upCenter] = this.adjustValueToStep(\n              this.values[upCenter]\n            );\n          }\n        }\n      }\n\n      this.previousSlider = this.selectedSlider;\n\n      this.emit('change', this.values);\n      this.render();\n    }\n  }\n\n  // would be a cool API call to have for later...\n  scan() {}\n\n  update(index, value) {\n    this.values[index] = this.adjustValueToStep(value);\n    this.emit('change', {\n      index: index,\n      value: value\n    });\n  }\n\n  /**\n  Get the number of sliders\n  @type {Number}\n  */\n  get numberOfSliders() {\n    return this.values.length;\n  }\n\n  /**\n  Lower limit of the multislider's output range\n  @type {number}\n  @example multislider.min = 1000;\n  */\n  get min() {\n    return this._min;\n  }\n  set min(v) {\n    this._min = v;\n    this.adjustAllValues();\n    this.render();\n  }\n\n  /**\n  Upper limit of the multislider's output range\n  @type {number}\n  @example multislider.max = 1000;\n  */\n  get max() {\n    return this._max;\n  }\n  set max(v) {\n    this._max = v;\n    this.adjustAllValues();\n    this.render();\n  }\n\n  /**\n  The increment that the multislider's value changes by.\n  @type {number}\n  @example multislider.step = 5;\n  */\n  get step() {\n    return this._step;\n  }\n  set step(v) {\n    this._step = v;\n    this.adjustAllValues();\n    this.render();\n  }\n\n  /**\n  Set the value of an individual slider\n  @param index {number} Slider index\n  @param value {number} New slider value\n  @example\n  // Set the first slider to value 0.5\n  multislider.setSlider(0,0.5)\n  */\n  setSlider(index, value) {\n    this.values[index] = this.adjustValueToStep(value);\n    this.values[index] = math.clip(this.values[index], this._min, this._max);\n    this.emit('change', {\n      index: index,\n      value: value\n    });\n  }\n\n  /**\n  Set the value of all sliders at once. If the size of the input array does not match the current number of sliders, the value array will repeat until all sliders have been set. I.e. an input array of length 1 will set all sliders to that value.\n  @param values {Array} All slider values\n  @example\n  multislider.setAllSliders([0.2,0.3,0.4,0.5,0.6])\n  */\n  setAllSliders(values) {\n    let previousLength = this.values.length;\n    let newLength = values.length;\n    this.values = values;\n    this.adjustAllValues();\n    if (previousLength != newLength) {\n      this.empty();\n      this.buildInterface();\n      this.colorInterface();\n    }\n    this.sizeInterface();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/interfaces/multislider.js","'use strict';\n\nlet svg = require('../util/svg');\nlet math = require('../util/math');\nlet Interface = require('../core/interface');\nlet Step = require('../models/step');\nimport * as Interaction from '../util/interaction';\n\n/**\n* Pan\n*\n* @description Stereo crossfader.\n*\n* @demo <span nexus-ui=\"pan\"></span>\n*\n* @example\n* var pan = new Nexus.Pan('#target')\n*\n* @output\n* change\n* Fires any time the interface's value changes. <br>\n* The event data is an object containing the interface's <i>value</i> (-1 to 1), as well as <i>L</i> and <i>R</i> amplitude values (0-1) for left and right speakers, calculated by a square-root crossfade algorithm.\n*\n* @outputexample\n* pan.on('change',function(v) {\n*   console.log(v);\n* })\n*\n*\n*/\n\nexport default class Pan extends Interface {\n\n  constructor() {\n\n    let options = ['scale','value'];\n\n    let defaults = {\n      'size': [120,20],\n      'orientation': 'horizontal',\n      'mode': 'relative',\n      'scale': [-1,1],\n      'step': 0,\n      'value': 0,\n      'hasKnob': true\n    };\n\n    super(arguments,options,defaults);\n\n    this.orientation = this.settings.orientation;\n\n    this.mode = this.settings.mode;\n\n    this.hasKnob = this.settings.hasKnob;\n\n    // this.step should eventually be get/set\n    // updating it will update the _value step model\n    this.step = this.settings.step; // float\n\n    this._value = new Step(this.settings.scale[0], this.settings.scale[1], this.settings.step, this.settings.value);\n\n    this.init();\n\n    this.position = new Interaction.Handle(this.mode,this.orientation,[0,this.width],[this.height,0]);\n    this.position.value = this._value.normalized;\n\n    this.value = this._value.value;\n\n    this.emit('change',this.value);\n\n  }\n\n  buildInterface() {\n\n    this.bar = svg.create('rect');\n    this.knob = svg.create('circle');\n\n    this.element.appendChild(this.bar);\n    this.element.appendChild(this.knob);\n\n  }\n\n  sizeInterface() {\n\n    if (this.position) {\n      this.position.resize([0,this.width],[this.height,0]);\n    }\n\n    if (this.width < this.height) {\n      this.orientation = 'vertical';\n    } else {\n      this.orientation = 'horizontal';\n    }\n\n    let x, y, w, h, barOffset, cornerRadius;\n    this.knobData = {\n      level: 0,\n      r: 0\n    };\n\n    if (this.orientation === 'vertical') {\n      this.thickness = this.width / 2;\n    \tx = this.width/2;\n    \ty = 0;\n    \tw = this.thickness;\n    \th = this.height;\n      this.knobData.r = this.thickness * 0.8;\n    \tthis.knobData.level = h-this.knobData.r-this.normalized*(h-this.knobData.r*2);\n      barOffset = 'translate('+this.thickness*(-1)/2+',0)';\n      cornerRadius = w/2;\n    } else {\n      this.thickness = this.height / 2;\n    \tx = 0;\n    \ty = this.height/2;\n    \tw = this.width;\n    \th = this.thickness;\n      this.knobData.r = this.thickness * 0.8;\n    \tthis.knobData.level = this.normalized*(w-this.knobData.r*2)+this.knobData.r;\n      barOffset = 'translate(0,'+this.thickness*(-1)/2+')';\n      cornerRadius = h/2;\n    }\n\n    this.bar.setAttribute('x',x);\n    this.bar.setAttribute('y',y);\n    this.bar.setAttribute('transform',barOffset);\n    this.bar.setAttribute('rx',cornerRadius); // corner radius\n    this.bar.setAttribute('ry',cornerRadius);\n    this.bar.setAttribute('width',w);\n    this.bar.setAttribute('height',h);\n\n    if (this.orientation === 'vertical') {\n      this.knob.setAttribute('cx',x);\n      this.knob.setAttribute('cy',this.knobData.level);\n    } else {\n      this.knob.setAttribute('cx',this.knobData.level);\n      this.knob.setAttribute('cy',y);\n    }\n    this.knob.setAttribute('r',this.knobData.r);\n\n  }\n\n  colorInterface() {\n\n    this.bar.setAttribute('fill', this.colors.fill);\n    this.knob.setAttribute('fill', this.colors.accent);\n\n    if (!this.hasKnob) {\n      this.knob.setAttribute('fill','transparent');\n    }\n\n  }\n\n  render() {\n    if (!this.clicked) {\n      this.knobData.r = this.thickness*0.75;\n    }\n    this.knob.setAttribute('r',this.knobData.r);\n\n    if (this.orientation === 'vertical') {\n  \t   this.knobData.level = this.knobData.r+this._value.normalized*(this.height-this.knobData.r*2);\n       this.knob.setAttribute('cy',this.height - this.knobData.level);\n    } else {\n  \t   this.knobData.level = this._value.normalized*(this.width-this.knobData.r*2)+this.knobData.r;\n       this.knob.setAttribute('cx',this.knobData.level);\n    }\n  }\n\n\n  click() {\n    this.knobData.r = this.thickness*0.9;\n    this.position.anchor = this.mouse;\n    this.move();\n  }\n\n  move() {\n    if (this.clicked) {\n      this.position.update(this.mouse);\n\n      this.value = this._value.updateNormal( this.position.value );\n\n      this.emit('change',{\n        value: this.value,\n        L: Math.pow( math.scale(this.value,-1,1,1,0), 2),\n        R: Math.pow( math.scale(this.value,-1,1,0,1), 2)\n      });\n\n    }\n  }\n\n  release() {\n    this.render();\n  }\n\n  /**\n  The position of crossfader, from -1 (left) to 1 (right). Setting this value updates the interface and triggers the output event.\n  @type {number}\n  */\n  get value() {\n    return this._value.value;\n  }\n\n  set value(value) {\n    this._value.update(value);\n    this.position.value = this._value.normalized;\n    this.emit('change',{\n      value: this.value,\n      L: Math.pow( math.scale(this.value,-1,1,1,0), 2),\n      R: Math.pow( math.scale(this.value,-1,1,0,1), 2)\n    });\n    this.render();\n  }\n\n  get normalized() {\n    return this._value.normalized;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/interfaces/pan.js","'use strict';\n\nlet math = require('../util/math');\nlet svg = require('../util/svg');\nlet Interface = require('../core/interface');\n\n\nlet Point = function(point,envelope) {\n\n  this.x = point.x;\n  this.y = point.y;\n\n  this.xMin = point.xMin || 0;\n  this.xMax = point.xMax || 1;\n  this.yMin = point.yMin || 0;\n  this.yMax = point.yMax || 1;\n\n  this.envelope = envelope;\n\n  this.element = svg.create('circle');\n  this.element.setAttribute('fill',this.envelope.colors.accent);\n\n  this.envelope.element.appendChild(this.element);\n\n  this.resize = function() {\n    let r = ~~(Math.min(this.envelope.width,this.envelope.height)/50)+2;\n    this.element.setAttribute('r',r);\n  };\n\n  this.move = function(x,y) {\n\n    this.x = (x || x===0) ? x : this.x;\n    this.y = (y || y===0) ? y : this.y;\n\n    if (this.envelope.nodes.indexOf(this)>=0) {\n\n      let prevIndex = this.envelope.nodes.indexOf(this)-1;\n      let nextIndex = this.envelope.nodes.indexOf(this)+1;\n\n      let prevNode = this.envelope.nodes[prevIndex];\n      let nextNode = this.envelope.nodes[nextIndex];\n\n      let lowX = prevIndex >= 0 ? prevNode.x : 0;\n\t    lowX = lowX<this.xMin?this.xMin:lowX;\n\n      let highX = nextIndex < this.envelope.nodes.length ? nextNode.x : 1;\n\t    highX = highX>this.xMax?this.xMax:highX;\n\n  \t  if (this.x < lowX) { this.x = lowX; }\n      if (this.x > highX) { this.x = highX; }\n\n      if (this.y < this.yMin) { this.y = this.yMin; }\n      if (this.y > this.yMax) { this.y = this.yMax; }\n\n    }\n\n    this.location = this.getCoordinates();\n    this.element.setAttribute('cx', this.location.x);\n    this.element.setAttribute('cy', this.location.y);\n  };\n\n  this.getCoordinates = function() {\n    return {\n      x: this.x * this.envelope.width,\n      y: (1-this.y) * this.envelope.height\n    };\n  };\n\n  this.move(this.x,this.y,true);\n  this.resize();\n\n  this.destroy = function() {\n    this.envelope.element.removeChild(this.element);\n    this.envelope.nodes.splice(this.envelope.nodes.indexOf(this),1);\n  };\n\n\n};\n\n\n/**\n* Envelope\n*\n* @description Interactive linear ramp visualization.\n*\n* @demo <span nexus-ui=\"envelope\"></span>\n*\n* @example\n* var envelope = new Nexus.Envelope('#target')\n*\n* @example\n* var envelope = new Nexus.Envelope('#target',{\n*   'size': [300,150],\n*   'noNewPoints': false,\n*   'points': [\n*     {\n*       x: 0.1,\n*       y: 0.4\n*     },\n*     {\n*       x: 0.35,\n*       y: 0.6\n*     },\n*     {\n*       x: 0.65,\n*       y: 0.2\n*     },\n*     {\n*       x: 0.9,\n*       y: 0.4\n*     },\n*   ]\n* })\n*\n* @output\n* change\n* Fires any time a node is moved. <br>\n* The event data is an array of point locations. Each item in the array is an object containing <i>x</i> and <i>y</i> properties describing the location of a point on the envelope.\n*\n* @outputexample\n* envelope.on('change',function(v) {\n*   console.log(v);\n* })\n*\n*/\n\nexport default class Envelope extends Interface {\n\n  constructor() {\n\n    let options = ['value'];\n\n    let defaults = {\n      'size': [300,150],\n      'noNewPoints':false,\n      'points': [\n  \t\t\t{\n  \t\t\t\tx: 0.1,\n  \t\t\t\ty: 0.4\n  \t\t\t},\n  \t\t\t{\n  \t\t\t\tx: 0.35,\n  \t\t\t\ty: 0.6\n  \t\t\t},\n  \t\t\t{\n  \t\t\t\tx: 0.65,\n  \t\t\t\ty: 0.2\n  \t\t\t},\n  \t\t\t{\n  \t\t\t\tx: 0.9,\n  \t\t\t\ty: 0.4\n  \t\t\t}\n  \t\t]\n    };\n\n    super(arguments,options,defaults);\n\n    this.points = this.settings.points;\n\n    this.nodes = [];\n\n    this.selected = false;\n\n    this.init();\n\n\n  }\n\n  buildInterface() {\n\n\n    this.points.forEach((point) => {\n      let node = new Point(point,this);\n      this.nodes.push(node);\n    });\n\n    this.sortPoints();\n\n    this.line = svg.create('polyline');\n    this.line.setAttribute('stroke-width', 2);\n    this.line.setAttribute('fill', 'none');\n\n    this.element.appendChild(this.line);\n\n    this.fill = svg.create('polyline');\n    this.fill.setAttribute('fill-opacity', '0.2');\n\n    this.element.appendChild(this.fill);\n\n  }\n\n  sizeInterface() {\n\n    for (let i=0; i<this.nodes.length; i++) {\n      this.nodes[i].resize();\n      this.nodes[i].move();\n    }\n\n    this.render();\n\n  }\n\n  colorInterface() {\n\n    this.element.style.backgroundColor = this.colors.fill;\n    this.line.setAttribute('stroke', this.colors.accent);\n    this.fill.setAttribute('fill', this.colors.accent);\n    this.nodes.forEach((node) => {\n      node.element.setAttribute('fill',this.colors.accent);\n    });\n\n  }\n\n  render() {\n  //  this.nodes[this.selected].move( this.points )\n    this.calculatePath();\n  }\n\n  calculatePoints() {\n    this.points = [];\n    this.nodes.forEach((node) => {\n      this.points.push({ x: node.x, y: node.y });\n    });\n  }\n\n  calculatePath() {\n\n    //stroke data\n    let data = '0 '+ this.nodes[0].location.y+', ';\n\n    // data should be re-ordered based on x location.\n    // whatever function adds a node should add it at the right index\n\n    this.nodes.forEach((node) => {\n    //  let location = node.getCoordinates();\n      data += node.location.x + ' ' + node.location.y + ', ';\n    });\n\n\n  //  data += point.x*this.width+' '+ point.y*this.height+', ';\n    data += this.width + ' '+ this.nodes[this.nodes.length-1].location.y;\n\n    this.line.setAttribute('points', data);\n\n    // fill data\n    // add bottom corners\n\n    data += ', '+this.width +' '+this.height+', ';\n    data += '0 '+this.height;\n\n    this.fill.setAttribute('points', data);\n\n  }\n\n\n\n  click() {\n  \t// find nearest node and set this.selected (index)\n    this.hasMoved = false;\n  \tthis.selected = this.findNearestNode();\n\n    this.nodes[this.selected].move(this.mouse.x/this.width,1-this.mouse.y/this.height);\n    this.scaleNode(this.selected);\n\n    // must do this b/c new node may have been created\n    this.calculatePoints();\n    this.emit('change',this.points);\n  \tthis.render();\n  }\n\n  move() {\n  \tif (this.clicked) {\n      this.mouse.x = math.clip(this.mouse.x,0,this.width);\n      this.hasMoved = true;\n\n      this.nodes[this.selected].move(this.mouse.x/this.width,1-this.mouse.y/this.height);\n    \tthis.scaleNode(this.selected);\n\n      this.calculatePoints();\n  \t\tthis.emit('change',this.points);\n  \t\tthis.render();\n  \t}\n  }\n\n  release() {\n\n  \tif (!this.hasMoved) {\n      this.nodes[this.selected].destroy();\n  \t}\n\n    this.calculatePoints();\n    this.emit('change',this.points);\n  \tthis.render();\n\n  \t// reset this.selected\n  \tthis.selected = null;\n  }\n\n\n  findNearestNode() {\n  \tvar nearestIndex = null;\n    // set this unreasonably high so that every distance will be lower than it.\n  \tvar nearestDist = 10000;\n  \tvar before = false;\n    let x = this.mouse.x/this.width;\n    let y = 1-this.mouse.y/this.height;\n    let nodes = this.nodes;\n  \tfor (let i = 0; i<nodes.length; i++) {\n\n      // calculate the distance from mouse to this node using pythagorean theorem\n  \t\tvar distance = Math.sqrt(  Math.pow( (nodes[i].x - x), 2) + Math.pow((nodes[i].y - y), 2) );\n\n      // if this distance is less than the previous shortest distance, use this index\n  \t\tif (distance < nearestDist) {\n  \t\t\tnearestDist = distance;\n  \t\t\tnearestIndex = i;\n  \t\t\tbefore = x > nodes[i].x;\n  \t\t}\n\n  \t}\n\n    // if not very close to any node, create a node\n  \tif (!this.settings.noNewPoints && nearestDist>0.07) {\n\n      nearestIndex = this.getIndexFromX(this.mouse.x/this.width);\n\n  \t\tthis.nodes.splice(nearestIndex,0, new Point({\n  \t\t\tx: this.mouse.x/this.width,\n  \t\t\ty: 1-this.mouse.y/this.height\n  \t\t}, this));\n      this.hasMoved = true;\n\n  \t}\n\n  \treturn nearestIndex;\n  }\n\n  getIndexFromX(x) {\n    let index = 0;\n    this.nodes.forEach((node,i) => {\n      if (this.nodes[i].x <= x) {\n        index = i+1;\n      }\n    });\n    return index;\n  }\n\n  scaleNode(i) {\n\n  \tlet clippedX = math.clip(this.nodes[i].x, 0, 1);\n  \tlet clippedY = math.clip(this.nodes[i].y, 0, 1);\n\n    this.nodes[i].move( clippedX, clippedY );\n\n  }\n\n  /**\n  Sort the this.points array from left-most point to right-most point. You should not regularly need to use this, however it may be useful if the points get unordered.\n  */\n  sortPoints() {\n    this.nodes.sort(function(a, b){\n      return a.x > b.x;\n    });\n  }\n\n\n  /**\n  Add a breakpoint on the envelope.\n  @param x {number} x location of the point, normalized (0-1)\n  @param y {number} y location of the point, normalized (0-1)\n  */\n  addPoint(x,y) {\n    let index = this.nodes.length;\n\n    this.sortPoints();\n\n    for (let i = 0; i<this.nodes.length; i++) {\n      if (x < this.nodes[i].x) {\n        index = i;\n        break;\n      }\n  \t}\n\n    this.nodes.splice(index, 0, new Point({\n      x: x,\n      y: y\n    }, this));\n\n    this.scaleNode(index);\n\n    this.calculatePoints();\n    this.emit('change',this.points);\n\n    this.render();\n  }\n\n\n  /**\n  Find the level at a certain x location on the envelope.\n  @param x {number} The x location to find the level of, normalized 0-1\n  */\n  scan(x) {\n    // find surrounding points\n    let nextIndex = this.getIndexFromX(x);\n    let priorIndex = nextIndex-1;\n    if (priorIndex < 0) {\n      priorIndex = 0;\n    }\n    if (nextIndex >= this.nodes.length) {\n      nextIndex = this.nodes.length-1;\n    }\n    let priorPoint = this.nodes[priorIndex];\n    let nextPoint = this.nodes[nextIndex];\n    let loc = math.scale(x,priorPoint.x, nextPoint.x, 0, 1);\n    let value = math.interp(loc,priorPoint.y,nextPoint.y);\n    this.emit('scan',value);\n    return value;\n  }\n\n\n  /**\n  Move a breakpoint on the envelope.\n  @param index {number} The index of the breakpoint to move\n  @param x {number} New x location, normalized 0-1\n  @param y {number} New y location, normalized 0-1\n  */\n  movePoint(index,x,y) {\n    this.nodes[index].move(x,y);\n    this.scaleNode(index);\n    this.calculatePoints();\n    this.emit('change',this.points);\n    this.render();\n  }\n\n\n  /**\n  Move a breakpoint on the envelope by a certain amount.\n  @param index {number} The index of the breakpoint to move\n  @param xOffset {number} X displacement, normalized 0-1\n  @param yOffset {number} Y displacement, normalized 0-1\n  */\n  adjustPoint(index,xOffset,yOffset) {\n    this.nodes[index].move(this.nodes[index].x+xOffset,this.nodes[index].y+yOffset);\n    this.scaleNode(index);\n    this.calculatePoints();\n    this.emit('change',this.points);\n    this.render();\n  }\n\n\n  /**\n  Remove a breakpoint from the envelope.\n  @param index {number} Index of the breakpoint to remove\n  */\n  destroyPoint(index) {\n    this.nodes[index].destroy();\n    this.calculatePoints();\n    this.emit('change',this.points);\n    this.render();\n  }\n\n\n  /**\n  Remove all existing breakpoints and add an entirely new set of breakpoints.\n  @param allPoints {array} An array of objects with x/y properties (normalized 0-1). Each object in the array specifices the x/y location of a new breakpoint to be added.\n  */\n  setPoints(allPoints) {\n    while (this.nodes.length) {\n      this.nodes[0].destroy();\n    }\n    allPoints.forEach((point) => {\n      this.addPoint(point.x,point.y);\n    });\n    this.calculatePoints();\n    this.emit('change',this.points);\n    this.render();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/interfaces/envelope.js","'use strict';\n\nlet dom = require('../util/dom');\nlet Interface = require('../core/interface');\n\n/**\n * Spectrogram\n *\n * @description Audio spectrum visualization\n *\n * @demo <span nexus-ui=\"spectrogram\"></span>\n *\n * @example\n * var spectrogram = new Nexus.Spectrogram('#target')\n * spectrogram.connect(myWebAudioNode)\n *\n * @example\n * var spectrogram = new Nexus.Spectrogram('#target',{\n *   'size': [300,150]\n * })\n * spectrogram.connect(myWebAudioNode)\n *\n * @output\n * &nbsp;\n * No events\n *\n */\n\nexport default class Spectrogram extends Interface {\n  constructor() {\n    let options = [];\n\n    let defaults = {\n      size: [300, 150]\n    };\n\n    super(arguments, options, defaults);\n\n    this.analyser = null;\n    this.bufferLength = 0;\n    this.dataArray = null;\n    this.active = false;\n    this.source = null;\n\n    this.init();\n  }\n\n  buildFrame() {\n    this.canvas = new dom.SmartCanvas(this.parent);\n    this.element = this.canvas.element;\n  }\n\n  sizeInterface() {\n    this.canvas.resize(this.width, this.height);\n  }\n\n  colorInterface() {\n    this.canvas.element.style.backgroundColor = this.colors.fill;\n  }\n\n  render() {\n    if (this.active) {\n      requestAnimationFrame(this.render.bind(this));\n    }\n\n    if (this.analyser) {\n      this.analyser.getByteFrequencyData(this.dataArray);\n    }\n\n    this.canvas.context.fillStyle = this.colors.fill;\n    this.canvas.context.fillRect(\n      0,\n      0,\n      this.canvas.element.width,\n      this.canvas.element.height\n    );\n\n    if (this.source && this.dataArray) {\n      //console.log(this.dataArray);\n\n      let barWidth = this.canvas.element.width / this.bufferLength;\n      let barHeight;\n      let x = 0;\n\n      let definition = this.canvas.element.width / 50;\n\n      for (let i = 0; i < this.bufferLength; i = i + definition) {\n        barHeight = Math.max.apply(\n          null,\n          this.dataArray.subarray(i, i + definition)\n        );\n        barHeight /= 255;\n        barHeight *= this.canvas.element.height;\n\n        this.canvas.context.fillStyle = this.colors.accent;\n        this.canvas.context.fillRect(\n          x,\n          this.canvas.element.height - barHeight,\n          barWidth * definition,\n          barHeight\n        );\n\n        x += barWidth * definition;\n      }\n    }\n  }\n\n  /**\n  Equivalent to \"patching in\" an audio node to visualize.\n  @param node {AudioNode} The audio node to visualize\n  @example spectrogram.connect( Tone.Master );\n  */\n  connect(node) {\n    if (this.source) {\n      this.disconnect();\n    }\n\n    this.analyser = node.context.createAnalyser();\n    this.analyser.fftSize = 2048;\n    this.bufferLength = this.analyser.frequencyBinCount;\n    this.dataArray = new Uint8Array(this.bufferLength);\n\n    this.active = true;\n\n    this.source = node;\n    this.source.connect(this.analyser);\n\n    this.render();\n  }\n\n  /**\n  Stop visualizing the source node and disconnect it.\n  */\n  disconnect() {\n    if (this.source) {\n      this.source.disconnect(this.analyser);\n    }\n\n    this.analyser = null;\n    this.bufferLength = 0;\n    this.dataArray = null;\n    this.active = false;\n    this.source = null;\n  }\n\n  click() {\n    this.active = !this.active && this.source;\n    this.render();\n  }\n\n  customDestroy() {\n    this.active = false;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/interfaces/spectrogram.js","'use strict';\n\nlet dom = require('../util/dom');\nlet math = require('../util/math');\nlet Interface = require('../core/interface');\n\n/**\n * Meter\n *\n * @description Stereo decibel meter\n *\n * @demo <span nexus-ui=\"meter\"></span>\n *\n * @example\n * var meter = new Nexus.Meter('#target')\n * meter.connect(myWebAudioNode)\n *\n * @example\n * var meter = new Nexus.Meter('#target', {\n *   size: [75,75]\n * })\n * meter.connect(myWebAudioNode)\n *\n * @output\n * &nbsp;\n * No events\n *\n */\n\nexport default class Meter extends Interface {\n  constructor() {\n    let options = [];\n\n    let defaults = {\n      size: [30, 100]\n    };\n\n    super(arguments, options, defaults);\n\n    this.channels = 2;\n    this.splitter = null;\n    this.analysers = [];\n    this.bufferLength = 0;\n    this.dataArray = null;\n    this.active = false;\n    this.source = null;\n    this.db = -Infinity;\n\n    this.init();\n\n    this.meterWidth = this.canvas.element.width / this.channels;\n\n    this.render();\n  }\n\n  buildFrame() {\n    this.canvas = new dom.SmartCanvas(this.parent);\n    this.element = this.canvas.element;\n  }\n\n  sizeInterface() {\n    this.canvas.resize(this.width, this.height);\n  }\n\n  colorInterface() {\n    this.canvas.element.style.backgroundColor = this.colors.fill;\n  }\n\n  render() {\n    if (this.active) {\n      requestAnimationFrame(this.render.bind(this));\n    }\n\n    this.canvas.context.fillStyle = this.colors.fill;\n    this.canvas.context.fillRect(\n      0,\n      0,\n      this.canvas.element.width,\n      this.canvas.element.height\n    );\n\n    for (let i = 0; i < this.analysers.length; i++) {\n      if (this.source) {\n        this.analysers[i].getFloatTimeDomainData(this.dataArray);\n\n        let rms = 0;\n\n        for (let i = 0; i < this.dataArray.length; i++) {\n          rms += this.dataArray[i] * this.dataArray[i];\n        }\n\n        rms = Math.sqrt(rms / this.dataArray.length);\n\n        this.db = 20 * Math.log10(rms);\n      } else if (this.db > -200 && this.db !== -Infinity) {\n        this.db -= 1;\n      } else {\n        this.db = -Infinity;\n      }\n\n      //console.log(db)\n\n      if (this.db > -70) {\n        let linear = math.normalize(this.db, -70, 5);\n        let exp = linear * linear;\n        let y = math.scale(exp, 0, 1, this.element.height, 0);\n\n        this.canvas.context.fillStyle = this.colors.accent;\n        this.canvas.context.fillRect(\n          this.meterWidth * i,\n          y,\n          this.meterWidth,\n          this.canvas.element.height - y\n        );\n\n        //console.log(\"rendering...\")\n      }\n    }\n  }\n\n  /**\n  Equivalent to \"patching in\" an audio node to visualize.\n  @param node {AudioNode} The audio node to visualize\n  @param channels {number} (optional) The number of channels in the source node to watch. If not specified, the interface will look for a .channelCount property on the input node. If it does not exist, the interface will default to 1 channel.\n  @example meter.connect( Tone.Master, 2 );\n  */\n  connect(node, channels) {\n    if (this.source) {\n      this.disconnect();\n    }\n\n    this.channels = channels || node.channelCount || 2;\n\n    this.splitter = node.context.createChannelSplitter(this.channels);\n\n    this.analysers = [];\n    for (let i = 0; i < this.channels; i++) {\n      const analyser = node.context.createAnalyser();\n      analyser.fftSize = 1024;\n      analyser.smoothingTimeConstant = 1;\n      this.splitter.connect(analyser, i);\n      this.analysers.push(analyser);\n    }\n    this.bufferLength = this.analysers[0].frequencyBinCount;\n    this.dataArray = new Float32Array(this.bufferLength);\n\n    this.active = true;\n\n    this.meterWidth = this.canvas.element.width / this.channels;\n\n    this.source = node;\n    this.source.connect(this.splitter);\n\n    this.render();\n  }\n\n  /**\n  Stop visualizing the source node and disconnect it.\n  */\n  disconnect() {\n    if (this.source) {\n      this.source.disconnect(this.splitter);\n    }\n\n    this.splitter = null;\n    this.analysers = [];\n    this.bufferLength = 0;\n    this.dataArray = null;\n    this.active = false;\n    this.source = null;\n  }\n\n  click() {\n    this.active = !this.active && this.source;\n    this.render();\n  }\n\n  customDestroy() {\n    this.active = false;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/interfaces/meter.js","'use strict';\n\nlet dom = require('../util/dom');\nlet Interface = require('../core/interface');\n\n/**\n * Oscilloscope\n *\n * @description Visualizes a waveform's stream of values.\n *\n * @demo <span nexus-ui=\"oscilloscope\"></span>\n *\n * @example\n * var oscilloscope = new Nexus.Oscilloscope('#target')\n * oscilloscope.connect(myWebAudioNode)\n *\n * @example\n * var oscilloscope = new Nexus.Oscilloscope('#target',{\n *   'size': [300,150]\n * })\n * oscilloscope.connect(myWebAudioNode)\n *\n * @output\n * &nbsp;\n * No events\n *\n */\n\nexport default class Oscilloscope extends Interface {\n  constructor() {\n    let options = [];\n\n    let defaults = {\n      size: [300, 150]\n    };\n\n    super(arguments, options, defaults);\n\n    this.analyser = null;\n    this.bufferLength = 0;\n    this.dataArray = null;\n\n    this.active = false;\n\n    this.source = null;\n\n    this.init();\n\n    this.render();\n  }\n\n  buildFrame() {\n    this.canvas = new dom.SmartCanvas(this.parent);\n    this.element = this.canvas.element;\n  }\n\n  sizeInterface() {\n    this.canvas.resize(this.width, this.height);\n  }\n\n  colorInterface() {\n    this.canvas.element.style.backgroundColor = this.colors.fill;\n  }\n\n  render() {\n    if (this.active) {\n      requestAnimationFrame(this.render.bind(this));\n    }\n\n    if (this.analyser) {\n      this.analyser.getByteTimeDomainData(this.dataArray);\n    }\n\n    this.canvas.context.fillStyle = this.colors.fill;\n    this.canvas.context.fillRect(\n      0,\n      0,\n      this.canvas.element.width,\n      this.canvas.element.height\n    );\n\n    this.canvas.context.lineWidth = ~~(this.height / 100 + 2);\n    this.canvas.context.strokeStyle = this.colors.accent;\n\n    this.canvas.context.beginPath();\n\n    if (this.source) {\n      var sliceWidth = (this.canvas.element.width * 1.0) / this.bufferLength;\n      var x = 0;\n\n      for (var i = 0; i < this.bufferLength; i++) {\n        var v = this.dataArray[i] / 128.0;\n        var y = (v * this.canvas.element.height) / 2;\n\n        if (i === 0) {\n          this.canvas.context.moveTo(x, y);\n        } else {\n          this.canvas.context.lineTo(x, y);\n        }\n\n        x += sliceWidth;\n      }\n    } else {\n      this.canvas.context.moveTo(0, this.canvas.element.height / 2);\n      this.canvas.context.lineTo(\n        this.canvas.element.width,\n        this.canvas.element.height / 2\n      );\n    }\n\n    this.canvas.context.stroke();\n  }\n\n  /**\n  Equivalent to \"patching in\" an audio node to visualize.\n  @param node {AudioNode} The audio node to visualize\n  @example oscilloscope.connect( Tone.Master );\n  */\n\n  connect(node) {\n    if (this.source) {\n      this.disconnect();\n    }\n\n    this.analyser = node.context.createAnalyser();\n    this.analyser.fftSize = 2048;\n    this.bufferLength = this.analyser.frequencyBinCount;\n    this.dataArray = new Uint8Array(this.bufferLength);\n    this.analyser.getByteTimeDomainData(this.dataArray);\n\n    this.active = true;\n\n    this.source = node;\n    this.source.connect(this.analyser);\n\n    this.render();\n  }\n\n  /**\n  Stop visualizing the source node and disconnect it.\n  */\n  disconnect() {\n    if (this.source) {\n      this.source.disconnect(this.analyser);\n    }\n\n    this.analyser = null;\n    this.bufferLength = 0;\n    this.dataArray = null;\n    this.active = false;\n    this.source = null;\n  }\n\n  click() {\n    this.active = !this.active && this.source;\n    this.render();\n  }\n\n  customDestroy() {\n    this.active = false;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/interfaces/oscilloscope.js","/*\nMain concept:\nsynth = new Nexus.Rack('elementID');\n\nTransform all elements inside the div\nsynth.elementID will hold the first slider interface\n\n2) In future, potentially writing a rack that is re-usable?\nCould also take JSON\n\nnew Nexus.Rack('#target',{\n  pre: () => {\n    create some divs here, or some audio code\n  },\n  interface: {\n    slider1: Nexus.add.slider({\n      top:10,\n      left:10,\n      width:50,\n      height:100,\n      min: 0,\n      max: 100,\n      step: 1\n    }),\n    wave1: Nexus.add.waveform({\n      file: './path/to/file.mp3',\n      width:500,\n      height:100,\n      mode: 'range'\n    })\n  },\n  init: () => {\n    // some audio init code goes here...\n  }\n});\n\n*/\n\nimport * as transform from '../util/transform';\nimport dom from '../util/dom';\n\nimport { colors } from '../main';\n\nexport default class Rack {\n\n  constructor(target, settings) {\n\n    this.meta = {};\n    this.meta.target = target;\n    this.meta.parent = dom.parseElement(target); // should be a generic function for parsing a 'target' argument that checks for string/DOM/jQUERY\n    this.meta.colors = {};\n\n    if (settings) {\n      this.meta.attribute = settings.attribute || 'nexus-ui';\n      this.meta.title = settings.name || false;\n      this.meta.open = settings.open || false;\n    } else {\n      this.meta.attribute = 'nexus-ui';\n      this.meta.title = false;\n      this.meta.open = false;\n    }\n\n    let defaultColors = colors(); // jshint ignore:line\n    this.meta.colors.accent = defaultColors.accent;\n    this.meta.colors.fill = defaultColors.fill;\n    this.meta.colors.light = defaultColors.light;\n    this.meta.colors.dark = defaultColors.dark;\n    this.meta.colors.mediumLight = defaultColors.mediumLight;\n    this.meta.colors.mediumDark = defaultColors.mediumDark;\n    this.buildInterface();\n    this.colorInterface();\n  }\n\n  buildInterface() {\n    this.meta.parent.style.boxSizing = 'border-box';\n    this.meta.parent.style.userSelect = 'none';\n    this.meta.parent.style.mozUserSelect = 'none';\n    this.meta.parent.style.webkitUserSelect = 'none';\n\n    this.meta.contents = document.createElement('div');\n\n    while (this.meta.parent.childNodes.length > 0) {\n        this.meta.contents.appendChild(this.meta.parent.childNodes[0]);\n    }\n\n    this.meta.contents.style.padding = '0px';\n    this.meta.contents.style.boxSizing = 'border-box';\n\n    if (this.meta.title) {\n      this.meta.titleBar = document.createElement('div');\n      this.meta.titleBar.innerHTML = this.meta.title;\n      this.meta.titleBar.style.fontFamily = 'arial';\n      this.meta.titleBar.style.position = 'relative';\n      this.meta.titleBar.style.color = '#888';\n      this.meta.titleBar.style.padding = '7px';\n      this.meta.titleBar.style.fontSize = '12px';\n\n      this.meta.button = document.createElement('div');\n      this.meta.button.style.position = 'absolute';\n      this.meta.button.style.top = '5px' ;\n      this.meta.button.style.right = '5px' ;\n      this.meta.button.innerHTML = '-';\n      this.meta.button.style.padding = '0px 5px 2px';\n      this.meta.button.style.lineHeight = '12px';\n      this.meta.button.style.fontSize = '15px';\n\n      this.meta.button.style.cursor = 'pointer';\n\n      this.meta.button.addEventListener('mouseover', () => {\n        this.meta.button.style.backgroundColor = this.meta.colors.mediumDark;\n      });\n      this.meta.button.addEventListener('mouseleave', () => {\n        this.meta.button.style.backgroundColor = this.meta.colors.mediumLight;\n      });\n      this.meta.button.addEventListener('click', () => {\n        if (this.meta.open) {\n          this.hide();\n        } else {\n          this.show();\n        }\n      });\n\n\n      this.meta.titleBar.appendChild(this.meta.button);\n\n      this.meta.parent.appendChild(this.meta.titleBar);\n    }\n    this.meta.parent.appendChild(this.meta.contents);\n\n  //  var width = this.meta.parent.style.width = getComputedStyle(this.meta.parent).getPropertyValue('width');\n//    this.meta.parent.style.width = width;\n\n    let ui = transform.section(this.meta.target, this.meta.attribute);\n    for (var key in ui) {\n      this[key] = ui[key];\n    }\n  }\n\n  colorInterface() {\n    if (this.meta.title) {\n      this.meta.button.style.backgroundColor = this.meta.colors.mediumLight;\n      this.meta.button.style.border = 'solid 0px '+this.meta.colors.fill;\n      this.meta.parent.style.border = 'solid 1px '+this.meta.colors.mediumLight;\n      this.meta.parent.style.backgroundColor = this.meta.colors.light;\n      this.meta.titleBar.style.backgroundColor = this.meta.colors.fill;\n    }\n  }\n\n  show() {\n    this.meta.contents.style.display = 'block';\n    this.meta.open = true;\n  }\n\n  hide() {\n    this.meta.contents.style.display = 'none';\n    this.meta.open = false;\n  }\n\n  colorize(type,color) {\n    for (var key in this) {\n      if (this[key].colorize) {\n        this[key].colorize(type,color);\n      }\n    }\n    this.meta.colors[type] = color;\n    this.colorInterface();\n  }\n\n  empty() {\n    for (var key in this) {\n      if (this[key].destroy) {\n        this[key].destroy();\n      }\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/core/rack.js","'use strict';\n\nimport dom from '../util/dom';\nimport Interfaces from '../interfaces/';\n\nlet createInterfaceID = (widget,interfaceIDs) => {\n  let type = widget.type;\n  if (interfaceIDs[type]) {\n    interfaceIDs[type]++;\n  } else {\n    interfaceIDs[type] = 1;\n  }\n  return ( type + interfaceIDs[type] );\n};\n\nlet element = (element,type,options) => {\n  options = options || {};\n  for (let i = 0; i < element.attributes.length; i++){\n    let att = element.attributes[i];\n  //  try {\n  //    options[att.nodeName] = eval(att.nodeValue);\n  //  } catch(e) {\n      options[att.nodeName] = att.nodeValue;\n  //  }\n  }\n  type = type[0].toUpperCase() + type.slice(1);\n  let widget = new Interfaces[type](element,options);\n  widget.id = element.id;\n  return widget;\n};\n\n\nlet section = (parent,keyword) => {\n\n  keyword = keyword || 'nexus-ui';\n\n  let interfaceIDs = {};\n\n  let container = dom.parseElement(parent);\n\n  let ui = {};\n\n  let htmlElements = container.getElementsByTagName('*');\n  let elements = [];\n  for (let i=0; i<htmlElements.length; i++) {\n    elements.push(htmlElements[i]);\n  }\n  for (let i=0;i<elements.length;i++) {\n    let type = elements[i].getAttribute(keyword);\n    if (type) {\n      let formattedType = false;\n      for (let key in Interfaces) {\n        if (type.toLowerCase()===key.toLowerCase()) {\n          formattedType = key;\n        }\n      }\n      console.log(formattedType);\n      let widget = element(elements[i],formattedType);\n      if (widget.id) {\n        ui[widget.id] = widget;\n      } else {\n        let id = createInterfaceID(widget,interfaceIDs);\n        ui[id] = widget;\n      }\n    }\n  }\n\n  return ui;\n\n};\n\nlet add = (type,parent,options) => {\n  let target = document.createElement('div');\n  options = options || {};\n  if (parent) {\n    parent = dom.parseElement(parent);\n  } else {\n    parent = document.body;\n  }\n  parent.appendChild(target);\n  options.target = target;\n  if (options.size) {\n    target.style.width = options.size[0] + 'px';\n    target.style.height = options.size[1] + 'px';\n  }\n  return element(target,type,options);\n};\n\nexport { element };\nexport { section };\nexport { add };\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/util/transform.js","'use strict';\n\nimport math from '../util/math';\n\nexport default class Tune {\n  constructor() {\n    // the scale as ratios\n    this.scale = [];\n\n    // i/o modes\n    this.mode = {\n      output: 'frequency',\n      input: 'step'\n    };\n\n    // ET major\n    this.etmajor = [\n      261.62558,\n      293.664764,\n      329.627563,\n      349.228241,\n      391.995422,\n      440,\n      493.883301,\n      523.25116\n    ];\n\n    // Root frequency.\n    this.root = math.mtof(60); // * Math.pow(2,(60-69)/12);\n\n    // default is a major scale\n    this.createScale(0, 2, 4, 5, 7, 9, 11);\n  }\n\n  /* Return data in the mode you are in (freq, ratio, or midi) */\n  note(input, octave) {\n    let newvalue;\n\n    if (this.mode.output === 'frequency') {\n      newvalue = this.frequency(input, octave);\n    } else if (this.mode.output === 'ratio') {\n      newvalue = this.ratio(input, octave);\n    } else if (this.mode.output === 'MIDI') {\n      newvalue = this.MIDI(input, octave);\n    } else {\n      newvalue = this.frequency(input, octave);\n    }\n\n    return newvalue;\n  }\n\n  /* Return freq data */\n  frequency(stepIn, octaveIn) {\n    if (this.mode.input === 'midi' || this.mode.input === 'MIDI') {\n      this.stepIn += 60;\n    }\n\n    // what octave is our input\n    let octave = Math.floor(stepIn / this.scale.length);\n\n    if (octaveIn) {\n      octave += octaveIn;\n    }\n\n    // which scale degree (0 - scale length) is our input\n    let scaleDegree = stepIn % this.scale.length;\n\n    while (scaleDegree < 0) {\n      scaleDegree += this.scale.length;\n    }\n\n    let ratio = this.scale[scaleDegree];\n\n    let freq = this.root * ratio;\n\n    freq = freq * Math.pow(2, octave);\n\n    // truncate irrational numbers\n    freq = Math.floor(freq * 100000000000) / 100000000000;\n\n    return freq;\n  }\n\n  /* Force return ratio data */\n\n  ratio(stepIn, octaveIn) {\n    if (this.mode.input === 'midi' || this.mode.input === 'MIDI') {\n      this.stepIn += 60;\n    }\n\n    // what octave is our input\n    let octave = Math.floor(stepIn / this.scale.length);\n\n    if (octaveIn) {\n      octave += octaveIn;\n    }\n\n    // which scale degree (0 - scale length) is our input\n    let scaleDegree = stepIn % this.scale.length;\n\n    // what ratio is our input to our key\n    let ratio = Math.pow(2, octave) * this.scale[scaleDegree];\n\n    ratio = Math.floor(ratio * 100000000000) / 100000000000;\n\n    return ratio;\n  }\n\n  /* Force return adjusted MIDI data */\n\n  MIDI(stepIn, octaveIn) {\n    let newvalue = this.frequency(stepIn, octaveIn);\n\n    let n = 69 + (12 * Math.log(newvalue / 440)) / Math.log(2);\n\n    n = Math.floor(n * 1000000000) / 1000000000;\n\n    return n;\n  }\n\n  createScale() {\n    let newScale = [];\n    for (let i = 0; i < arguments.length; i++) {\n      newScale.push(math.mtof(60 + arguments[i]));\n    }\n    this.loadScaleFromFrequencies(newScale);\n  }\n\n  createJIScale() {\n    this.scale = [];\n    for (let i = 0; i < arguments.length; i++) {\n      this.scale.push(arguments[i]);\n    }\n  }\n\n  loadScaleFromFrequencies(freqs) {\n    this.scale = [];\n    for (let i = 0; i < freqs.length; i++) {\n      this.scale.push(freqs[i] / freqs[0]);\n    }\n  }\n\n  /* Load a new scale */\n\n  loadScale(name) {\n    /* load the scale */\n    let freqs = this.scales[name].frequencies;\n    this.loadScaleFromFrequencies(freqs);\n  }\n\n  /* Search the names of tunings\n  \t Returns an array of names of tunings */\n\n  search(letters) {\n    let possible = [];\n    for (let key in this.scales) {\n      if (key.toLowerCase().indexOf(letters.toLowerCase()) !== -1) {\n        possible.push(key);\n      }\n    }\n    return possible;\n  }\n\n  /* Return a collection of notes as an array */\n\n  chord(midis) {\n    let output = [];\n    for (let i = 0; i < midis.length; i++) {\n      output.push(this.note(midis[i]));\n    }\n    return output;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/tuning/tuning.js","'use strict';\n\n//Disable jshint warning concerning trailing regular params\n/*jshint -W138 */\n\nexport default class Radio {\n    //if non-existent buttons are switched, they are ignored\n\n    constructor(length = 3, ...onVals) {\n        //each optional 'onVals' argument switches on that value in the Radio if it exists\n        //In the example below, a 3-button radio is created, index 0 is switched on, index 1 is switched on then then attempted again producing an warning, and the final argument produces a warning because the index value does not exist.\n        //Example:\n        //`  radio = new Radio(3, 0, 1, 1, 3);\n        //  [1,1,0]\n\n        if (length < 0) { length = 1; }\n\n        this.length = length;\n        this.onVals = onVals;\n        this.array = new Array(length).fill(0);\n\n        if (onVals.length > 0) {\n            this.on(...onVals);\n        }\n    }\n\n    select(value) {\n        this.array.fill(0);\n        this.array[value] = 1;\n        return this.array;\n    }\n\n    flip(...values) {\n        //flips the specified values. if no value is specified, flips all buttons\n        let a = this.array;\n        if (values.length > 0) {\n            values.forEach(function(v) {\n                if (v > a.length - 1) {\n                    console.warn('Warning: AnonRadio[' + v + '] does not exist');\n                } else {\n                    a[v] = (a[v] ? 0 : 1);\n                }\n            });\n        } else {\n            a.forEach(function(v, i, arr) {\n                arr[i] = (v ? 0 : 1);\n            });\n        }\n        return a;\n    }\n\n    on(...values) {\n        //switch on the specified values. if no value specified, flips on all buttons\n        let a = this.array;\n        if (values.length > 0) {\n            values.forEach(function(v) {\n                if (v > a.length - 1) {\n                    console.warn('Warning: AnonRadio[' + v + '] exceeds size of object');\n                } else {\n                    if (a[v] === 1) { console.warn('Warning: AnonRadio[' + v + '] was already on.'); }\n                    a[v] = 1;\n                }\n            });\n        } else {\n            a.fill(1);\n        }\n        return a;\n    }\n\n    off(...values) {\n        //switch off the specified values. if no value specified, flips off all buttons\n        let a = this.array;\n        if (values.length > 0) {\n            values.forEach(function(v) {\n                a[v] = 0;\n            });\n        } else {\n            a.fill(0);\n        }\n        return a;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./lib/models/radio.js","var WAAClock = require('./lib/WAAClock')\n\nmodule.exports = WAAClock\nif (typeof window !== 'undefined') window.WAAClock = WAAClock\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/waaclock/index.js\n// module id = 42\n// module chunks = 0","var isBrowser = (typeof window !== 'undefined')\n\nvar CLOCK_DEFAULTS = {\n  toleranceLate: 0.10,\n  toleranceEarly: 0.001\n}\n\n// ==================== Event ==================== //\nvar Event = function(clock, deadline, func) {\n  this.clock = clock\n  this.func = func\n  this._cleared = false // Flag used to clear an event inside callback\n\n  this.toleranceLate = clock.toleranceLate\n  this.toleranceEarly = clock.toleranceEarly\n  this._latestTime = null\n  this._earliestTime = null\n  this.deadline = null\n  this.repeatTime = null\n\n  this.schedule(deadline)\n}\n\n// Unschedules the event\nEvent.prototype.clear = function() {\n  this.clock._removeEvent(this)\n  this._cleared = true\n  return this\n}\n\n// Sets the event to repeat every `time` seconds.\nEvent.prototype.repeat = function(time) {\n  if (time === 0)\n    throw new Error('delay cannot be 0')\n  this.repeatTime = time\n  if (!this.clock._hasEvent(this))\n    this.schedule(this.deadline + this.repeatTime)\n  return this\n}\n\n// Sets the time tolerance of the event.\n// The event will be executed in the interval `[deadline - early, deadline + late]`\n// If the clock fails to execute the event in time, the event will be dropped.\nEvent.prototype.tolerance = function(values) {\n  if (typeof values.late === 'number')\n    this.toleranceLate = values.late\n  if (typeof values.early === 'number')\n    this.toleranceEarly = values.early\n  this._refreshEarlyLateDates()\n  if (this.clock._hasEvent(this)) {\n    this.clock._removeEvent(this)\n    this.clock._insertEvent(this)\n  }\n  return this\n}\n\n// Returns true if the event is repeated, false otherwise\nEvent.prototype.isRepeated = function() { return this.repeatTime !== null }\n\n// Schedules the event to be ran before `deadline`.\n// If the time is within the event tolerance, we handle the event immediately.\n// If the event was already scheduled at a different time, it is rescheduled.\nEvent.prototype.schedule = function(deadline) {\n  this._cleared = false\n  this.deadline = deadline\n  this._refreshEarlyLateDates()\n\n  if (this.clock.context.currentTime >= this._earliestTime) {\n    this._execute()\n  \n  } else if (this.clock._hasEvent(this)) {\n    this.clock._removeEvent(this)\n    this.clock._insertEvent(this)\n  \n  } else this.clock._insertEvent(this)\n}\n\nEvent.prototype.timeStretch = function(tRef, ratio) {\n  if (this.isRepeated())\n    this.repeatTime = this.repeatTime * ratio\n\n  var deadline = tRef + ratio * (this.deadline - tRef)\n  // If the deadline is too close or past, and the event has a repeat,\n  // we calculate the next repeat possible in the stretched space.\n  if (this.isRepeated()) {\n    while (this.clock.context.currentTime >= deadline - this.toleranceEarly)\n      deadline += this.repeatTime\n  }\n  this.schedule(deadline)\n}\n\n// Executes the event\nEvent.prototype._execute = function() {\n  if (this.clock._started === false) return\n  this.clock._removeEvent(this)\n\n  if (this.clock.context.currentTime < this._latestTime)\n    this.func(this)\n  else {\n    if (this.onexpired) this.onexpired(this)\n    console.warn('event expired')\n  }\n  // In the case `schedule` is called inside `func`, we need to avoid\n  // overrwriting with yet another `schedule`.\n  if (!this.clock._hasEvent(this) && this.isRepeated() && !this._cleared)\n    this.schedule(this.deadline + this.repeatTime) \n}\n\n// Updates cached times\nEvent.prototype._refreshEarlyLateDates = function() {\n  this._latestTime = this.deadline + this.toleranceLate\n  this._earliestTime = this.deadline - this.toleranceEarly\n}\n\n// ==================== WAAClock ==================== //\nvar WAAClock = module.exports = function(context, opts) {\n  var self = this\n  opts = opts || {}\n  this.tickMethod = opts.tickMethod || 'ScriptProcessorNode'\n  this.toleranceEarly = opts.toleranceEarly || CLOCK_DEFAULTS.toleranceEarly\n  this.toleranceLate = opts.toleranceLate || CLOCK_DEFAULTS.toleranceLate\n  this.context = context\n  this._events = []\n  this._started = false\n}\n\n// ---------- Public API ---------- //\n// Schedules `func` to run after `delay` seconds.\nWAAClock.prototype.setTimeout = function(func, delay) {\n  return this._createEvent(func, this._absTime(delay))\n}\n\n// Schedules `func` to run before `deadline`.\nWAAClock.prototype.callbackAtTime = function(func, deadline) {\n  return this._createEvent(func, deadline)\n}\n\n// Stretches `deadline` and `repeat` of all scheduled `events` by `ratio`, keeping\n// their relative distance to `tRef`. In fact this is equivalent to changing the tempo.\nWAAClock.prototype.timeStretch = function(tRef, events, ratio) {\n  events.forEach(function(event) { event.timeStretch(tRef, ratio) })\n  return events\n}\n\n// Removes all scheduled events and starts the clock \nWAAClock.prototype.start = function() {\n  if (this._started === false) {\n    var self = this\n    this._started = true\n    this._events = []\n\n    if (this.tickMethod === 'ScriptProcessorNode') {\n      var bufferSize = 256\n      // We have to keep a reference to the node to avoid garbage collection\n      this._clockNode = this.context.createScriptProcessor(bufferSize, 1, 1)\n      this._clockNode.connect(this.context.destination)\n      this._clockNode.onaudioprocess = function () {\n        process.nextTick(function() { self._tick() })\n      }\n    } else if (this.tickMethod === 'manual') null // _tick is called manually\n\n    else throw new Error('invalid tickMethod ' + this.tickMethod)\n  }\n}\n\n// Stops the clock\nWAAClock.prototype.stop = function() {\n  if (this._started === true) {\n    this._started = false\n    this._clockNode.disconnect()\n  }  \n}\n\n// ---------- Private ---------- //\n\n// This function is ran periodically, and at each tick it executes\n// events for which `currentTime` is included in their tolerance interval.\nWAAClock.prototype._tick = function() {\n  var event = this._events.shift()\n\n  while(event && event._earliestTime <= this.context.currentTime) {\n    event._execute()\n    event = this._events.shift()\n  }\n\n  // Put back the last event\n  if(event) this._events.unshift(event)\n}\n\n// Creates an event and insert it to the list\nWAAClock.prototype._createEvent = function(func, deadline) {\n  return new Event(this, deadline, func)\n}\n\n// Inserts an event to the list\nWAAClock.prototype._insertEvent = function(event) {\n  this._events.splice(this._indexByTime(event._earliestTime), 0, event)\n}\n\n// Removes an event from the list\nWAAClock.prototype._removeEvent = function(event) {\n  var ind = this._events.indexOf(event)\n  if (ind !== -1) this._events.splice(ind, 1)\n}\n\n// Returns true if `event` is in queue, false otherwise\nWAAClock.prototype._hasEvent = function(event) {\n return this._events.indexOf(event) !== -1\n}\n\n// Returns the index of the first event whose deadline is >= to `deadline`\nWAAClock.prototype._indexByTime = function(deadline) {\n  // performs a binary search\n  var low = 0\n    , high = this._events.length\n    , mid\n  while (low < high) {\n    mid = Math.floor((low + high) / 2)\n    if (this._events[mid]._earliestTime < deadline)\n      low = mid + 1\n    else high = mid\n  }\n  return low\n}\n\n// Converts from relative time to absolute time\nWAAClock.prototype._absTime = function(relTime) {\n  return relTime + this.context.currentTime\n}\n\n// Converts from absolute time to relative time \nWAAClock.prototype._relTime = function(absTime) {\n  return absTime - this.context.currentTime\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/waaclock/lib/WAAClock.js\n// module id = 43\n// module chunks = 0","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/process/browser.js\n// module id = 44\n// module chunks = 0"],"names":["root","factory","$bab0ed338d149831$exports","modules","installedModules","__webpack_require__","moduleId","exports","module","id","loaded","call","m","c","p","NexusUI","colors","Nexus","context","clock","Interfaces","_interopRequire","math","Rack","Tune","Transform","Counter","Radio","Drunk","Sequence","Matrix","WAAClock","Interval","key","_classCallCheck","this","Core","Models","DefaultContext","window","AudioContext","webkitAudioContext","_context","tune","note","bind","start","accent","fill","light","dark","mediumLight","mediumDark","transform","add","Add","defaultStyleNode","document","createElement","type","innerHTML","h","head","insertBefore","firstElementChild","_createClass","get","set","ctx","stop","Position","Slider","Toggle","Button","TextButton","RadioButton","Number","Select","Dial","Piano","Sequencer","Pan2D","Tilt","Multislider","Pan","Envelope","Spectrogram","Meter","Oscilloscope","svg","Interface","Step","Interaction","Position1","_Interface","options","defaults","size","mode","minX","maxX","stepX","x","minY","maxY","stepY","y","_get","Object","getPrototypeOf","prototype","arguments","_x","settings","_y","position","Handle","width","height","value","normalized","init","render","_inherits","buildInterface","knob","create","element","appendChild","sizeInterface","resize","_minDimension","Math","min","knobRadius","off","on","setAttribute","colorInterface","style","backgroundColor","clicked","knobCoordinates","click","anchor","mouse","move","update","updateNormal","emit","release","v","max","step","createElementNS","arc","radius","startAngle","endAngle","toCartesian","end","largeArcFlag","join","radialGradient","defs","numberOfStops","ri","stops","gradient","i","_stop","push","clip","normalize","scale","inNum","inMin","inMax","outMin","outMax","toPolar","r","sqrt","theta","atan2","PI","angle","cos","sin","prune","data","parseFloat","toFixed","invert","mtof","midi","pow","interp","loc","pick","random","length","octave","num","bound1","bound2","low","high","floor","rf","cycle","input","average","total","distance","x1","y1","x2","y2","a","b","gainToDB","gain","log10","coin","odds","undefined","dom","util","touch","EventEmitter","Interface1","_EventEmitter","args","constructor","name","parseSettings","wait","defaultColors","unshift","defaultSize","splice","target","body","snapWithParent","event","component","setting","isObject","parent","parseElement","HTMLElement","hasAttribute","Array","isArray","getComputedStyle","getPropertyValue","replace","buildFrame","attachListeners","finalTouches","interactionTarget","exists","addEventListener","evt","_this","preTouch","preTouchMove","preTouchRelease","boundPreMove","preMove","boundPreRelease","preRelease","preClick","cursor","e","offset","findPosition","locateMouse","moveEvent","releaseEvent","preventDefault","stopPropagation","setTimeout","removeEventListener","locateTouch","touchMove","touchRelease","empty","lastChild","removeChild","destroy","removeAllListeners","instrument","customDestroy","colorize","color","el","viewportOffset","getBoundingClientRect","top","scrollY","left","scrollX","getElementById","SVGElement","pageX","pageY","targetTouches","SmartCanvas","getContext","w","obj","setInputFilter","textbox","inputFilter","forEach","oldValue","oldSelectionStart","selectionStart","oldSelectionEnd","selectionEnd","hasOwnProperty","setSelectionRange","documentElement","_events","_maxListeners","isFunction","arg","isUndefined","defaultMaxListeners","setMaxListeners","n","isNaN","TypeError","er","handler","len","listeners","error","Error","err","slice","apply","addListener","listener","newListener","warned","console","trace","once","fired","g","removeListener","list","listenerCount","evlistener","emitter","Step1","changed","round","ToggleModel","direction","xbound","ybound","previous","sensitivity","boundary","center","_anchor","convertPositionToValue","increment","abs","current","state","paintbrush","timeout","clearTimeout","turnOn","flip","turnOff","Toggle1","Slider1","orientation","_value","bar","fillbar","barOffset","cornerRadius","knobData","level","thickness","Toggle2","_state","knobSize","Button2","_ButtonTemplate","pad","ButtonTemplate1","ButtonTemplate","down","bend","up","emitting","TextButton1","text","_text","alternate","alternateText","warn","_alternateText","textElement","textsize","textsize2","textsize3","styles","cssText","RadioButton1","numberOfButtons","active","buttons","_numberOfButtons","container","button","buttonWidth","buttonHeight","index","select","deselect","Number1","decimalPlaces","actual","test","which","blur","hasMoved","readOnly","initial","changeFactor","newvalue","focus","link","destination","passiveUpdate","Select1","_selectedIndex","_options","fontSize","outline","highlight","boundRender","defineOptions","border","selectedIndex","remove","Option","Dial1","interaction","previousAngle","background","screw","handle","handle2","handleFill","handle2Fill","handleLine","diameter","handlePoints","handle2Points","handlePath","handle2Path","arcEndingA","arcEndingX","arcEndingY","realValue","touch1","PianoKey1","PianoKey","piano","interacting","Piano1","lowNote","highNote","keyPattern","range","keys","toggleTo","borderRadius","display","scaleIndex","keyChange","addTouchListeners","keyX","keyPositions","nextScaleIndex","keysWide","padding","zIndex","allActiveTouches","updateKeyState","allActiveKeys","elementFromPoint","clientX","clientY","handleTouchStartAndMove","changedTouches","_touch","identifier","setRange","toggleKey","toggleIndex","MatrixModel","CounterModel","MatrixCell1","MatrixCell","paddingRow","paddingColumn","row","column","matrix","Sequencer1","rows","columns","interval","ui","stepper","cells","_location","locate","cell","cellWidth","cellHeight","iterate","pattern","ms","next","reverse","currentElement","Matrix1","toggle","all","values","rotate","amount","cut","concat","proxy","populate","oddsSequence","erase","arr","f","f2","formatAsText","patternString","log","indexOf","Sequence1","sequence","_mode","drunkWalk","startValues","drunk","first","Drunk1","loop","Counter1","Interval1","rate","func","_event","clear","callbackAtTime","currentTime","repeat","tolerance","early","late","newrate","ratio","timeStretch","Pan2D1","speakers","levels","calculateLevels","speakerElements","speakerElement","speaker","s","moveSource","location","moveSpeaker","Tilt1","_active","boundUpdate","DeviceOrientationEvent","orientationListener","title","circleX","circleY","circleZ","barX","barY","barZ","barX2","barY2","barZ2","textContent","beta","gamma","z","alpha","cx","baseVal","cy","Multislider1","numberOfSliders","candycane","smoothing","_numberOfSliders","_min","_max","_step","vs","sliderWidth","line","nodes","node","getX","getY","bars","caps","getBarX","cap","getValueFromY","scaleAdjusted","adjustValueToStep","getIndexFromX","adjustAllValues","getNormalizedValues","normalizedValues","previousSlider","selectedSlider","lowValue","highValue","_i","downCenter","upCenter","downLowerNeighbor","downUpperNeighbor","upLowerNeighbor","upUpperNeighbor","scan","setSlider","setAllSliders","previousLength","newLength","Pan1","hasKnob","L","R","Point","point","envelope","xMin","xMax","yMin","yMax","prevIndex","nextIndex","prevNode","nextNode","lowX","highX","getCoordinates","Envelope1","noNewPoints","points","selected","sortPoints","calculatePath","calculatePoints","findNearestNode","scaleNode","nearestIndex","nearestDist","clippedX","clippedY","sort","addPoint","priorIndex","priorPoint","nextPoint","movePoint","adjustPoint","xOffset","yOffset","destroyPoint","setPoints","allPoints","Spectrogram1","analyser","bufferLength","dataArray","source","canvas","requestAnimationFrame","getByteFrequencyData","fillStyle","fillRect","barWidth","barHeight","definition","subarray","connect","disconnect","createAnalyser","fftSize","frequencyBinCount","Uint8Array","Meter1","channels","splitter","analysers","db","meterWidth","getFloatTimeDomainData","rms","linear","exp","channelCount","createChannelSplitter","smoothingTimeConstant","Float32Array","Oscilloscope1","getByteTimeDomainData","lineWidth","strokeStyle","beginPath","sliceWidth","moveTo","lineTo","stroke","Rack1","meta","attribute","open","boxSizing","userSelect","mozUserSelect","webkitUserSelect","contents","childNodes","titleBar","fontFamily","right","lineHeight","hide","show","section","createInterfaceID","widget","interfaceIDs","element1","attributes","att","nodeName","nodeValue","toUpperCase","keyword","htmlElements","getElementsByTagName","elements","getAttribute","formattedType","toLowerCase","Tune1","output","etmajor","createScale","frequency","MIDI","stepIn","octaveIn","scaleDegree","freq","newScale","loadScaleFromFrequencies","createJIScale","freqs","loadScale","scales","frequencies","search","letters","possible","chord","midis","Radio1","_len","onVals","_key","array","process","CLOCK_DEFAULTS","Event","deadline","_cleared","toleranceLate","toleranceEarly","_latestTime","_earliestTime","repeatTime","schedule","_removeEvent","time","_hasEvent","_refreshEarlyLateDates","_insertEvent","isRepeated","_execute","tRef","_started","onexpired","opts","tickMethod","delay","_createEvent","_absTime","events","self","_clockNode","createScriptProcessor","onaudioprocess","nextTick","_tick","shift","_indexByTime","ind","mid","relTime","_relTime","absTime","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","e1","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","run","marker","runClearTimeout","Item","noop","browser","env","argv","version","versions","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","define","amd"],"version":3,"file":"index.80b90a1b.js.map"}